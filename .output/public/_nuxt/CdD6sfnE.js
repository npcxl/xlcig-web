import{_ as H}from"./DYvj3SeZ.js";import{_ as Q}from"./R13bP64g.js";import{l as u,h as w,e as Y,c as o,a as e,E as b,b as k,w as S,d as p,t as i,F as j,I as L,L as G,q as d,K as c,H as K,J as M,o as r,G as z}from"./-_uPjKn3.js";import{u as R}from"./CKbMDZ6y.js";import{aq as W}from"./4kkTLsQ6.js";const X={class:"min-h-screen bg-gradient-to-br from-gray-900 via-slate-900 to-black relative overflow-hidden"},Z={class:"relative z-10"},ee={class:"container mx-auto px-6 py-6"},te={class:"glass-card-dark rounded-2xl p-6 border border-cyan-500/30 shadow-2xl shadow-cyan-500/20"},se={class:"flex items-center justify-between"},le={class:"flex items-center space-x-6"},oe={class:"text-sm text-gray-400"},re={class:"container mx-auto px-6 py-8 relative z-10"},ae={class:"grid lg:grid-cols-3 gap-8"},ne={class:"lg:col-span-2 space-y-8"},ie={class:"glass-card-dark rounded-2xl border border-cyan-500/30 shadow-2xl shadow-cyan-500/20"},de={class:"px-8 py-6 border-b border-gray-700/50"},ce={class:"text-gray-300 mt-2"},ue={class:"p-8"},be={key:0,class:"text-center py-12"},pe={key:1,class:"space-y-6"},ge={class:"w-24 h-24 bg-gray-700/50 rounded-lg overflow-hidden"},xe=["src","alt"],ye={class:"flex-1"},me={class:"font-semibold text-white text-lg mb-1"},ve={class:"text-gray-400 text-sm mb-2"},fe={class:"flex items-center gap-4"},he={class:"text-2xl font-bold text-cyan-400"},we={key:0,class:"text-sm text-gray-500 line-through"},ke={class:"flex items-center gap-3"},_e=["onClick"],Ce={class:"w-12 text-center text-white font-semibold text-lg"},Ne=["onClick"],Se=["onClick"],Ve={key:0,class:"glass-card-dark rounded-2xl border border-cyan-500/30 shadow-2xl shadow-cyan-500/20"},qe={class:"p-8"},Ie={class:"grid md:grid-cols-2 gap-6"},Ue={class:"grid md:grid-cols-3 gap-6"},je={key:1,class:"glass-card-dark rounded-2xl border border-cyan-500/30 shadow-2xl shadow-cyan-500/20"},Le={class:"p-8"},Me={class:"grid md:grid-cols-3 gap-4 mb-6"},ze=["onClick"],De={class:"font-semibold"},Oe={class:"text-sm opacity-75 mt-1"},$e={key:0,class:"space-y-6"},Ee={class:"grid md:grid-cols-3 gap-6"},Pe={class:"md:col-span-2"},Te={key:1,class:"text-center py-8"},Je={key:2,class:"text-center py-8"},Ae={class:"lg:col-span-1"},Be={class:"glass-card-dark rounded-2xl border border-cyan-500/30 shadow-2xl shadow-cyan-500/20 sticky top-6"},Fe={class:"p-8 space-y-6"},He={class:"space-y-4"},Qe={class:"flex justify-between items-center"},Ye={class:"text-white font-semibold"},Ge={class:"flex justify-between items-center"},Ke={class:"text-white font-semibold"},Re={class:"flex justify-between items-center"},We={class:"text-white font-semibold"},Xe={class:"border-t border-gray-700/50 pt-4"},Ze={class:"flex justify-between items-center"},et={class:"text-2xl font-bold text-cyan-400"},tt={key:0},st={class:"flex gap-2"},lt={key:0,class:"mt-2 text-green-400 text-sm flex items-center gap-1"},ot=["disabled"],rt={key:0,class:"bi bi-credit-card"},at={key:1,class:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"},nt={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"},it={class:"glass-card-dark rounded-2xl border border-green-500/30 shadow-2xl shadow-green-500/20 p-8 max-w-md w-full text-center"},dt={class:"text-gray-300 mb-2"},yt={__name:"checkout",setup(ct){const{message:D}=W(["message"]),O=l=>{D.error(l,{duration:4e3})},a=u([]),x=u(!1),v=u(!1),V=u(""),n=u({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:""}),y=u("card"),g=u({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),f=u(""),_=u(""),$=u([{id:"card",name:"银行卡支付",description:"银联、Visa、万事达",icon:"bi-credit-card"},{id:"alipay",name:"支付宝",description:"使用支付宝支付",icon:"bi-wallet2"},{id:"wechat",name:"微信支付",description:"微信扫码支付",icon:"bi-wechat"}]),h=w(()=>a.value.reduce((l,t)=>l+t.price*t.quantity,0)),q=w(()=>h.value>1e3?0:50),I=w(()=>Math.round(h.value*.08)),E=w(()=>h.value+q.value+I.value),P=l=>{a.value=a.value.filter(t=>t.id!==l),localStorage.setItem("cartItems",JSON.stringify(a.value))},T=l=>{const t=a.value.find(m=>m.id===l);t&&(t.quantity++,localStorage.setItem("cartItems",JSON.stringify(a.value)))},J=l=>{const t=a.value.find(m=>m.id===l);t&&t.quantity>1&&(t.quantity--,localStorage.setItem("cartItems",JSON.stringify(a.value)))},A=()=>{["SAVE10","WELCOME20","TECH15"].includes(f.value.toUpperCase())?_.value=f.value.toUpperCase():O("优惠券代码无效")},U=async()=>{if(a.value.length!==0){x.value=!0;try{await new Promise(l=>setTimeout(l,2e3)),V.value="ORD"+Date.now().toString().slice(-8),a.value=[],localStorage.removeItem("cartItems"),v.value=!0}catch(l){console.error("订单提交失败:",l),l("订单提交失败，请重试。")}finally{x.value=!1}}},B=()=>{v.value=!1,M("/orders")},F=()=>{v.value=!1,M("/products")};return Y(()=>{const l=localStorage.getItem("cartItems");l&&(a.value=JSON.parse(l))}),R({title:"购物车结算 - xlCig",meta:[{name:"description",content:"安全快捷的购物车结算流程，支持多种支付方式"}]}),(l,t)=>{const m=H,C=Q;return r(),o("div",X,[t[56]||(t[56]=e("div",{class:"fixed inset-0 pointer-events-none"},[e("div",{class:"absolute top-20 left-20 w-96 h-96 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full filter blur-3xl animate-pulse"}),e("div",{class:"absolute bottom-20 right-20 w-80 h-80 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-full filter blur-3xl animate-pulse delay-1000"}),e("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-gradient-to-r from-indigo-500/10 to-cyan-500/10 rounded-full filter blur-3xl animate-spin-slow"})],-1)),e("nav",Z,[e("div",ee,[e("div",te,[e("div",se,[e("div",le,[k(m,{size:"medium","show-decorations":!1}),t[15]||(t[15]=e("div",{class:"h-6 w-px bg-gray-600"},null,-1)),e("button",{onClick:t[0]||(t[0]=s=>l.$router.go(-1)),class:"inline-flex items-center text-cyan-400 hover:text-cyan-300 transition-colors duration-200"},t[14]||(t[14]=[e("i",{class:"bi bi-arrow-left mr-2 text-lg"},null,-1),e("span",{class:"text-sm font-medium"},"返回",-1)]))]),e("nav",oe,[k(C,{to:"/",class:"hover:text-cyan-400"},{default:S(()=>t[16]||(t[16]=[p("首页")])),_:1,__:[16]}),t[18]||(t[18]=e("i",{class:"bi bi-chevron-right mx-2 text-cyan-400"},null,-1)),k(C,{to:"/products",class:"hover:text-cyan-400"},{default:S(()=>t[17]||(t[17]=[p("产品中心")])),_:1,__:[17]}),t[19]||(t[19]=e("i",{class:"bi bi-chevron-right mx-2 text-cyan-400"},null,-1)),t[20]||(t[20]=e("span",{class:"text-white font-medium"},"购物车结算",-1))])])])])]),e("div",re,[e("div",ae,[e("div",ne,[e("div",ie,[e("div",de,[t[21]||(t[21]=e("h2",{class:"text-3xl font-bold text-white flex items-center gap-3"},[e("i",{class:"bi bi-cart text-cyan-400"}),p(" 购物车 ")],-1)),e("p",ce,"购物车中有 "+i(a.value.length)+" 件商品",1)]),e("div",ue,[a.value.length===0?(r(),o("div",be,[t[23]||(t[23]=e("div",{class:"text-6xl mb-4 text-gray-500"},[e("i",{class:"bi bi-cart-x"})],-1)),t[24]||(t[24]=e("h3",{class:"text-xl font-semibold text-white mb-2"},"购物车为空",-1)),t[25]||(t[25]=e("p",{class:"text-gray-400 mb-6"},"添加一些产品来继续购物",-1)),k(C,{to:"/products",class:"inline-flex items-center px-6 py-3 bg-cyan-600 text-white font-medium rounded-lg hover:bg-cyan-500 transition-all duration-300"},{default:S(()=>t[22]||(t[22]=[e("i",{class:"bi bi-plus-circle mr-2"},null,-1),p(" 添加产品 ")])),_:1,__:[22]})])):(r(),o("div",pe,[(r(!0),o(j,null,L(a.value,s=>(r(),o("div",{key:s.id,class:"flex items-center gap-6 p-6 bg-gray-800/30 rounded-2xl border border-gray-700/30 hover:border-cyan-500/50 transition-colors duration-300"},[e("div",ge,[e("img",{src:s.image,alt:s.name,class:"w-full h-full object-contain p-2"},null,8,xe)]),e("div",ye,[e("h3",me,i(s.name),1),e("p",ve,i(s.brand),1),e("div",fe,[e("span",he,"¥"+i((s.price*7.2).toLocaleString()),1),s.originalPrice&&s.originalPrice>s.price?(r(),o("span",we," ¥"+i((s.originalPrice*7.2).toLocaleString()),1)):b("",!0)])]),e("div",ke,[e("button",{onClick:N=>J(s.id),class:"w-10 h-10 flex items-center justify-center bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors duration-200"},t[26]||(t[26]=[e("i",{class:"bi bi-dash"},null,-1)]),8,_e),e("span",Ce,i(s.quantity),1),e("button",{onClick:N=>T(s.id),class:"w-10 h-10 flex items-center justify-center bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg transition-colors duration-200"},t[27]||(t[27]=[e("i",{class:"bi bi-plus"},null,-1)]),8,Ne)]),e("button",{onClick:N=>P(s.id),class:"w-10 h-10 flex items-center justify-center bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors duration-200"},t[28]||(t[28]=[e("i",{class:"bi bi-trash"},null,-1)]),8,Se)]))),128))]))])]),a.value.length>0?(r(),o("div",Ve,[t[37]||(t[37]=e("div",{class:"px-8 py-6 border-b border-gray-700/50"},[e("h2",{class:"text-3xl font-bold text-white flex items-center gap-3"},[e("i",{class:"bi bi-person text-cyan-400"}),p(" 客户信息 ")])],-1)),e("div",qe,[e("form",{onSubmit:G(U,["prevent"]),class:"space-y-6"},[e("div",Ie,[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-white mb-2"},"姓氏",-1)),d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>n.value.firstName=s),type:"text",required:"",placeholder:"请输入姓氏",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,n.value.firstName]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-white mb-2"},"名字",-1)),d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>n.value.lastName=s),type:"text",required:"",placeholder:"请输入名字",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,n.value.lastName]])])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-white mb-2"},"电子邮箱",-1)),d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>n.value.email=s),type:"email",required:"",placeholder:"请输入邮箱地址",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,n.value.email]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-white mb-2"},"手机号码",-1)),d(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>n.value.phone=s),type:"tel",required:"",placeholder:"请输入手机号码",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,n.value.phone]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-white mb-2"},"收货地址",-1)),d(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=s=>n.value.address=s),required:"",rows:"3",placeholder:"请输入详细收货地址",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400 resize-none"},null,512),[[c,n.value.address]])]),e("div",Ue,[e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-white mb-2"},"城市",-1)),d(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>n.value.city=s),type:"text",required:"",placeholder:"请输入城市",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,n.value.city]])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-white mb-2"},"省份",-1)),d(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>n.value.state=s),type:"text",required:"",placeholder:"请输入省份",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,n.value.state]])]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-white mb-2"},"邮政编码",-1)),d(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>n.value.zipCode=s),type:"text",required:"",placeholder:"请输入邮编",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,n.value.zipCode]])])])],32)])])):b("",!0),a.value.length>0?(r(),o("div",je,[t[44]||(t[44]=e("div",{class:"px-8 py-6 border-b border-gray-700/50"},[e("h2",{class:"text-3xl font-bold text-white flex items-center gap-3"},[e("i",{class:"bi bi-credit-card text-cyan-400"}),p(" 支付方式 ")])],-1)),e("div",Le,[e("div",Me,[(r(!0),o(j,null,L($.value,s=>(r(),o("button",{key:s.id,onClick:N=>y.value=s.id,class:z(["p-6 border-2 rounded-xl transition-all duration-300 text-center",y.value===s.id?"border-cyan-500 bg-cyan-500/20 text-cyan-300":"border-gray-600/50 hover:border-cyan-500/50 text-gray-300 hover:text-white"])},[e("i",{class:z([s.icon,"text-3xl mb-3"])},null,2),e("div",De,i(s.name),1),e("div",Oe,i(s.description),1)],10,ze))),128))]),y.value==="card"?(r(),o("div",$e,[e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-white mb-2"},"银行卡号",-1)),d(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>g.value.cardNumber=s),type:"text",placeholder:"6222 0200 0000 0000",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,g.value.cardNumber]])]),e("div",Ee,[e("div",Pe,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-white mb-2"},"有效期",-1)),d(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>g.value.expiryDate=s),type:"text",placeholder:"MM/YY",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,g.value.expiryDate]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-white mb-2"},"CVV",-1)),d(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>g.value.cvv=s),type:"text",placeholder:"123",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,g.value.cvv]])])]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-white mb-2"},"持卡人姓名",-1)),d(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>g.value.cardholderName=s),type:"text",placeholder:"张三",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,g.value.cardholderName]])])])):b("",!0),y.value==="alipay"?(r(),o("div",Te,t[42]||(t[42]=[e("div",{class:"text-6xl text-blue-500 mb-4"},[e("i",{class:"bi bi-wallet2"})],-1),e("h3",{class:"text-xl font-semibold text-white mb-2"},"支付宝支付",-1),e("p",{class:"text-gray-400 mb-6"},"您将跳转到支付宝完成支付",-1)]))):b("",!0),y.value==="wechat"?(r(),o("div",Je,t[43]||(t[43]=[e("div",{class:"text-6xl text-green-500 mb-4"},[e("i",{class:"bi bi-wechat"})],-1),e("h3",{class:"text-xl font-semibold text-white mb-2"},"微信支付",-1),e("p",{class:"text-gray-400 mb-6"},"扫码支付或使用微信App支付",-1)]))):b("",!0)])])):b("",!0)]),e("div",Ae,[e("div",Be,[t[52]||(t[52]=e("div",{class:"px-8 py-6 border-b border-gray-700/50"},[e("h2",{class:"text-2xl font-bold text-white flex items-center gap-3"},[e("i",{class:"bi bi-receipt text-cyan-400"}),p(" 订单摘要 ")])],-1)),e("div",Fe,[e("div",He,[e("div",Qe,[t[45]||(t[45]=e("span",{class:"text-gray-300"},"商品小计",-1)),e("span",Ye,"¥"+i((h.value*7.2).toLocaleString()),1)]),e("div",Ge,[t[46]||(t[46]=e("span",{class:"text-gray-300"},"运费",-1)),e("span",Ke,"¥"+i((q.value*7.2).toLocaleString()),1)]),e("div",Re,[t[47]||(t[47]=e("span",{class:"text-gray-300"},"税费",-1)),e("span",We,"¥"+i((I.value*7.2).toLocaleString()),1)]),e("div",Xe,[e("div",Ze,[t[48]||(t[48]=e("span",{class:"text-xl font-semibold text-white"},"总计",-1)),e("span",et,"¥"+i((E.value*7.2).toLocaleString()),1)])])]),a.value.length>0?(r(),o("div",tt,[t[50]||(t[50]=e("label",{class:"block text-sm font-medium text-white mb-2"},"优惠券代码",-1)),e("div",st,[d(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>f.value=s),type:"text",placeholder:"输入优惠券代码",class:"flex-1 px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400 text-sm"},null,512),[[c,f.value]]),e("button",{onClick:A,class:"px-4 py-3 bg-green-600 hover:bg-green-500 text-white font-medium rounded-lg transition-colors duration-300 text-sm"}," 使用 ")]),_.value?(r(),o("div",lt,[t[49]||(t[49]=e("i",{class:"bi bi-check-circle"},null,-1)),p(' 优惠券"'+i(_.value)+'"已使用 ',1)])):b("",!0)])):b("",!0),a.value.length>0?(r(),o("button",{key:1,onClick:U,disabled:x.value,class:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 disabled:from-gray-600 disabled:to-gray-600 text-white py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-300 flex items-center justify-center gap-3 shadow-lg shadow-cyan-500/20 hover:shadow-cyan-500/40 disabled:cursor-not-allowed"},[x.value?(r(),o("div",at)):(r(),o("i",rt)),p(" "+i(x.value?"处理中...":"确认下单"),1)],8,ot)):b("",!0),t[51]||(t[51]=K('<div class="text-center pt-6 border-t border-gray-700/50"><div class="flex items-center justify-center gap-4 text-gray-400 text-sm"><div class="flex items-center gap-1"><i class="bi bi-shield-check text-green-400"></i><span>安全</span></div><div class="flex items-center gap-1"><i class="bi bi-lock text-green-400"></i><span>加密</span></div><div class="flex items-center gap-1"><i class="bi bi-award text-green-400"></i><span>认证</span></div></div></div>',1))])])])])]),v.value?(r(),o("div",nt,[e("div",it,[t[53]||(t[53]=e("div",{class:"text-6xl text-green-400 mb-6"},[e("i",{class:"bi bi-check-circle"})],-1)),t[54]||(t[54]=e("h3",{class:"text-2xl font-bold text-white mb-4"},"订单提交成功！",-1)),e("p",dt,"订单号：#"+i(V.value),1),t[55]||(t[55]=e("p",{class:"text-gray-400 mb-8"},"感谢您的购买，您将很快收到确认邮件。",-1)),e("div",{class:"space-y-3"},[e("button",{onClick:B,class:"w-full bg-green-600 hover:bg-green-500 text-white py-3 px-6 rounded-lg font-medium transition-colors duration-300"}," 查看订单 "),e("button",{onClick:F,class:"w-full border border-gray-600 hover:border-green-500 text-gray-300 hover:text-white py-3 px-6 rounded-lg font-medium transition-colors duration-300"}," 继续购物 ")])])])):b("",!0)])}}};export{yt as default};
