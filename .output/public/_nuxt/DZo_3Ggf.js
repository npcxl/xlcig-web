import{x as de,r as b,l as V,e as ue,c as r,a as e,g as ce,i as g,b as B,d as y,t as a,w as Y,F,j as T,m as D,p as i,v as c,D as pe,z as be,E as ge,q as R,o,k as O,B as ye}from"./Cr1aFJzT.js";import{_ as xe}from"./Cdu_mIXq.js";import{_ as me}from"./CN_dioCB.js";import{u as ve}from"./IGGJ6ZD0.js";import{c as w}from"./CF7zu2V2.js";import{u as fe}from"./C8Vvw7o1.js";import{c as he}from"./cDDxLc6a.js";import"./B3STIKjH.js";import"./oeYQgGxL.js";import"./CFjwhGiX.js";const we={class:"min-h-screen bg-gradient-to-br from-gray-900 via-slate-900 to-black relative overflow-hidden"},ke={class:"container mx-auto px-6 py-8 relative z-10"},_e={class:"grid lg:grid-cols-3 gap-8"},Ce={class:"lg:col-span-2 space-y-8"},Ve={class:"glass-card-dark rounded-2xl border border-cyan-500/30 shadow-2xl shadow-cyan-500/20"},qe={class:"px-8 py-6 border-b border-gray-700/50"},Le={class:"text-gray-300 mt-2"},Ue={class:"p-8"},Ae={key:0,class:"text-center py-12"},Se={key:1,class:"text-center py-12"},je={key:2,class:"space-y-6"},Ne={class:"w-24 h-24 bg-gray-700/50 rounded-lg overflow-hidden"},De=["src","alt"],Ie={class:"flex-1"},Me={class:"font-semibold text-white text-lg mb-1"},ze={class:"text-gray-400 text-sm mb-2"},$e={class:"flex items-center gap-4"},Be={class:"text-2xl font-bold text-cyan-400"},Fe={key:0,class:"text-sm text-gray-500 line-through"},Te={class:"flex items-center gap-3"},Oe=["onClick"],Pe={class:"w-12 text-center text-white font-semibold text-lg"},Ee=["onClick"],He=["onClick"],Qe={key:0,class:"glass-card-dark rounded-2xl border border-cyan-500/30 shadow-2xl shadow-cyan-500/20"},Ye={class:"p-8"},Re={key:0},Ge={key:0,class:"text-center py-8"},Je={key:1,class:"space-y-6"},Ke={class:"space-y-4"},We=["onClick"],Xe={class:"flex items-start justify-between"},Ze={class:"flex-1"},et={class:"flex items-center gap-3 mb-2"},tt={class:"font-semibold text-white"},st={class:"text-gray-300"},lt={key:0,class:"px-2 py-1 bg-cyan-500 text-white text-xs rounded-full"},ot={class:"text-gray-300"},rt={key:0,class:"text-gray-400 text-sm mt-1"},at={class:"flex items-center"},nt={key:0,class:"bi bi-check-circle text-cyan-400 text-xl"},it={key:1,class:"bi bi-circle text-gray-400 text-xl"},dt={key:2,class:"text-center py-8"},ut={key:1,class:"space-y-6"},ct={class:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 mb-6"},pt={class:"text-yellow-300 text-sm mt-1"},bt={class:"grid md:grid-cols-2 gap-6"},gt={class:"grid md:grid-cols-3 gap-6"},yt={key:1,class:"glass-card-dark rounded-2xl border border-cyan-500/30 shadow-2xl shadow-cyan-500/20"},xt={class:"p-8"},mt={class:"grid md:grid-cols-3 gap-4 mb-6"},vt=["onClick"],ft={class:"font-semibold"},ht={class:"text-sm opacity-75 mt-1"},wt={key:0,class:"space-y-6"},kt={class:"grid md:grid-cols-3 gap-6"},_t={class:"md:col-span-2"},Ct={key:1,class:"text-center py-8"},Vt={key:2,class:"text-center py-8"},qt={class:"lg:col-span-1"},Lt={class:"glass-card-dark rounded-2xl border border-cyan-500/30 shadow-2xl shadow-cyan-500/20 sticky top-6"},Ut={class:"p-8 space-y-6"},At={class:"space-y-4"},St={class:"flex justify-between items-center"},jt={class:"text-white font-semibold"},Nt={class:"flex justify-between items-center"},Dt={class:"text-white font-semibold"},It={class:"flex justify-between items-center"},Mt={class:"text-white font-semibold"},zt={class:"border-t border-gray-700/50 pt-4"},$t={class:"flex justify-between items-center"},Bt={class:"text-2xl font-bold text-cyan-400"},Ft={key:0},Tt={class:"flex gap-2"},Ot={key:0,class:"mt-2 text-green-400 text-sm flex items-center gap-1"},Pt=["disabled"],Et={key:0,class:"bi bi-credit-card"},Ht={key:1,class:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"},Qt={key:2,class:"text-red-400 text-sm text-center"},Yt={key:1,class:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4"},Rt={class:"glass-card-dark rounded-2xl border border-cyan-500/30 shadow-2xl shadow-cyan-500/20 w-full max-w-2xl max-h-[90vh] overflow-y-auto"},Gt={class:"p-8"},Jt={class:"grid md:grid-cols-2 gap-6"},Kt={class:"grid md:grid-cols-3 gap-6"},Wt={class:"grid md:grid-cols-2 gap-6"},Xt={class:"flex items-end"},Zt={class:"flex items-center space-x-2"},es={class:"flex justify-end space-x-4 pt-6"},ts=["disabled"],ss={key:0,class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},ls={key:1,class:"bi bi-check-circle"},os={key:2,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"},rs={class:"glass-card-dark rounded-2xl border border-green-500/30 shadow-2xl shadow-green-500/20 p-8 max-w-md w-full text-center"},as={class:"text-gray-300 mb-2"},vs={__name:"checkout",setup(ns){const{message:I}=he(["message"]),m=de(),x=ve(),q=l=>{I.success(l,{duration:3e3})},v=l=>{I.error(l,{duration:4e3})},G=l=>{I.warning(l,{duration:3e3})},p=b([]),L=b(!1),k=b(!1),U=b(!1),P=b(""),h=b(null),A=b(!1),_=b(!1),n=b({name:"",phone:"",province:"",city:"",district:"",detail:"",postal_code:""}),d=b({name:"",phone:"",province:"",city:"",district:"",detail:"",postal_code:"",is_default:!1}),C=b("card"),f=b({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),S=b(""),M=b(""),J=b([{id:"card",name:"银行卡支付",description:"银联、Visa、万事达",icon:"bi-credit-card"},{id:"alipay",name:"支付宝",description:"使用支付宝支付",icon:"bi-wallet2"},{id:"wechat",name:"微信支付",description:"微信扫码支付",icon:"bi-wechat"}]),j=V(()=>p.value.reduce((l,t)=>l+t.product_price*t.quantity,0)),E=V(()=>j.value>1e3?0:50),H=V(()=>Math.round(j.value*.08)),K=V(()=>j.value+E.value+H.value),z=V(()=>m.isLoggedIn?h.value!==null:n.value.name&&n.value.phone&&n.value.province&&n.value.city&&n.value.district&&n.value.detail),W=async()=>{if(m.isLoggedIn)try{L.value=!0;const l=await w.getCartItems();l.success?p.value=l.data:v(l.message||"获取购物车失败")}catch(l){console.error("加载购物车失败:",l),v("加载购物车失败，请重试")}finally{L.value=!1}},X=async l=>{if(m.isLoggedIn)try{const t=await w.removeCartItem(l);t.success?(p.value=p.value.filter(u=>u.id!==l),q("商品已从购物车移除")):v(t.message||"删除失败")}catch(t){console.error("删除购物车项目失败:",t),v("删除失败，请重试")}},Z=async l=>{if(!m.isLoggedIn)return;const t=p.value.find(u=>u.id===l);if(t)try{const u=await w.updateCartItem(l,{quantity:t.quantity+1});u.success?t.quantity=u.data.quantity:v(u.message||"更新数量失败")}catch(u){console.error("更新购物车数量失败:",u),v("更新失败，请重试")}},ee=async l=>{if(!m.isLoggedIn)return;const t=p.value.find(u=>u.id===l);if(!(!t||t.quantity<=1))try{const u=await w.updateCartItem(l,{quantity:t.quantity-1});u.success?t.quantity=u.data.quantity:v(u.message||"更新数量失败")}catch(u){console.error("更新购物车数量失败:",u),v("更新失败，请重试")}},te=async()=>{if(m.isLoggedIn)try{const l=await w.applyCoupon(S.value);l.success?(M.value=S.value,q("优惠券使用成功！")):v(l.message||"优惠券代码无效")}catch(l){console.error("应用优惠券失败:",l),v("优惠券代码无效")}},se=l=>{h.value=l},le=async()=>{if(m.isLoggedIn)try{_.value=!0,await x.addAddress(d.value),q("地址添加成功！"),$(),(x.addresses.length===1||d.value.is_default)&&(h.value=x.addresses[x.addresses.length-1].id)}catch(l){console.error("添加地址失败:",l),l(l.message||"添加地址失败，请重试")}finally{_.value=!1}},$=()=>{A.value=!1,d.value={name:"",phone:"",province:"",city:"",district:"",detail:"",postal_code:"",is_default:!1}},oe=async()=>{if(!(p.value.length===0||!z.value)){k.value=!0;try{await new Promise(l=>setTimeout(l,2e3)),P.value="ORD"+Date.now().toString().slice(-8),m.isLoggedIn&&await w.clearCart(),p.value=[],U.value=!0,q("订单提交成功！")}catch(l){console.error("订单提交失败:",l),l("订单提交失败，请重试。")}finally{k.value=!1}}},re=()=>{U.value=!1,R("/orders")},ae=()=>{U.value=!1,R("/products")},ne=async()=>{if(m.isLoggedIn){await W();try{await x.initializeAddresses(),x.getDefaultAddress?h.value=x.getDefaultAddress.id:x.addresses.length>0&&(h.value=x.addresses[0].id)}catch(l){console.error("初始化地址失败:",l)}}else G("请登录后查看购物车")};return ue(()=>{ne()}),fe({title:"购物车结算 - xlCig",meta:[{name:"description",content:"安全快捷的购物车结算流程，支持多种支付方式和地址管理"}]}),(l,t)=>{const u=ye,ie=xe,Q=me;return o(),r("div",we,[t[77]||(t[77]=e("div",{class:"fixed inset-0 pointer-events-none"},[e("div",{class:"absolute top-20 left-20 w-96 h-96 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full filter blur-3xl animate-pulse"}),e("div",{class:"absolute bottom-20 right-20 w-80 h-80 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-full filter blur-3xl animate-pulse delay-1000"}),e("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-gradient-to-r from-indigo-500/10 to-cyan-500/10 rounded-full filter blur-3xl animate-spin-slow"})],-1)),L.value&&!p.value.length?(o(),ce(u,{key:0})):g("",!0),B(ie,{"show-back-button":!1,"show-nav-menu":!1,"show-breadcrumb":!0,"show-location":!1,"show-search-button":!1,"show-notification-button":!1,"show-decorations":!1,"logo-size":"medium","current-page-title":"购物车结算"}),e("div",ke,[e("div",_e,[e("div",Ce,[e("div",Ve,[e("div",qe,[t[22]||(t[22]=e("h2",{class:"text-3xl font-bold text-white flex items-center gap-3"},[e("i",{class:"bi bi-cart text-cyan-400"}),y(" 购物车 ")],-1)),e("p",Le,"购物车中有 "+a(p.value.length)+" 件商品",1)]),e("div",Ue,[L.value?(o(),r("div",Ae,t[23]||(t[23]=[e("div",{class:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"},null,-1),e("p",{class:"text-gray-300"},"正在加载购物车...",-1)]))):p.value.length===0?(o(),r("div",Se,[t[25]||(t[25]=e("div",{class:"text-6xl mb-4 text-gray-500"},[e("i",{class:"bi bi-cart-x"})],-1)),t[26]||(t[26]=e("h3",{class:"text-xl font-semibold text-white mb-2"},"购物车为空",-1)),t[27]||(t[27]=e("p",{class:"text-gray-400 mb-6"},"添加一些产品来继续购物",-1)),B(Q,{to:"/products",class:"inline-flex items-center px-6 py-3 bg-cyan-600 text-white font-medium rounded-lg hover:bg-cyan-500 transition-all duration-300"},{default:Y(()=>t[24]||(t[24]=[e("i",{class:"bi bi-plus-circle mr-2"},null,-1),y(" 添加产品 ")])),_:1,__:[24]})])):(o(),r("div",je,[(o(!0),r(F,null,T(p.value,s=>(o(),r("div",{key:s.id,class:"flex items-center gap-6 p-6 bg-gray-800/30 rounded-2xl border border-gray-700/30 hover:border-cyan-500/50 transition-colors duration-300"},[e("div",Ne,[e("img",{src:s.product_image,alt:s.product_name,class:"w-full h-full object-contain p-2"},null,8,De)]),e("div",Ie,[e("h3",Me,a(s.product_name),1),e("p",ze,a(s.product_brand),1),e("div",$e,[e("span",Be,"¥"+a(s.product_price.toLocaleString()),1),s.product_original_price&&s.product_original_price>s.product_price?(o(),r("span",Fe," ¥"+a(s.product_original_price.toLocaleString()),1)):g("",!0)])]),e("div",Te,[e("button",{onClick:N=>ee(s.id),class:"w-10 h-10 flex items-center justify-center bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors duration-200"},t[28]||(t[28]=[e("i",{class:"bi bi-dash"},null,-1)]),8,Oe),e("span",Pe,a(s.quantity),1),e("button",{onClick:N=>Z(s.id),class:"w-10 h-10 flex items-center justify-center bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg transition-colors duration-200"},t[29]||(t[29]=[e("i",{class:"bi bi-plus"},null,-1)]),8,Ee)]),e("button",{onClick:N=>X(s.id),class:"w-10 h-10 flex items-center justify-center bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors duration-200"},t[30]||(t[30]=[e("i",{class:"bi bi-trash"},null,-1)]),8,He)]))),128))]))])]),p.value.length>0?(o(),r("div",Qe,[t[47]||(t[47]=e("div",{class:"px-8 py-6 border-b border-gray-700/50"},[e("h2",{class:"text-3xl font-bold text-white flex items-center gap-3"},[e("i",{class:"bi bi-geo-alt text-cyan-400"}),y(" 收货地址 ")])],-1)),e("div",Ye,[D(m).isLoggedIn?(o(),r("div",Re,[D(x).isLoading?(o(),r("div",Ge,t[31]||(t[31]=[e("div",{class:"w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"},null,-1),e("p",{class:"text-gray-300"},"正在加载地址信息...",-1)]))):D(x).hasAddresses?(o(),r("div",Je,[e("div",Ke,[(o(!0),r(F,null,T(D(x).addresses,s=>(o(),r("div",{key:s.id,class:O(["border-2 rounded-xl p-6 transition-all duration-300 cursor-pointer",h.value===s.id?"border-cyan-500 bg-cyan-500/10":"border-gray-600/50 hover:border-cyan-500/50"]),onClick:N=>se(s.id)},[e("div",Xe,[e("div",Ze,[e("div",et,[e("h3",tt,a(s.name),1),e("span",st,a(s.phone),1),s.is_default?(o(),r("span",lt," 默认 ")):g("",!0)]),e("p",ot,a(s.province)+" "+a(s.city)+" "+a(s.district)+" "+a(s.detail),1),s.postal_code?(o(),r("p",rt," 邮编："+a(s.postal_code),1)):g("",!0)]),e("div",at,[h.value===s.id?(o(),r("i",nt)):(o(),r("i",it))])])],10,We))),128))]),e("button",{onClick:t[0]||(t[0]=s=>A.value=!0),class:"w-full py-3 border-2 border-dashed border-gray-600 hover:border-cyan-500 text-gray-300 hover:text-cyan-400 rounded-xl transition-colors duration-300 flex items-center justify-center gap-2"},t[32]||(t[32]=[e("i",{class:"bi bi-plus-circle"},null,-1),y(" 添加新地址 ")]))])):(o(),r("div",dt,[t[34]||(t[34]=e("div",{class:"text-4xl text-gray-400 mb-4"},[e("i",{class:"bi bi-geo-alt"})],-1)),t[35]||(t[35]=e("h3",{class:"text-xl font-semibold text-white mb-2"},"暂无收货地址",-1)),t[36]||(t[36]=e("p",{class:"text-gray-400 mb-6"},"添加收货地址以完成订单",-1)),e("button",{onClick:t[1]||(t[1]=s=>A.value=!0),class:"px-6 py-3 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg font-medium transition-colors duration-300"},t[33]||(t[33]=[e("i",{class:"bi bi-plus-circle mr-2"},null,-1),y(" 添加收货地址 ")]))]))])):(o(),r("div",ut,[e("div",ct,[t[39]||(t[39]=e("div",{class:"flex items-center gap-2 text-yellow-400"},[e("i",{class:"bi bi-info-circle"}),e("span",{class:"font-medium"},"提示")],-1)),e("p",pt,[B(Q,{to:"/auth/login",class:"text-yellow-400 hover:text-yellow-300 underline"},{default:Y(()=>t[37]||(t[37]=[y("登录")])),_:1,__:[37]}),t[38]||(t[38]=y(" 后可以保存地址，方便下次购物 "))])]),e("div",bt,[e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-white mb-2"},"收货人姓名",-1)),i(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>n.value.name=s),type:"text",required:"",placeholder:"请输入收货人姓名",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,n.value.name]])]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-white mb-2"},"手机号码",-1)),i(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>n.value.phone=s),type:"tel",required:"",placeholder:"请输入手机号码",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,n.value.phone]])])]),e("div",gt,[e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-white mb-2"},"省份",-1)),i(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>n.value.province=s),type:"text",required:"",placeholder:"请输入省份",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,n.value.province]])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-white mb-2"},"城市",-1)),i(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>n.value.city=s),type:"text",required:"",placeholder:"请输入城市",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,n.value.city]])]),e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-white mb-2"},"区县",-1)),i(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>n.value.district=s),type:"text",required:"",placeholder:"请输入区县",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,n.value.district]])])]),e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-white mb-2"},"详细地址",-1)),i(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=s=>n.value.detail=s),required:"",rows:"3",placeholder:"请输入详细地址",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400 resize-none"},null,512),[[c,n.value.detail]])]),e("div",null,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-white mb-2"},"邮政编码（可选）",-1)),i(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>n.value.postal_code=s),type:"text",placeholder:"请输入邮政编码",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,n.value.postal_code]])])]))])])):g("",!0),p.value.length>0?(o(),r("div",yt,[t[54]||(t[54]=e("div",{class:"px-8 py-6 border-b border-gray-700/50"},[e("h2",{class:"text-3xl font-bold text-white flex items-center gap-3"},[e("i",{class:"bi bi-credit-card text-cyan-400"}),y(" 支付方式 ")])],-1)),e("div",xt,[e("div",mt,[(o(!0),r(F,null,T(J.value,s=>(o(),r("button",{key:s.id,onClick:N=>C.value=s.id,class:O(["p-6 border-2 rounded-xl transition-all duration-300 text-center",C.value===s.id?"border-cyan-500 bg-cyan-500/20 text-cyan-300":"border-gray-600/50 hover:border-cyan-500/50 text-gray-300 hover:text-white"])},[e("i",{class:O([s.icon,"text-3xl mb-3"])},null,2),e("div",ft,a(s.name),1),e("div",ht,a(s.description),1)],10,vt))),128))]),C.value==="card"?(o(),r("div",wt,[e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-white mb-2"},"银行卡号",-1)),i(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>f.value.cardNumber=s),type:"text",placeholder:"6222 0200 0000 0000",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,f.value.cardNumber]])]),e("div",kt,[e("div",_t,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-white mb-2"},"有效期",-1)),i(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>f.value.expiryDate=s),type:"text",placeholder:"MM/YY",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,f.value.expiryDate]])]),e("div",null,[t[50]||(t[50]=e("label",{class:"block text-sm font-medium text-white mb-2"},"CVV",-1)),i(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>f.value.cvv=s),type:"text",placeholder:"123",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,f.value.cvv]])])]),e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-white mb-2"},"持卡人姓名",-1)),i(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>f.value.cardholderName=s),type:"text",placeholder:"张三",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,f.value.cardholderName]])])])):g("",!0),C.value==="alipay"?(o(),r("div",Ct,t[52]||(t[52]=[e("div",{class:"text-6xl text-blue-500 mb-4"},[e("i",{class:"bi bi-wallet2"})],-1),e("h3",{class:"text-xl font-semibold text-white mb-2"},"支付宝支付",-1),e("p",{class:"text-gray-400 mb-6"},"您将跳转到支付宝完成支付",-1)]))):g("",!0),C.value==="wechat"?(o(),r("div",Vt,t[53]||(t[53]=[e("div",{class:"text-6xl text-green-500 mb-4"},[e("i",{class:"bi bi-wechat"})],-1),e("h3",{class:"text-xl font-semibold text-white mb-2"},"微信支付",-1),e("p",{class:"text-gray-400 mb-6"},"扫码支付或使用微信App支付",-1)]))):g("",!0)])])):g("",!0)]),e("div",qt,[e("div",Lt,[t[63]||(t[63]=e("div",{class:"px-8 py-6 border-b border-gray-700/50"},[e("h2",{class:"text-2xl font-bold text-white flex items-center gap-3"},[e("i",{class:"bi bi-receipt text-cyan-400"}),y(" 订单摘要 ")])],-1)),e("div",Ut,[e("div",At,[e("div",St,[t[55]||(t[55]=e("span",{class:"text-gray-300"},"商品小计",-1)),e("span",jt,"¥"+a(j.value.toLocaleString()),1)]),e("div",Nt,[t[56]||(t[56]=e("span",{class:"text-gray-300"},"运费",-1)),e("span",Dt,"¥"+a(E.value.toLocaleString()),1)]),e("div",It,[t[57]||(t[57]=e("span",{class:"text-gray-300"},"税费",-1)),e("span",Mt,"¥"+a(H.value.toLocaleString()),1)]),e("div",zt,[e("div",$t,[t[58]||(t[58]=e("span",{class:"text-xl font-semibold text-white"},"总计",-1)),e("span",Bt,"¥"+a(K.value.toLocaleString()),1)])])]),p.value.length>0?(o(),r("div",Ft,[t[60]||(t[60]=e("label",{class:"block text-sm font-medium text-white mb-2"},"优惠券代码",-1)),e("div",Tt,[i(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>S.value=s),type:"text",placeholder:"输入优惠券代码",class:"flex-1 px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400 text-sm"},null,512),[[c,S.value]]),e("button",{onClick:te,class:"px-4 py-3 bg-green-600 hover:bg-green-500 text-white font-medium rounded-lg transition-colors duration-300 text-sm"}," 使用 ")]),M.value?(o(),r("div",Ot,[t[59]||(t[59]=e("i",{class:"bi bi-check-circle"},null,-1)),y(' 优惠券"'+a(M.value)+'"已使用 ',1)])):g("",!0)])):g("",!0),p.value.length>0?(o(),r("button",{key:1,onClick:oe,disabled:k.value||!z.value,class:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 disabled:from-gray-600 disabled:to-gray-600 text-white py-3 px-6 rounded-xl font-semibold text-lg transition-all duration-300 flex items-center justify-center gap-3 shadow-lg shadow-cyan-500/20 hover:shadow-cyan-500/40 disabled:cursor-not-allowed"},[k.value?(o(),r("div",Ht)):(o(),r("i",Et)),y(" "+a(k.value?"处理中...":"确认下单"),1)],8,Pt)):g("",!0),!z.value&&p.value.length>0?(o(),r("div",Qt,t[61]||(t[61]=[e("i",{class:"bi bi-exclamation-triangle mr-1"},null,-1),y(" 请完善收货地址信息 ")]))):g("",!0),t[62]||(t[62]=pe('<div class="text-center pt-6 border-t border-gray-700/50"><div class="flex items-center justify-center gap-4 text-gray-400 text-sm"><div class="flex items-center gap-1"><i class="bi bi-shield-check text-green-400"></i><span>安全</span></div><div class="flex items-center gap-1"><i class="bi bi-lock text-green-400"></i><span>加密</span></div><div class="flex items-center gap-1"><i class="bi bi-award text-green-400"></i><span>认证</span></div></div></div>',1))])])])])]),A.value?(o(),r("div",Yt,[e("div",Rt,[e("div",Gt,[e("div",{class:"flex items-center justify-between mb-6"},[t[65]||(t[65]=e("h3",{class:"text-2xl font-bold text-white flex items-center gap-3"},[e("i",{class:"bi bi-geo-alt text-cyan-400"}),y(" 添加收货地址 ")],-1)),e("button",{onClick:$,class:"text-gray-400 hover:text-white"},t[64]||(t[64]=[e("i",{class:"bi bi-x-lg text-2xl"},null,-1)]))]),e("form",{onSubmit:be(le,["prevent"]),class:"space-y-6"},[e("div",Jt,[e("div",null,[t[66]||(t[66]=e("label",{class:"block text-sm font-medium text-cyan-400 mb-2"},"收货人姓名 *",-1)),i(e("input",{"onUpdate:modelValue":t[14]||(t[14]=s=>d.value.name=s),type:"text",required:"",placeholder:"请输入收货人姓名",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,d.value.name]])]),e("div",null,[t[67]||(t[67]=e("label",{class:"block text-sm font-medium text-cyan-400 mb-2"},"手机号码 *",-1)),i(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>d.value.phone=s),type:"tel",required:"",placeholder:"请输入手机号码",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,d.value.phone]])])]),e("div",Kt,[e("div",null,[t[68]||(t[68]=e("label",{class:"block text-sm font-medium text-cyan-400 mb-2"},"省份 *",-1)),i(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>d.value.province=s),type:"text",required:"",placeholder:"请输入省份",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,d.value.province]])]),e("div",null,[t[69]||(t[69]=e("label",{class:"block text-sm font-medium text-cyan-400 mb-2"},"城市 *",-1)),i(e("input",{"onUpdate:modelValue":t[17]||(t[17]=s=>d.value.city=s),type:"text",required:"",placeholder:"请输入城市",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,d.value.city]])]),e("div",null,[t[70]||(t[70]=e("label",{class:"block text-sm font-medium text-cyan-400 mb-2"},"区县 *",-1)),i(e("input",{"onUpdate:modelValue":t[18]||(t[18]=s=>d.value.district=s),type:"text",required:"",placeholder:"请输入区县",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,d.value.district]])])]),e("div",null,[t[71]||(t[71]=e("label",{class:"block text-sm font-medium text-cyan-400 mb-2"},"详细地址 *",-1)),i(e("textarea",{"onUpdate:modelValue":t[19]||(t[19]=s=>d.value.detail=s),required:"",rows:"3",placeholder:"请输入详细地址",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400 resize-none"},null,512),[[c,d.value.detail]])]),e("div",Wt,[e("div",null,[t[72]||(t[72]=e("label",{class:"block text-sm font-medium text-cyan-400 mb-2"},"邮政编码",-1)),i(e("input",{"onUpdate:modelValue":t[20]||(t[20]=s=>d.value.postal_code=s),type:"text",placeholder:"请输入邮政编码（可选）",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400"},null,512),[[c,d.value.postal_code]])]),e("div",Xt,[e("label",Zt,[i(e("input",{"onUpdate:modelValue":t[21]||(t[21]=s=>d.value.is_default=s),type:"checkbox",class:"w-4 h-4 text-cyan-500 bg-transparent border-2 border-cyan-500 rounded focus:ring-cyan-500"},null,512),[[ge,d.value.is_default]]),t[73]||(t[73]=e("span",{class:"text-sm text-gray-300"},"设为默认地址",-1))])])]),e("div",es,[e("button",{type:"button",onClick:$,class:"px-6 py-3 border border-gray-600 text-gray-300 hover:text-white hover:border-gray-500 rounded-lg font-medium transition-colors duration-300"}," 取消 "),e("button",{type:"submit",disabled:_.value,class:"px-6 py-3 bg-cyan-600 hover:bg-cyan-500 disabled:bg-gray-600 text-white rounded-lg font-medium transition-colors duration-300 flex items-center gap-2"},[_.value?(o(),r("div",ss)):(o(),r("i",ls)),y(" "+a(_.value?"添加中...":"添加地址"),1)],8,ts)])],32)])])])):g("",!0),U.value?(o(),r("div",os,[e("div",rs,[t[74]||(t[74]=e("div",{class:"text-6xl text-green-400 mb-6"},[e("i",{class:"bi bi-check-circle"})],-1)),t[75]||(t[75]=e("h3",{class:"text-2xl font-bold text-white mb-4"},"订单提交成功！",-1)),e("p",as,"订单号：#"+a(P.value),1),t[76]||(t[76]=e("p",{class:"text-gray-400 mb-8"},"感谢您的购买，您将很快收到确认邮件。",-1)),e("div",{class:"space-y-3"},[e("button",{onClick:re,class:"w-full bg-green-600 hover:bg-green-500 text-white py-3 px-6 rounded-lg font-medium transition-colors duration-300"}," 查看订单 "),e("button",{onClick:ae,class:"w-full border border-gray-600 hover:border-green-500 text-gray-300 hover:text-white py-3 px-6 rounded-lg font-medium transition-colors duration-300"}," 继续购物 ")])])])):g("",!0)])}}};export{vs as default};
