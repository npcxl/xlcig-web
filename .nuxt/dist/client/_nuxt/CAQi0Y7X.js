import{_ as Tt}from"./B7P3ZcZ_.js";import{_ as nt}from"./GFptVlNT.js";import{_ as it,G as dt,r as p,e as G,f as ct,y as K,c as l,o as a,a as t,l as s,b as q,w as Q,d as c,F as S,j as I,p as B,t as d,x as At,s as x,q as X,C as Mt,L as Lt,T as rt,Q as Pt,g as Rt,i as z,z as Bt,M as at,D as J,k as Z}from"./DYUlAN8C.js";import{p as Et}from"./BZyWtx9-.js";import{c as lt}from"./CF7zu2V2.js";import{r as U}from"./By1bEtc9.js";import{c as ut}from"./CD5Qg5Z1.js";import{s as jt}from"./x_rD_Ya3.js";import{u as Nt}from"./wKsX27ps.js";import"./B2PraNO7.js";import"./CFjwhGiX.js";const Vt={class:"glass-card-enhanced rounded-2xl border border-cyan-400/40 shadow-2xl shadow-cyan-500/25 p-8 backdrop-blur-xl"},zt={key:0,class:"text-center py-8"},qt={key:1,class:"text-center py-8"},Ut={key:2,class:"text-center py-8"},Ot={class:"bg-gray-800/30 rounded-xl p-6 border border-gray-600/30 backdrop-blur-sm"},Ht={class:"flex items-center justify-center gap-2 mb-3"},Jt={class:"flex"},Qt={class:"text-white font-medium ml-2"},Gt={class:"text-gray-300 text-center"},Kt={class:"text-gray-500 text-sm text-center mt-3"},Xt={class:"flex items-center gap-2"},Yt=["onClick"],Wt={key:0,class:"ml-4 text-white font-medium"},Zt={class:"flex items-center space-x-3"},te={class:"flex justify-end gap-4 pt-6"},ee=["disabled","title"],se={class:"flex items-center justify-center w-4 h-4"},oe={key:"loading",class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},re={key:"send",class:"bi bi-send"},ae={key:0,class:"mt-4 p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg"},le={class:"flex items-center gap-2 text-yellow-400 text-sm"},ne={__name:"ReviewForm",props:{productId:{type:Number,required:!0}},emits:["review-submitted"],setup(tt,{emit:N}){const $=tt,T=N,m=dt(),{message:r}=ut(["message"]),g=p({rating:0,comment:""}),_=p(!1),y=p(!1),k=p(!1),f=p(!1),v=p(null),D=G(()=>g.value.rating>0&&g.value.comment.trim().length>=10&&m.isLoggedIn&&!f.value&&!k.value),F=G(()=>m.isLoggedIn?f.value?"您已评论过此产品":k.value?"检查中...":g.value.rating===0?"请选择评分":g.value.comment.trim().length<10?"评论内容至少10个字符":y.value?"发布中...":"发布评论":"请先登录"),A=u=>({1:"非常不满意",2:"不满意",3:"一般",4:"满意",5:"非常满意"})[u]||"",h=()=>{g.value={rating:0,comment:""},_.value=!1},R=async()=>{if(!(!m.isLoggedIn||!$.productId))try{k.value=!0;const u=await U.checkUserReview($.productId);u.success&&(f.value=u.data.has_reviewed,u.data.review&&(v.value=u.data.review))}catch(u){console.error("检查评论状态失败:",u),f.value=!1}finally{k.value=!1}},M=async()=>{var u,i,j;if(!(!D.value||y.value))try{y.value=!0;const b={product_id:$.productId,rating:g.value.rating,comment:g.value.comment.trim(),author:_.value?"匿名用户":((u=m.user)==null?void 0:u.username)||((j=(i=m.user)==null?void 0:i.email)==null?void 0:j.split("@")[0]),is_anonymous:_.value},L=await U.createReview(b);if(L.success)f.value=!0,h(),T("review-submitted"),L.data.verified_purchase&&setTimeout(()=>{r.info("您的购买已验证，评论将获得更高的可信度")},1e3),L.data.author_name&&console.log("评论作者:",L.data.author_name);else throw new Error(L.message||"发布评论失败")}catch(b){console.error("发布评论失败:",b),r.error("发布失败："+(b.message||"请重试"))}finally{y.value=!1}};return ct(()=>{R()}),K(()=>m.isLoggedIn,u=>{u?R():(f.value=!1,v.value=null)}),K(()=>$.productId,()=>{m.isLoggedIn&&R()}),(u,i)=>{const j=nt;return a(),l("div",Vt,[i[15]||(i[15]=t("h3",{class:"text-2xl font-bold text-white mb-6 flex items-center gap-3"},[t("div",{class:"p-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg shadow-lg"},[t("i",{class:"bi bi-chat-square-text text-white"})]),t("span",{class:"bg-gradient-to-r from-white via-cyan-100 to-blue-100 bg-clip-text text-transparent"},"发表评论")],-1)),s(m).isLoggedIn?k.value?(a(),l("div",qt,i[6]||(i[6]=[t("div",{class:"w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"},null,-1),t("p",{class:"text-gray-300"},"正在检查评论状态...",-1)]))):f.value&&v.value?(a(),l("div",Ut,[i[7]||(i[7]=t("div",{class:"text-4xl text-green-400 mb-4"},[t("i",{class:"bi bi-check-circle-fill"})],-1)),i[8]||(i[8]=t("h4",{class:"text-xl font-semibold text-white mb-2"},"您已评论过此产品",-1)),i[9]||(i[9]=t("p",{class:"text-gray-400 mb-6"},"每个产品只能发布一次评论",-1)),t("div",Ot,[t("div",Ht,[t("div",Jt,[(a(),l(S,null,I(5,b=>t("i",{key:b,class:B([b<=v.value.rating?"text-yellow-400":"text-gray-600","bi bi-star-fill text-lg"])},null,2)),64))]),t("span",Qt,d(v.value.rating)+" 分",1)]),t("p",Gt,d(v.value.comment),1),t("p",Kt," 发布于 "+d(new Date(v.value.created_at).toLocaleDateString("zh-CN")),1)])])):(a(),l("form",{key:3,onSubmit:At(M,["prevent"]),class:"space-y-6"},[t("div",null,[i[11]||(i[11]=t("label",{class:"block text-sm font-bold text-white mb-4 flex items-center gap-2"},[t("i",{class:"bi bi-star text-yellow-400"}),c(" 评分 ")],-1)),t("div",Xt,[(a(),l(S,null,I(5,b=>t("button",{key:b,type:"button",onClick:L=>g.value.rating=b,class:B(["text-3xl transition-all duration-200 hover:scale-110",b<=g.value.rating?"text-yellow-400":"text-gray-600 hover:text-yellow-300"])},i[10]||(i[10]=[t("i",{class:"bi bi-star-fill drop-shadow-lg"},null,-1)]),10,Yt)),64)),g.value.rating>0?(a(),l("span",Wt,d(A(g.value.rating)),1)):x("",!0)])]),t("div",null,[i[12]||(i[12]=t("label",{class:"block text-sm font-bold text-white mb-4 flex items-center gap-2"},[t("i",{class:"bi bi-chat-dots text-cyan-400"}),c(" 评论内容 ")],-1)),X(t("textarea",{"onUpdate:modelValue":i[0]||(i[0]=b=>g.value.comment=b),required:"",rows:"5",placeholder:"请分享您对这款产品的使用体验...",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400 resize-none"},null,512),[[Mt,g.value.comment]])]),t("div",null,[t("label",Zt,[X(t("input",{"onUpdate:modelValue":i[1]||(i[1]=b=>_.value=b),type:"checkbox",class:"w-4 h-4 text-cyan-500 bg-transparent border-2 border-cyan-500 rounded focus:ring-cyan-500"},null,512),[[Lt,_.value]]),i[13]||(i[13]=t("span",{class:"text-gray-300"},"匿名发表（不显示用户名）",-1))])]),t("div",te,[t("button",{type:"button",onClick:h,class:"px-6 py-3 border border-gray-600/50 text-gray-300 hover:text-white hover:border-gray-500 rounded-lg font-medium transition-colors duration-300"}," 重置 "),t("button",{type:"submit",disabled:!D.value||y.value,title:D.value?"":F.value,class:"review-submit-btn px-6 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 disabled:from-gray-600 disabled:to-gray-600 text-white rounded-lg font-bold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg shadow-cyan-500/20 hover:shadow-cyan-500/40 disabled:cursor-not-allowed min-w-[160px]"},[t("div",se,[q(rt,{name:"icon-fade",mode:"out-in"},{default:Q(()=>[y.value||k.value?(a(),l("div",oe)):(a(),l("i",re))]),_:1})]),q(rt,{name:"text-fade",mode:"out-in"},{default:Q(()=>[(a(),l("span",{key:F.value,class:"button-text"},d(F.value),1))]),_:1})],8,ee)]),!D.value&&s(m).isLoggedIn?(a(),l("div",ae,[t("div",le,[i[14]||(i[14]=t("i",{class:"bi bi-info-circle"},null,-1)),t("span",null,d(F.value),1)])])):x("",!0)],32)):(a(),l("div",zt,[i[3]||(i[3]=t("div",{class:"text-4xl text-gray-400 mb-4"},[t("i",{class:"bi bi-person-plus"})],-1)),i[4]||(i[4]=t("h4",{class:"text-xl font-semibold text-white mb-2"},"请先登录",-1)),i[5]||(i[5]=t("p",{class:"text-gray-400 mb-6"},"登录后即可发表对此产品的评价",-1)),q(j,{to:"/auth/login",class:"inline-flex items-center px-6 py-3 bg-cyan-600 text-white font-medium rounded-lg hover:bg-cyan-500 transition-all duration-300"},{default:Q(()=>i[2]||(i[2]=[t("i",{class:"bi bi-box-arrow-in-right mr-2"},null,-1),c(" 立即登录 ")])),_:1,__:[2]})]))])}}},ie=it(ne,[["__scopeId","data-v-fabe825f"]]),de={class:"min-h-screen bg-gradient-to-br from-gray-900 via-slate-900 to-black relative overflow-hidden"},ce={key:0,class:"container mx-auto px-6 py-8 relative z-10"},ue={class:"grid lg:grid-cols-2 gap-12 mb-12"},ge={class:"space-y-6"},be={class:"glass-card-enhanced rounded-2xl border border-cyan-400/40 shadow-2xl shadow-cyan-500/25 overflow-hidden backdrop-blur-xl"},pe={class:"relative h-96 bg-gradient-to-br from-gray-800/60 to-gray-900/60 p-6"},me={key:0,class:"product-image-container"},xe=["src","alt"],fe={key:1,class:"product-placeholder"},ve={class:"product-placeholder-text"},ye={key:2,class:"absolute top-4 left-4 bg-gradient-to-r from-red-500 via-pink-500 to-red-600 text-white px-4 py-2 rounded-full text-sm font-bold shadow-lg shadow-red-500/40 animate-pulse"},he={class:"absolute top-4 right-4"},we={key:0,class:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-red-500/30 text-red-200 border border-red-400/50 shadow-lg shadow-red-500/30 backdrop-blur-sm"},_e={key:1,class:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-orange-500/30 text-orange-200 border border-orange-400/50 shadow-lg shadow-orange-500/30 backdrop-blur-sm animate-pulse"},ke={key:2,class:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-emerald-500/30 text-emerald-200 border border-emerald-400/50 shadow-lg shadow-emerald-500/30 backdrop-blur-sm"},Ce={class:"absolute bottom-4 left-4"},Se={class:"inline-flex items-center px-3 py-1 rounded-lg text-xs font-medium bg-cyan-500/20 text-cyan-300 border border-cyan-400/30 backdrop-blur-sm"},Ie={class:"glass-card-enhanced rounded-2xl border border-cyan-400/40 shadow-2xl shadow-cyan-500/25 p-8 backdrop-blur-xl"},De={key:0,class:"grid grid-cols-1 gap-4"},Fe={class:"text-white font-medium group-hover:text-cyan-300 transition-colors duration-300"},$e={key:1,class:"text-gray-400 text-center py-8"},Te={class:"space-y-6"},Ae={class:"glass-card-enhanced rounded-2xl border border-cyan-400/40 shadow-2xl shadow-cyan-500/25 p-8 backdrop-blur-xl"},Me={class:"flex items-center justify-between mb-6"},Le={class:"flex items-center gap-4"},Pe={class:"inline-flex items-center px-5 py-2 rounded-xl text-sm font-bold bg-gradient-to-r from-cyan-500/30 to-blue-500/30 text-cyan-200 border border-cyan-400/40 shadow-lg backdrop-blur-sm"},Re={class:"flex items-center gap-2 text-sm text-gray-400"},Be={class:"text-4xl font-bold text-white mb-4 leading-tight"},Ee={class:"bg-gradient-to-r from-white via-cyan-100 to-blue-100 bg-clip-text text-transparent"},je={class:"flex items-center gap-4 mb-6 text-gray-400"},Ne={key:0,class:"text-sm"},Ve={key:1,class:"text-sm"},ze={class:"flex items-center gap-6 mb-8 p-4 bg-gradient-to-r from-gray-800/40 to-gray-700/40 rounded-xl border border-gray-600/30 backdrop-blur-sm"},qe={class:"flex items-center gap-3"},Ue={class:"flex"},Oe={class:"text-2xl font-bold text-white"},He={class:"flex items-center gap-2 text-gray-300"},Je={class:"flex items-center gap-2 text-gray-300"},Qe={class:"mb-8 p-6 bg-gradient-to-r from-cyan-500/10 to-blue-500/10 rounded-xl border border-cyan-400/30 backdrop-blur-sm"},Ge={class:"flex items-end gap-4 mb-3"},Ke={class:"text-5xl font-bold bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent"},Xe={key:0,class:"text-2xl text-gray-500 line-through mb-2"},Ye={key:1,class:"px-3 py-1 bg-red-500/20 text-red-300 rounded-lg text-sm font-medium border border-red-400/30 mb-2"},We={class:"text-gray-300 leading-relaxed"},Ze={class:"mb-8"},ts={class:"flex items-center gap-6"},es={class:"flex items-center border border-gray-600/50 rounded-xl bg-gray-800/30 backdrop-blur-sm"},ss={class:"px-8 py-3 text-white font-bold text-lg min-w-[80px] text-center bg-gray-700/30"},os={class:"flex items-center gap-2 text-gray-300 bg-gray-800/30 px-4 py-2 rounded-lg border border-gray-600/30 backdrop-blur-sm"},rs={class:"text-green-400 font-bold"},as={key:0,class:"mb-6 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-xl backdrop-blur-sm"},ls={class:"text-yellow-300 text-sm"},ns={class:"space-y-4 mb-8"},is=["disabled"],ds={key:0,class:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"},cs={key:1,class:"bi bi-cart-plus text-xl"},us={key:2},gs={key:3},bs={key:4},ps={key:5},ms=["disabled"],xs={key:0},fs={key:1},vs={class:"glass-card-enhanced rounded-2xl border border-cyan-400/40 shadow-2xl shadow-cyan-500/25 p-8 mb-12 backdrop-blur-xl"},ys={key:0,class:"grid md:grid-cols-2 gap-6"},hs={class:"text-gray-300 font-semibold text-lg"},ws={class:"font-bold text-white text-lg group-hover:text-cyan-300 transition-colors duration-300"},_s={key:1,class:"text-gray-400 text-center py-8"},ks={class:"glass-card-enhanced rounded-2xl border border-cyan-400/40 shadow-2xl shadow-cyan-500/25 p-8 backdrop-blur-xl"},Cs={key:0,class:"grid md:grid-cols-2 gap-8 mb-8"},Ss={class:"text-center p-6 bg-gradient-to-br from-yellow-500/10 to-orange-500/10 rounded-xl border border-yellow-400/30"},Is={class:"text-6xl font-bold bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent mb-4"},Ds={class:"flex justify-center mb-4"},Fs={class:"text-gray-300 text-lg"},$s={class:"text-yellow-400 font-bold"},Ts={class:"space-y-4"},As={class:"text-white w-12 flex-shrink-0 font-bold"},Ms={class:"flex-1 bg-gray-700/50 rounded-full h-3 overflow-hidden backdrop-blur-sm border border-gray-600/30"},Ls={class:"text-gray-400 w-16 text-sm flex-shrink-0 font-medium"},Ps={key:1,class:"text-center py-8"},Rs={class:"mb-8"},Bs={class:"flex flex-wrap gap-4 mb-6"},Es={key:2,class:"space-y-6"},js={class:"flex items-center justify-between mb-4"},Ns={class:"flex items-center gap-4"},Vs={class:"w-14 h-14 bg-gradient-to-r from-cyan-500/30 to-blue-500/30 rounded-full flex items-center justify-center border border-cyan-400/40 shadow-lg overflow-hidden"},zs=["src","alt"],qs={key:1,class:"bi bi-person-fill text-cyan-400 text-xl"},Us={class:"flex items-center gap-2"},Os={class:"font-bold text-white text-lg"},Hs={key:0,class:"px-2 py-1 bg-gray-500/20 text-gray-300 text-xs rounded-full border border-gray-400/30"},Js={key:1,class:"px-2 py-1 bg-green-500/20 text-green-300 text-xs rounded-full border border-green-400/30"},Qs={class:"text-sm text-gray-400"},Gs={class:"flex gap-1"},Ks={class:"text-gray-300 leading-relaxed text-lg mb-4"},Xs={key:0,class:"grid grid-cols-3 gap-2 mb-4"},Ys=["src","alt"],Ws={class:"flex items-center justify-between pt-4 border-t border-gray-700/50"},Zs={class:"flex items-center gap-4"},to=["onClick"],eo={key:3,class:"text-center py-12"},so={key:4,class:"text-center py-8"},oo={key:5,class:"mt-8 flex justify-center"},ro={class:"flex items-center gap-2"},ao=["disabled"],lo={class:"px-4 py-2 text-gray-300"},no=["disabled"],io={key:1,class:"container mx-auto px-6 py-20 relative z-10"},co={class:"text-center"},uo={class:"inline-flex flex-col items-center glass-card-enhanced rounded-2xl border border-red-400/40 p-16 shadow-2xl shadow-red-500/25 backdrop-blur-xl max-w-md mx-auto"},go={class:"text-gray-400 text-lg mb-8"},bo={class:"space-y-3 w-full"},po={key:2,class:"container mx-auto px-6 py-20 relative z-10"},mo={key:3,class:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-50 p-4"},xo={class:"confetti-container"},fo={class:"glass-card-enhanced rounded-2xl border border-green-400/50 shadow-2xl shadow-green-500/30 p-10 max-w-md w-full text-center backdrop-blur-xl transform animate-bounce-in"},vo={class:"text-gray-300 mb-8 text-lg leading-relaxed"},yo=5,ho={__name:"[id]",setup(tt){const N=Pt(),$=parseInt(N.params.id),T=dt(),{message:m}=ut(["message"]),r=p(null),g=p(1),_=p(!1),y=p(!1),k=p(!0),f=p(null),v=p(!1),D=p([]),F=p(null),A=p(!1),h=p(1),R=p(1),M=p({rating:"all",sort:"newest"}),u=p([]);let i=null;const j=o=>({graphics:"显卡",cpu:"处理器",motherboard:"主板",power:"电源",memory:"内存",storage:"存储",monitor:"显示器",case:"机箱",cooler:"散热器"})[o]||"硬件",b=async()=>{if(r.value)try{A.value=!0;const o=await U.getProductReviews(r.value.id,{page:h.value,limit:yo,rating:M.value.rating==="all"?void 0:parseInt(M.value.rating),sort:M.value.sort});o.success&&(D.value=o.data.reviews,R.value=o.data.pagination.total_pages);const e=await U.getProductReviewStats(r.value.id);e.success&&(F.value=e.data)}catch(o){console.error("加载评论失败:",o)}finally{A.value=!1}},L=async o=>{o<1||o>R.value||o===h.value||(h.value=o,await b())},Y=async()=>{try{k.value=!0,f.value=null;const o=await Et.getProductById($);if(o.success&&o.data){const e=o.data;r.value={id:e.id,name:e.name,brand:e.brand,category:gt(e.category_id),price:parseFloat(e.price),originalPrice:e.original_price?parseFloat(e.original_price):null,rating:parseFloat(e.rating),reviewCount:parseInt(e.review_count),viewCount:e.sales*12+Math.floor(Math.random()*1e3),image:e.images&&e.images.length>0?e.images[0]:"",images:e.images||[],inStock:e.stock>0,stockCount:e.stock,description:e.description||e.short_description,specs:e.specifications||{},features:e.features||[],tags:e.tags||[],sales:e.sales,slug:e.slug,sku:e.sku,model:e.model},mt(),await b()}else f.value="产品不存在或已下架"}catch(o){console.error("获取产品详情失败:",o),f.value="加载产品详情时出错，请稍后重试"}finally{k.value=!1}},gt=o=>({1:"cpu",2:"motherboard",3:"memory",4:"graphics",5:"storage",6:"power",7:"case",8:"cooler",9:"monitor"})[o]||"hardware",bt=async(o,e)=>{if(!T.isLoggedIn){m.warning("请先登录后再进行操作");return}try{if((await U.toggleReviewHelpful(o,e)).success){const P=D.value.find(E=>E.id===o);P&&(P.helpful_count+=e?1:-1,P.helpful_count=Math.max(0,P.helpful_count)),m.success(e?"点赞成功":"取消点赞成功")}}catch(C){console.error("点赞操作失败:",C),m.error("操作失败，请重试")}},pt=()=>{h.value=1,b(),m.success("感谢您的评价！评论已发布")},et=async()=>{h.value=1,await b()},mt=()=>{const o=JSON.parse(localStorage.getItem("favorites")||"[]");_.value=o.includes($)},xt=()=>{var o;g.value<((o=r.value)==null?void 0:o.stockCount)&&g.value++},ft=()=>{g.value>1&&g.value--},vt=()=>{const o=JSON.parse(localStorage.getItem("favorites")||"[]");if(_.value){const e=o.indexOf($);e>-1&&o.splice(e,1)}else o.push($);localStorage.setItem("favorites",JSON.stringify(o)),_.value=!_.value},yt=async()=>{if(!(!r.value||!r.value.inStock||y.value||v.value)){if(!T.isLoggedIn){J("/auth/login");return}try{v.value=!0;const o={productId:r.value.id,quantity:g.value},e=await lt.addToCart(o);if(e.success)y.value=!0,kt(),console.log("商品已成功添加到购物车");else throw new Error(e.message||"添加到购物车失败")}catch(o){console.error("添加到购物车失败:",o),o.message?m.error("添加失败："+o.message):m.error("添加到购物车失败，请重试")}finally{v.value=!1}}},ht=async()=>{if(!T.isLoggedIn){J("/auth/login");return}if(!(!r.value||!r.value.inStock))try{const o={productId:r.value.id,quantity:g.value},e=await lt.addToCart(o);if(e.success)m.success("商品已添加到购物车，正在跳转到结算页面..."),setTimeout(()=>{J("/checkout")},1e3);else throw new Error(e.message||"添加到购物车失败")}catch(o){console.error("立即购买失败:",o),m.error("购买失败："+(o.message||"请重试"))}},wt=()=>{J("/checkout")},_t=()=>{y.value=!1},kt=()=>{try{const o=new(window.AudioContext||window.webkitAudioContext),e=o.createOscillator(),C=o.createGain();e.connect(C),C.connect(o.destination),e.frequency.setValueAtTime(800,o.currentTime),e.frequency.setValueAtTime(1e3,o.currentTime+.1),e.frequency.setValueAtTime(1200,o.currentTime+.2),C.gain.setValueAtTime(0,o.currentTime),C.gain.linearRampToValueAtTime(.1,o.currentTime+.01),C.gain.exponentialRampToValueAtTime(.01,o.currentTime+.3),e.start(o.currentTime),e.stop(o.currentTime+.3)}catch{console.log("音效播放不支持或被禁用")}};K(y,o=>{o?(Ct(),setTimeout(()=>{W()},3e3)):W()});const Ct=()=>{u.value=[];let o=0;u.value.push({id:o++,delay:0}),i=jt(()=>{u.value.push({id:o++,delay:0}),u.value.length>6&&u.value.shift()},500)},W=()=>{i&&(clearInterval(i),i=null),u.value=[]},St=o=>{const e=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA","#F1948A","#85C1E9","#F9E79F","#AED6F1","#A9DFBF","#F5B7B1","#D7BDE2","#A3E4D7","#FFD93D","#6BCF7F","#4D96FF","#9B59B6","#1ABC9C","#E74C3C","#F39C12","#8E44AD","#27AE60","#3498DB"];return e[o%e.length]},It=o=>{const e=["confetti-circle","confetti-square","confetti-triangle"];return e[o%e.length]},Dt=o=>({TDP:"TDP功耗",制程:"制程工艺",插槽:"接口插槽",缓存:"缓存",L2缓存:"L2缓存",L3缓存:"L3缓存",核心数:"核心数",线程数:"线程数",内存支持:"支持内存",基础频率:"基础频率",最大睿频:"最大睿频",最大加速频率:"最大加速",功耗:"功耗",接口:"显示接口",显存:"显存容量",架构:"架构",CUDA核心:"CUDA核心",加速频率:"加速频率",显存位宽:"显存位宽",流处理器:"流处理器",游戏频率:"游戏频率",容量:"容量",散热:"散热方案",时序:"时序",电压:"工作电压",质保:"质保期",频率:"工作频率",兼容性:"平台兼容"})[o]||o,Ft=o=>new Date(o).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"});ct(()=>{Y()}),Rt(()=>{W()}),K(()=>N.params.id,()=>{parseInt(N.params.id)!==$&&Y()}),Nt({title:G(()=>r.value?`${r.value.name} - xlCig`:"产品详情 - xlCig"),meta:[{name:"description",content:G(()=>{var o;return((o=r.value)==null?void 0:o.description)||"查看产品详细信息和技术规格"})}]});const $t=(o,e)=>{const C=o*12%360,P=.5+Math.random()*.5,E=C*Math.PI/180,O=50+Math.cos(E)*P*80,H=45+Math.sin(E)*P*60,n=Math.max(5,Math.min(95,O)),w=Math.max(10,Math.min(90,H));return{"--start-x":"50%","--start-y":"42%","--end-x":n+"%","--end-y":w+"%","--rotation":Math.random()*720-360+"deg",animationDelay:Math.random()*1.2+e+"s",animationDuration:2.5+Math.random()*1.5+"s",backgroundColor:St(o),width:10+Math.random()*8+"px",height:10+Math.random()*8+"px",boxShadow:`0 0 ${8+Math.random()*8}px rgba(255, 255, 255, 0.8)`}};return(o,e)=>{var E,O,H;const C=Tt,P=nt;return a(),l("div",de,[e[59]||(e[59]=t("div",{class:"fixed inset-0 pointer-events-none"},[t("div",{class:"absolute top-20 left-20 w-96 h-96 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full filter blur-3xl animate-pulse"}),t("div",{class:"absolute bottom-20 right-20 w-80 h-80 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-full filter blur-3xl animate-pulse delay-1000"}),t("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-gradient-to-r from-indigo-500/10 to-cyan-500/10 rounded-full filter blur-3xl animate-spin-slow"})],-1)),q(C,{"show-back-button":!1,"show-nav-menu":!1,"show-breadcrumb":!0,"show-location":!1,"show-search-button":!1,"show-notification-button":!1,"show-decorations":!1,"logo-size":"medium","current-page-title":((E=s(r))==null?void 0:E.name)||"产品详情","breadcrumb-items":[{label:"首页",path:"/"},{label:"产品中心",path:"/products"},{label:((O=s(r))==null?void 0:O.name)||"产品详情"}]},null,8,["current-page-title","breadcrumb-items"]),s(r)&&!s(k)&&!s(f)?(a(),l("div",ce,[t("div",ue,[t("div",ge,[t("div",be,[t("div",pe,[s(r).image?(a(),l("div",me,[t("img",{src:s(r).image,alt:s(r).name,class:"w-full h-full object-contain transition-all duration-500 hover:scale-105 filter drop-shadow-2xl",onError:e[0]||(e[0]=n=>n.target.style.display="none")},null,40,xe)])):(a(),l("div",fe,[e[6]||(e[6]=t("div",{class:"product-icon-wrapper"},[t("i",{class:"bi bi-cpu product-icon"}),t("div",{class:"product-icon-glow"})],-1)),t("span",ve,d(s(r).name),1),e[7]||(e[7]=t("div",{class:"product-tech-pattern"},null,-1))])),s(r).originalPrice&&s(r).originalPrice>s(r).price?(a(),l("div",ye,[e[8]||(e[8]=t("i",{class:"bi bi-lightning-fill mr-1"},null,-1)),c(" 省 ¥"+d((s(r).originalPrice-s(r).price).toLocaleString()),1)])):x("",!0),t("div",he,[s(r).inStock?s(r).stockCount<=5?(a(),l("span",_e,[e[10]||(e[10]=t("i",{class:"bi bi-exclamation-triangle-fill mr-2 text-orange-300"},null,-1)),c("仅剩 "+d(s(r).stockCount)+" 件 ",1)])):(a(),l("span",ke,e[11]||(e[11]=[t("i",{class:"bi bi-check-circle-fill mr-2 text-emerald-300"},null,-1),c("现货充足 ")]))):(a(),l("span",we,e[9]||(e[9]=[t("i",{class:"bi bi-x-circle-fill mr-2 text-red-300"},null,-1),c("缺货 ")])))]),t("div",Ce,[t("span",Se,[e[12]||(e[12]=t("i",{class:"bi bi-bookmark-fill mr-1"},null,-1)),c(" "+d(j(s(r).category)),1)])])])]),t("div",Ie,[e[15]||(e[15]=t("h3",{class:"text-2xl font-bold text-white mb-6 flex items-center gap-3"},[t("div",{class:"p-2 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg shadow-lg"},[t("i",{class:"bi bi-stars text-white"})]),t("span",{class:"bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent"},"核心特性")],-1)),s(r).features&&s(r).features.length>0?(a(),l("div",De,[(a(!0),l(S,null,I(s(r).features,(n,w)=>(a(),l("div",{key:n,class:"group flex items-center gap-4 p-4 bg-gradient-to-r from-gray-800/40 to-gray-700/40 rounded-xl border border-gray-600/30 hover:border-cyan-400/50 transition-all duration-300 hover:shadow-lg hover:shadow-cyan-500/20 backdrop-blur-sm",style:Z({"animation-delay":`${w*100}ms`})},[e[13]||(e[13]=t("div",{class:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300"},[t("i",{class:"bi bi-check text-white text-sm font-bold"})],-1)),t("span",Fe,d(n),1)],4))),128))])):(a(),l("div",$e,e[14]||(e[14]=[t("i",{class:"bi bi-info-circle text-3xl mb-2"},null,-1),t("p",null,"暂无特性信息",-1)])))])]),t("div",Te,[t("div",Ae,[t("div",Me,[t("div",Le,[t("span",Pe,[e[16]||(e[16]=t("i",{class:"bi bi-award mr-2"},null,-1)),c(" "+d(s(r).brand),1)]),t("div",Re,[e[17]||(e[17]=t("i",{class:"bi bi-eye text-cyan-400"},null,-1)),t("span",null,d(s(r).viewCount||1234)+" 次浏览",1)])]),t("button",{onClick:vt,class:B(["p-3 rounded-xl border transition-all duration-300 group relative overflow-hidden",s(_)?"bg-gradient-to-r from-red-500/30 to-pink-500/30 border-red-400/50 text-red-300 shadow-lg shadow-red-500/30":"border-gray-600/50 text-gray-400 hover:border-red-400/50 hover:text-red-300 hover:bg-red-500/10"])},[t("i",{class:B([s(_)?"bi bi-heart-fill":"bi bi-heart","text-xl relative z-10 group-hover:scale-110 transition-transform duration-300"])},null,2),e[18]||(e[18]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-red-500/20 to-pink-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1))],2)]),t("h1",Be,[t("span",Ee,d(s(r).name),1)]),t("div",je,[s(r).model?(a(),l("span",Ne,[e[19]||(e[19]=t("i",{class:"bi bi-tag mr-1"},null,-1)),c(" 型号: "+d(s(r).model),1)])):x("",!0),s(r).sku?(a(),l("span",Ve,[e[20]||(e[20]=t("i",{class:"bi bi-upc mr-1"},null,-1)),c(" SKU: "+d(s(r).sku),1)])):x("",!0)]),t("div",ze,[t("div",qe,[t("div",Ue,[(a(),l(S,null,I(5,n=>t("i",{key:n,class:B([n<=s(r).rating?"text-yellow-400":"text-gray-600","bi bi-star-fill text-xl drop-shadow-lg"])},null,2)),64))]),t("span",Oe,d(s(r).rating),1)]),e[23]||(e[23]=t("div",{class:"h-8 w-px bg-gradient-to-b from-transparent via-gray-500 to-transparent"},null,-1)),t("div",He,[e[21]||(e[21]=t("i",{class:"bi bi-chat-dots text-cyan-400"},null,-1)),t("span",null,d(s(r).reviewCount)+" 条评价",1)]),e[24]||(e[24]=t("div",{class:"flex items-center gap-2 text-gray-300"},[t("i",{class:"bi bi-truck text-green-400"}),t("span",null,"免费配送")],-1)),t("div",Je,[e[22]||(e[22]=t("i",{class:"bi bi-graph-up text-purple-400"},null,-1)),t("span",null,"销量 "+d(s(r).sales),1)])]),t("div",Qe,[t("div",Ge,[t("span",Ke," ¥"+d(s(r).price.toLocaleString()),1),s(r).originalPrice&&s(r).originalPrice>s(r).price?(a(),l("span",Xe," ¥"+d(s(r).originalPrice.toLocaleString()),1)):x("",!0),s(r).originalPrice&&s(r).originalPrice>s(r).price?(a(),l("span",Ye," 省"+d(Math.round((s(r).originalPrice-s(r).price)/s(r).originalPrice*100))+"% ",1)):x("",!0)]),t("p",We,d(s(r).description),1)]),t("div",Ze,[e[30]||(e[30]=t("label",{class:"block text-sm font-bold text-white mb-4 flex items-center gap-2"},[t("i",{class:"bi bi-123 text-cyan-400"}),c(" 购买数量 ")],-1)),t("div",ts,[t("div",es,[t("button",{onClick:ft,class:"px-5 py-3 text-white hover:bg-cyan-500/20 hover:text-cyan-300 rounded-l-xl transition-all duration-300 border-r border-gray-600/50"},e[25]||(e[25]=[t("i",{class:"bi bi-dash-lg text-lg font-bold"},null,-1)])),t("span",ss,d(s(g)),1),t("button",{onClick:xt,class:"px-5 py-3 text-white hover:bg-cyan-500/20 hover:text-cyan-300 rounded-r-xl transition-all duration-300 border-l border-gray-600/50"},e[26]||(e[26]=[t("i",{class:"bi bi-plus-lg text-lg font-bold"},null,-1)]))]),t("div",os,[e[29]||(e[29]=t("i",{class:"bi bi-box text-green-400"},null,-1)),t("span",null,[e[27]||(e[27]=c("库存：")),t("span",rs,d(s(r).stockCount),1),e[28]||(e[28]=c(" 件"))])])])]),s(T).isLoggedIn?x("",!0):(a(),l("div",as,[e[33]||(e[33]=t("div",{class:"flex items-center gap-2 text-yellow-400 mb-2"},[t("i",{class:"bi bi-info-circle"}),t("span",{class:"font-medium"},"购买提示")],-1)),t("p",ls,[q(P,{to:"/auth/login",class:"text-yellow-400 hover:text-yellow-300 underline font-medium"},{default:Q(()=>e[31]||(e[31]=[c("登录 ")])),_:1,__:[31]}),e[32]||(e[32]=c(" 后即可将商品添加到购物车，享受更便捷的购物体验。 "))])])),t("div",ns,[t("button",{onClick:yt,disabled:!s(r).inStock||s(y)||s(v)||!s(T).isLoggedIn,"data-add-to-cart":"",class:"w-full bg-gradient-to-r from-cyan-600 via-blue-600 to-cyan-600 hover:from-cyan-500 hover:via-blue-500 hover:to-cyan-500 disabled:from-gray-600 disabled:to-gray-700 text-white py-3 px-6 rounded-xl font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3 shadow-lg shadow-cyan-500/30 hover:shadow-cyan-500/50 disabled:cursor-not-allowed transform hover:scale-105 active:scale-95 relative overflow-hidden group"},[e[34]||(e[34]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"},null,-1)),s(v)?(a(),l("div",ds)):(a(),l("i",cs)),s(T).isLoggedIn?s(r).inStock?s(v)?(a(),l("span",bs,"添加中...")):(a(),l("span",ps,"加入购物车")):(a(),l("span",gs,"暂时缺货")):(a(),l("span",us,"请先登录"))],8,is),t("button",{onClick:ht,disabled:!s(r).inStock||!s(T).isLoggedIn,class:"w-full bg-gradient-to-r from-green-600 via-emerald-600 to-green-600 hover:from-green-500 hover:via-emerald-500 hover:to-green-500 disabled:from-gray-600 disabled:to-gray-700 text-white py-3 px-6 rounded-xl font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3 shadow-lg shadow-green-500/30 hover:shadow-green-500/50 disabled:cursor-not-allowed transform hover:scale-105 active:scale-95 relative overflow-hidden group"},[e[35]||(e[35]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"},null,-1)),e[36]||(e[36]=t("i",{class:"bi bi-lightning-fill text-xl"},null,-1)),s(T).isLoggedIn?(a(),l("span",fs,"立即购买")):(a(),l("span",xs,"请先登录"))],8,ms)]),e[37]||(e[37]=z('<div class="pt-6 border-t border-gray-700/50" data-v-49f64cfd><div class="grid grid-cols-3 gap-4 text-center" data-v-49f64cfd><div class="flex flex-col items-center gap-3 p-4 bg-gradient-to-br from-green-500/10 to-emerald-500/10 rounded-xl border border-green-400/30 hover:border-green-400/50 transition-all duration-300 group" data-v-49f64cfd><div class="p-3 bg-green-500/20 rounded-full group-hover:scale-110 transition-transform duration-300" data-v-49f64cfd><i class="bi bi-truck text-2xl text-green-400" data-v-49f64cfd></i></div><span class="text-sm text-gray-300 font-medium" data-v-49f64cfd>免费配送</span></div><div class="flex flex-col items-center gap-3 p-4 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-xl border border-blue-400/30 hover:border-blue-400/50 transition-all duration-300 group" data-v-49f64cfd><div class="p-3 bg-blue-500/20 rounded-full group-hover:scale-110 transition-transform duration-300" data-v-49f64cfd><i class="bi bi-shield-check text-2xl text-blue-400" data-v-49f64cfd></i></div><span class="text-sm text-gray-300 font-medium" data-v-49f64cfd>两年保修</span></div><div class="flex flex-col items-center gap-3 p-4 bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-xl border border-purple-400/30 hover:border-purple-400/50 transition-all duration-300 group" data-v-49f64cfd><div class="p-3 bg-purple-500/20 rounded-full group-hover:scale-110 transition-transform duration-300" data-v-49f64cfd><i class="bi bi-arrow-repeat text-2xl text-purple-400" data-v-49f64cfd></i></div><span class="text-sm text-gray-300 font-medium" data-v-49f64cfd>30天退换</span></div></div></div>',1))])])]),t("div",vs,[e[39]||(e[39]=t("h2",{class:"text-3xl font-bold text-white mb-8 flex items-center gap-4"},[t("div",{class:"p-3 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg shadow-lg"},[t("i",{class:"bi bi-gear-fill text-white text-2xl"})]),t("span",{class:"bg-gradient-to-r from-white via-cyan-100 to-blue-100 bg-clip-text text-transparent"},"技术规格")],-1)),s(r).specs&&Object.keys(s(r).specs).length>0?(a(),l("div",ys,[(a(!0),l(S,null,I(s(r).specs,(n,w)=>(a(),l("div",{key:w,class:"group flex justify-between items-center p-5 bg-gradient-to-r from-gray-800/50 to-gray-700/50 rounded-xl border border-gray-600/30 hover:border-cyan-400/50 transition-all duration-300 hover:shadow-lg hover:shadow-cyan-500/20 backdrop-blur-sm"},[t("span",hs,d(Dt(w)),1),t("span",ws,d(n),1)]))),128))])):(a(),l("div",_s,e[38]||(e[38]=[t("i",{class:"bi bi-info-circle text-3xl mb-2"},null,-1),t("p",null,"暂无规格信息",-1)])))]),t("div",ks,[e[53]||(e[53]=t("h2",{class:"text-3xl font-bold text-white mb-8 flex items-center gap-4"},[t("div",{class:"p-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg shadow-lg"},[t("i",{class:"bi bi-chat-dots-fill text-white text-2xl"})]),t("span",{class:"bg-gradient-to-r from-white via-cyan-100 to-blue-100 bg-clip-text text-transparent"},"用户评价")],-1)),s(F)?(a(),l("div",Cs,[t("div",Ss,[t("div",Is,d(s(F).average_rating),1),t("div",Ds,[(a(),l(S,null,I(5,n=>t("i",{key:n,class:B([n<=Math.round(s(F).average_rating)?"text-yellow-400":"text-gray-600","bi bi-star-fill text-2xl drop-shadow-lg"])},null,2)),64))]),t("div",Fs,[e[40]||(e[40]=c("基于 ")),t("span",$s,d(s(F).total_reviews),1),e[41]||(e[41]=c(" 条评价"))])]),t("div",Ts,[(a(!0),l(S,null,I(s(F).rating_distribution,n=>(a(),l("div",{key:n.rating,class:"flex items-center gap-4"},[t("span",As,d(n.rating)+"星",1),t("div",Ms,[t("div",{class:"bg-gradient-to-r from-yellow-400 to-orange-400 h-3 rounded-full transition-all duration-500 hover:shadow-lg hover:shadow-yellow-500/30",style:Z({width:`${n.percentage}%`})},null,4)]),t("span",Ls,d(n.count)+" 条",1)]))),128))])])):s(A)?(a(),l("div",Ps,e[42]||(e[42]=[t("div",{class:"w-8 h-8 border-2 border-yellow-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"},null,-1),t("p",{class:"text-gray-300"},"正在加载评论统计...",-1)]))):x("",!0),t("div",Rs,[s(r)?(a(),Bt(ie,{key:0,"product-id":s(r).id,onReviewSubmitted:pt},null,8,["product-id"])):x("",!0)]),t("div",Bs,[X(t("select",{"onUpdate:modelValue":e[1]||(e[1]=n=>s(M).rating=n),onChange:et,class:"px-4 py-2 bg-gray-800/50 border border-gray-600/50 rounded-lg text-white focus:ring-2 focus:ring-cyan-500"},e[43]||(e[43]=[z('<option value="all" data-v-49f64cfd>所有评分</option><option value="5" data-v-49f64cfd>5星</option><option value="4" data-v-49f64cfd>4星</option><option value="3" data-v-49f64cfd>3星</option><option value="2" data-v-49f64cfd>2星</option><option value="1" data-v-49f64cfd>1星</option>',6)]),544),[[at,s(M).rating]]),X(t("select",{"onUpdate:modelValue":e[2]||(e[2]=n=>s(M).sort=n),onChange:et,class:"px-4 py-2 bg-gray-800/50 border border-gray-600/50 rounded-lg text-white focus:ring-2 focus:ring-cyan-500"},e[44]||(e[44]=[z('<option value="newest" data-v-49f64cfd>最新发布</option><option value="oldest" data-v-49f64cfd>最早发布</option><option value="rating_high" data-v-49f64cfd>评分从高到低</option><option value="rating_low" data-v-49f64cfd>评分从低到高</option><option value="helpful" data-v-49f64cfd>最有帮助</option>',5)]),544),[[at,s(M).sort]])]),!s(A)&&s(D).length>0?(a(),l("div",Es,[(a(!0),l(S,null,I(s(D),n=>{var w,st;return a(),l("div",{key:n.id,class:"p-6 bg-gradient-to-r from-gray-800/40 to-gray-700/40 rounded-xl border border-gray-600/30 hover:border-cyan-400/50 transition-all duration-300 hover:shadow-lg hover:shadow-cyan-500/10 backdrop-blur-sm"},[t("div",js,[t("div",Ns,[t("div",Vs,[(w=n.user_info)!=null&&w.avatar&&!n.is_anonymous?(a(),l("img",{key:0,src:n.user_info.avatar,alt:n.author,class:"w-full h-full object-cover"},null,8,zs)):(a(),l("i",qs))]),t("div",null,[t("div",Us,[t("div",Os,d(n.is_anonymous?"匿名用户":((st=n.user_info)==null?void 0:st.nickname)||n.author),1),n.is_anonymous?(a(),l("span",Hs,e[45]||(e[45]=[t("i",{class:"bi bi-incognito mr-1"},null,-1),c(" 匿名 ")]))):x("",!0),n.verified_purchase?(a(),l("span",Js,e[46]||(e[46]=[t("i",{class:"bi bi-check-circle mr-1"},null,-1),c(" 已购买 ")]))):x("",!0)]),t("div",Qs,d(Ft(n.created_at)),1)])]),t("div",Gs,[(a(),l(S,null,I(5,V=>t("i",{key:V,class:B([V<=n.rating?"text-yellow-400":"text-gray-600","bi bi-star-fill text-lg drop-shadow-lg"])},null,2)),64))])]),t("p",Ks,d(n.comment),1),n.images&&n.images.length>0?(a(),l("div",Xs,[(a(!0),l(S,null,I(n.images,(V,ot)=>(a(),l("img",{key:ot,src:V,alt:`评论图片${ot+1}`,class:"w-full h-20 object-cover rounded-lg border border-gray-600/30"},null,8,Ys))),128))])):x("",!0),t("div",Ws,[e[48]||(e[48]=t("span",{class:"text-gray-400 text-sm"},"这条评论有帮助吗？",-1)),t("div",Zs,[t("button",{onClick:V=>bt(n.id,!0),class:"flex items-center gap-2 px-3 py-1 text-gray-400 hover:text-green-400 transition-colors duration-200"},[e[47]||(e[47]=t("i",{class:"bi bi-hand-thumbs-up"},null,-1)),t("span",null,"有帮助 ("+d(n.helpful_count||0)+")",1)],8,to)])])])}),128))])):!s(A)&&s(D).length===0?(a(),l("div",eo,e[49]||(e[49]=[t("div",{class:"text-4xl text-gray-400 mb-4"},[t("i",{class:"bi bi-chat-dots"})],-1),t("h3",{class:"text-xl font-semibold text-white mb-2"},"暂无评论",-1),t("p",{class:"text-gray-400 mb-6"},"成为第一个评价此产品的用户",-1)]))):s(A)?(a(),l("div",so,e[50]||(e[50]=[t("div",{class:"w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"},null,-1),t("p",{class:"text-gray-300"},"正在加载评论...",-1)]))):x("",!0),!s(A)&&s(D).length>0?(a(),l("div",oo,[t("div",ro,[t("button",{onClick:e[3]||(e[3]=n=>L(s(h)-1)),disabled:s(h)<=1,class:"px-4 py-2 bg-gray-800/50 border border-gray-600/50 rounded-lg text-white hover:bg-gray-700/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},e[51]||(e[51]=[t("i",{class:"bi bi-chevron-left"},null,-1),c(" 上一页 ")]),8,ao),t("span",lo," 第 "+d(s(h))+" 页 / 共 "+d(s(R))+" 页 ",1),t("button",{onClick:e[4]||(e[4]=n=>L(s(h)+1)),disabled:s(h)>=s(R),class:"px-4 py-2 bg-gray-800/50 border border-gray-600/50 rounded-lg text-white hover:bg-gray-700/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},e[52]||(e[52]=[c(" 下一页 "),t("i",{class:"bi bi-chevron-right"},null,-1)]),8,no)])])):x("",!0)])])):s(f)&&!s(k)?(a(),l("div",io,[t("div",co,[t("div",uo,[e[55]||(e[55]=t("div",{class:"text-8xl text-red-400 mb-8"},[t("i",{class:"bi bi-exclamation-triangle-fill"})],-1)),e[56]||(e[56]=t("h3",{class:"text-3xl font-bold text-white mb-4"},"加载失败",-1)),t("p",go,d(s(f)),1),t("div",bo,[t("button",{onClick:Y,class:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-300 shadow-lg shadow-cyan-500/20 hover:shadow-cyan-500/40"},e[54]||(e[54]=[t("i",{class:"bi bi-arrow-clockwise mr-2"},null,-1),c(" 重新加载 ")])),t("button",{onClick:e[5]||(e[5]=n=>o.$router.go(-1)),class:"w-full border border-gray-600/50 hover:border-cyan-400/50 text-gray-300 hover:text-white hover:bg-cyan-500/10 py-3 px-6 rounded-xl font-semibold transition-all duration-300 backdrop-blur-sm"}," 返回上页 ")])])])])):s(k)?(a(),l("div",po,e[57]||(e[57]=[z('<div class="text-center" data-v-49f64cfd><div class="inline-flex flex-col items-center glass-card-enhanced rounded-2xl border border-cyan-400/40 p-16 shadow-2xl shadow-cyan-500/25 backdrop-blur-xl" data-v-49f64cfd><div class="relative mb-8" data-v-49f64cfd><div class="w-20 h-20 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin" data-v-49f64cfd></div><div class="absolute inset-0 w-20 h-20 border-4 border-blue-500/30 rounded-full animate-pulse" data-v-49f64cfd></div></div><p class="text-3xl font-bold text-white mb-4" data-v-49f64cfd>正在加载产品详情...</p><p class="text-gray-400 text-lg" data-v-49f64cfd>请稍候，正在为您获取最新信息</p></div></div>',1)]))):x("",!0),s(y)?(a(),l("div",mo,[t("div",xo,[(a(!0),l(S,null,I(s(u),n=>(a(),l("div",{key:n.id},[(a(),l(S,null,I(30,w=>t("div",{key:`${n.id}-${w}`,class:B(["confetti-piece",It(w)]),style:Z($t(w,n.delay))},null,6)),64))]))),128))]),t("div",fo,[e[58]||(e[58]=z('<div class="text-8xl text-green-400 mb-8 relative" data-v-49f64cfd><i class="bi bi-check-circle-fill drop-shadow-2xl animate-check-bounce" data-v-49f64cfd></i><div class="absolute inset-0 text-green-400/30 animate-ping-once" data-v-49f64cfd><i class="bi bi-check-circle-fill" data-v-49f64cfd></i></div></div><h3 class="text-3xl font-bold text-white mb-6" data-v-49f64cfd>已加入购物车！</h3>',2)),t("p",vo,d((H=s(r))==null?void 0:H.name)+" 已成功添加到购物车。",1),t("div",{class:"space-y-4"},[t("button",{onClick:wt,class:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white py-3 px-6 rounded-xl font-bold text-lg transition-all duration-300 shadow-lg shadow-green-500/30 hover:shadow-green-500/50 transform hover:scale-105"}," 立即去结算 "),t("button",{onClick:_t,class:"w-full border border-gray-600/50 hover:border-green-400/50 text-gray-300 hover:text-white hover:bg-green-500/10 py-3 px-6 rounded-xl font-bold text-lg transition-all duration-300 backdrop-blur-sm"}," 继续购物 ")])])])):x("",!0)])}}},Mo=it(ho,[["__scopeId","data-v-49f64cfd"]]);export{Mo as default};
