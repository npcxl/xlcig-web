import{_ as Le}from"./C5Ns0pyR.js";import{_ as ne}from"./BF4TDP5n.js";import{_ as ie,x as de,r as p,l as J,e as ce,f as G,c as l,o as a,a as e,m as s,b as U,w as H,d as c,F as k,j as C,k as M,t as d,z as Pe,i as x,p as K,v as Re,E as je,T as re,L as De,M as Ae,D as q,g as Me,G as ae,q as O,J as X}from"./CsW2n5CP.js";import{p as Ne}from"./BZyWtx9-.js";import{c as le}from"./CF7zu2V2.js";import{r as B}from"./By1bEtc9.js";import{c as ue}from"./Dm7ivHU7.js";import{s as Ve}from"./x_rD_Ya3.js";import{u as Fe}from"./BwHqcgHU.js";import"./BXLogEJ7.js";import"./CFjwhGiX.js";const ze={class:"glass-card-enhanced rounded-2xl border border-cyan-400/40 shadow-2xl shadow-cyan-500/25 p-8 backdrop-blur-xl"},qe={key:0,class:"text-center py-8"},Ue={key:1,class:"text-center py-8"},Be={key:2,class:"text-center py-8"},Ee={class:"bg-gray-800/30 rounded-xl p-6 border border-gray-600/30 backdrop-blur-sm"},Oe={class:"flex items-center justify-center gap-2 mb-3"},He={class:"flex"},Je={class:"text-white font-medium ml-2"},Ge={class:"text-gray-300 text-center"},Ke={class:"text-gray-500 text-sm text-center mt-3"},Qe={class:"flex items-center gap-2"},We=["onClick"],Xe={key:0,class:"ml-4 text-white font-medium"},Ye={class:"flex items-center space-x-3"},Ze={class:"flex justify-end gap-4 pt-6"},et=["disabled","title"],tt={class:"flex items-center justify-center w-4 h-4"},st={key:"loading",class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},ot={key:"send",class:"bi bi-send"},rt={key:0,class:"mt-4 p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg"},at={class:"flex items-center gap-2 text-yellow-400 text-sm"},lt={__name:"ReviewForm",props:{productId:{type:Number,required:!0}},emits:["review-submitted"],setup(Y,{emit:F}){const T=Y,L=F,m=de(),{message:r}=ue(["message"]),b=p({rating:0,comment:""}),w=p(!1),y=p(!1),_=p(!1),v=p(!1),f=p(null),S=J(()=>b.value.rating>0&&b.value.comment.trim().length>=10&&m.isLoggedIn&&!v.value&&!_.value),I=J(()=>m.isLoggedIn?v.value?"您已评论过此产品":_.value?"检查中...":b.value.rating===0?"请选择评分":b.value.comment.trim().length<10?"评论内容至少10个字符":y.value?"发布中...":"发布评论":"请先登录"),R=u=>({1:"非常不满意",2:"不满意",3:"一般",4:"满意",5:"非常满意"})[u]||"",h=()=>{b.value={rating:0,comment:""},w.value=!1},A=async()=>{if(!(!m.isLoggedIn||!T.productId))try{_.value=!0;const u=await B.checkUserReview(T.productId);u.success&&(v.value=u.data.has_reviewed,u.data.review&&(f.value=u.data.review))}catch(u){console.error("检查评论状态失败:",u),v.value=!1}finally{_.value=!1}},j=async()=>{var u,i,N;if(!(!S.value||y.value))try{y.value=!0;const g={product_id:T.productId,rating:b.value.rating,comment:b.value.comment.trim(),author:w.value?"匿名用户":((u=m.user)==null?void 0:u.username)||((N=(i=m.user)==null?void 0:i.email)==null?void 0:N.split("@")[0]),is_anonymous:w.value},D=await B.createReview(g);if(D.success)v.value=!0,h(),L("review-submitted"),D.data.verified_purchase&&setTimeout(()=>{r.info("您的购买已验证，评论将获得更高的可信度")},1e3),D.data.author_name&&console.log("评论作者:",D.data.author_name);else throw new Error(D.message||"发布评论失败")}catch(g){console.error("发布评论失败:",g),r.error("发布失败："+(g.message||"请重试"))}finally{y.value=!1}};return ce(()=>{A()}),G(()=>m.isLoggedIn,u=>{u?A():(v.value=!1,f.value=null)}),G(()=>T.productId,()=>{m.isLoggedIn&&A()}),(u,i)=>{const N=ne;return a(),l("div",ze,[i[15]||(i[15]=e("h3",{class:"text-2xl font-bold text-white mb-6 flex items-center gap-3"},[e("div",{class:"p-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg shadow-lg"},[e("i",{class:"bi bi-chat-square-text text-white"})]),e("span",{class:"bg-gradient-to-r from-white via-cyan-100 to-blue-100 bg-clip-text text-transparent"},"发表评论")],-1)),s(m).isLoggedIn?_.value?(a(),l("div",Ue,i[6]||(i[6]=[e("div",{class:"w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"},null,-1),e("p",{class:"text-gray-300"},"正在检查评论状态...",-1)]))):v.value&&f.value?(a(),l("div",Be,[i[7]||(i[7]=e("div",{class:"text-4xl text-green-400 mb-4"},[e("i",{class:"bi bi-check-circle-fill"})],-1)),i[8]||(i[8]=e("h4",{class:"text-xl font-semibold text-white mb-2"},"您已评论过此产品",-1)),i[9]||(i[9]=e("p",{class:"text-gray-400 mb-6"},"每个产品只能发布一次评论",-1)),e("div",Ee,[e("div",Oe,[e("div",He,[(a(),l(k,null,C(5,g=>e("i",{key:g,class:M([g<=f.value.rating?"text-yellow-400":"text-gray-600","bi bi-star-fill text-lg"])},null,2)),64))]),e("span",Je,d(f.value.rating)+" 分",1)]),e("p",Ge,d(f.value.comment),1),e("p",Ke," 发布于 "+d(new Date(f.value.created_at).toLocaleDateString("zh-CN")),1)])])):(a(),l("form",{key:3,onSubmit:Pe(j,["prevent"]),class:"space-y-6"},[e("div",null,[i[11]||(i[11]=e("label",{class:"block text-sm font-bold text-white mb-4 flex items-center gap-2"},[e("i",{class:"bi bi-star text-yellow-400"}),c(" 评分 ")],-1)),e("div",Qe,[(a(),l(k,null,C(5,g=>e("button",{key:g,type:"button",onClick:D=>b.value.rating=g,class:M(["text-3xl transition-all duration-200 hover:scale-110",g<=b.value.rating?"text-yellow-400":"text-gray-600 hover:text-yellow-300"])},i[10]||(i[10]=[e("i",{class:"bi bi-star-fill drop-shadow-lg"},null,-1)]),10,We)),64)),b.value.rating>0?(a(),l("span",Xe,d(R(b.value.rating)),1)):x("",!0)])]),e("div",null,[i[12]||(i[12]=e("label",{class:"block text-sm font-bold text-white mb-4 flex items-center gap-2"},[e("i",{class:"bi bi-chat-dots text-cyan-400"}),c(" 评论内容 ")],-1)),K(e("textarea",{"onUpdate:modelValue":i[0]||(i[0]=g=>b.value.comment=g),required:"",rows:"5",placeholder:"请分享您对这款产品的使用体验...",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400 resize-none"},null,512),[[Re,b.value.comment]])]),e("div",null,[e("label",Ye,[K(e("input",{"onUpdate:modelValue":i[1]||(i[1]=g=>w.value=g),type:"checkbox",class:"w-4 h-4 text-cyan-500 bg-transparent border-2 border-cyan-500 rounded focus:ring-cyan-500"},null,512),[[je,w.value]]),i[13]||(i[13]=e("span",{class:"text-gray-300"},"匿名发表（不显示用户名）",-1))])]),e("div",Ze,[e("button",{type:"button",onClick:h,class:"px-6 py-3 border border-gray-600/50 text-gray-300 hover:text-white hover:border-gray-500 rounded-lg font-medium transition-colors duration-300"}," 重置 "),e("button",{type:"submit",disabled:!S.value||y.value,title:S.value?"":I.value,class:"review-submit-btn px-6 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 disabled:from-gray-600 disabled:to-gray-600 text-white rounded-lg font-bold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg shadow-cyan-500/20 hover:shadow-cyan-500/40 disabled:cursor-not-allowed min-w-[160px]"},[e("div",tt,[U(re,{name:"icon-fade",mode:"out-in"},{default:H(()=>[y.value||_.value?(a(),l("div",st)):(a(),l("i",ot))]),_:1})]),U(re,{name:"text-fade",mode:"out-in"},{default:H(()=>[(a(),l("span",{key:I.value,class:"button-text"},d(I.value),1))]),_:1})],8,et)]),!S.value&&s(m).isLoggedIn?(a(),l("div",rt,[e("div",at,[i[14]||(i[14]=e("i",{class:"bi bi-info-circle"},null,-1)),e("span",null,d(I.value),1)])])):x("",!0)],32)):(a(),l("div",qe,[i[3]||(i[3]=e("div",{class:"text-4xl text-gray-400 mb-4"},[e("i",{class:"bi bi-person-plus"})],-1)),i[4]||(i[4]=e("h4",{class:"text-xl font-semibold text-white mb-2"},"请先登录",-1)),i[5]||(i[5]=e("p",{class:"text-gray-400 mb-6"},"登录后即可发表对此产品的评价",-1)),U(N,{to:"/auth/login",class:"inline-flex items-center px-6 py-3 bg-cyan-600 text-white font-medium rounded-lg hover:bg-cyan-500 transition-all duration-300"},{default:H(()=>i[2]||(i[2]=[e("i",{class:"bi bi-box-arrow-in-right mr-2"},null,-1),c(" 立即登录 ")])),_:1,__:[2]})]))])}}},nt=ie(lt,[["__scopeId","data-v-fabe825f"]]),it={class:"min-h-screen bg-gradient-to-br from-gray-900 via-slate-900 to-black relative overflow-hidden"},dt={key:0,class:"container mx-auto px-6 py-8 relative z-10"},ct={class:"grid lg:grid-cols-2 gap-12 mb-12"},ut={class:"space-y-6"},bt={class:"glass-card-enhanced rounded-2xl border border-cyan-400/40 shadow-2xl shadow-cyan-500/25 overflow-hidden backdrop-blur-xl"},gt={class:"relative h-96 bg-gradient-to-br from-gray-800/60 to-gray-900/60 p-6"},pt={key:0,class:"product-image-container"},mt=["src","alt"],xt={key:1,class:"product-placeholder"},vt={class:"product-placeholder-text"},ft={key:2,class:"absolute top-4 left-4 bg-gradient-to-r from-red-500 via-pink-500 to-red-600 text-white px-4 py-2 rounded-full text-sm font-bold shadow-lg shadow-red-500/40 animate-pulse"},yt={class:"absolute top-4 right-4"},ht={key:0,class:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-red-500/30 text-red-200 border border-red-400/50 shadow-lg shadow-red-500/30 backdrop-blur-sm"},wt={key:1,class:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-orange-500/30 text-orange-200 border border-orange-400/50 shadow-lg shadow-orange-500/30 backdrop-blur-sm animate-pulse"},_t={key:2,class:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold bg-emerald-500/30 text-emerald-200 border border-emerald-400/50 shadow-lg shadow-emerald-500/30 backdrop-blur-sm"},kt={class:"absolute bottom-4 left-4"},Ct={class:"inline-flex items-center px-3 py-1 rounded-lg text-xs font-medium bg-cyan-500/20 text-cyan-300 border border-cyan-400/30 backdrop-blur-sm"},St={class:"glass-card-enhanced rounded-2xl border border-cyan-400/40 shadow-2xl shadow-cyan-500/25 p-8 backdrop-blur-xl"},It={key:0,class:"grid grid-cols-1 gap-4"},$t={class:"text-white font-medium group-hover:text-cyan-300 transition-colors duration-300"},Tt={key:1,class:"text-gray-400 text-center py-8"},Lt={class:"space-y-6"},Pt={class:"glass-card-enhanced rounded-2xl border border-cyan-400/40 shadow-2xl shadow-cyan-500/25 p-8 backdrop-blur-xl"},Rt={class:"flex items-center justify-between mb-6"},jt={class:"flex items-center gap-4"},Dt={class:"inline-flex items-center px-5 py-2 rounded-xl text-sm font-bold bg-gradient-to-r from-cyan-500/30 to-blue-500/30 text-cyan-200 border border-cyan-400/40 shadow-lg backdrop-blur-sm"},At={class:"flex items-center gap-2 text-sm text-gray-400"},Mt={class:"text-4xl font-bold text-white mb-4 leading-tight"},Nt={class:"bg-gradient-to-r from-white via-cyan-100 to-blue-100 bg-clip-text text-transparent"},Vt={class:"flex items-center gap-4 mb-6 text-gray-400"},Ft={key:0,class:"text-sm"},zt={key:1,class:"text-sm"},qt={class:"flex items-center gap-6 mb-8 p-4 bg-gradient-to-r from-gray-800/40 to-gray-700/40 rounded-xl border border-gray-600/30 backdrop-blur-sm"},Ut={class:"flex items-center gap-3"},Bt={class:"flex"},Et={class:"text-2xl font-bold text-white"},Ot={class:"flex items-center gap-2 text-gray-300"},Ht={class:"flex items-center gap-2 text-gray-300"},Jt={class:"mb-8 p-6 bg-gradient-to-r from-cyan-500/10 to-blue-500/10 rounded-xl border border-cyan-400/30 backdrop-blur-sm"},Gt={class:"flex items-end gap-4 mb-3"},Kt={class:"text-5xl font-bold bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent"},Qt={key:0,class:"text-2xl text-gray-500 line-through mb-2"},Wt={key:1,class:"px-3 py-1 bg-red-500/20 text-red-300 rounded-lg text-sm font-medium border border-red-400/30 mb-2"},Xt={class:"text-gray-300 leading-relaxed"},Yt={class:"mb-8"},Zt={class:"flex items-center gap-6"},es={class:"flex items-center border border-gray-600/50 rounded-xl bg-gray-800/30 backdrop-blur-sm"},ts={class:"px-8 py-3 text-white font-bold text-lg min-w-[80px] text-center bg-gray-700/30"},ss={class:"flex items-center gap-2 text-gray-300 bg-gray-800/30 px-4 py-2 rounded-lg border border-gray-600/30 backdrop-blur-sm"},os={class:"text-green-400 font-bold"},rs={key:0,class:"mb-6 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-xl backdrop-blur-sm"},as={class:"text-yellow-300 text-sm"},ls={class:"space-y-4 mb-8"},ns=["disabled"],is={key:0,class:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"},ds={key:1,class:"bi bi-cart-plus text-xl"},cs={key:2},us={key:3},bs={key:4},gs={key:5},ps=["disabled"],ms={key:0},xs={key:1},vs={class:"glass-card-enhanced rounded-2xl border border-cyan-400/40 shadow-2xl shadow-cyan-500/25 p-8 mb-12 backdrop-blur-xl"},fs={key:0,class:"grid md:grid-cols-2 gap-6"},ys={class:"text-gray-300 font-semibold text-lg"},hs={class:"font-bold text-white text-lg group-hover:text-cyan-300 transition-colors duration-300"},ws={key:1,class:"text-gray-400 text-center py-8"},_s={class:"glass-card-enhanced rounded-2xl border border-cyan-400/40 shadow-2xl shadow-cyan-500/25 p-8 backdrop-blur-xl"},ks={key:0,class:"grid md:grid-cols-2 gap-8 mb-8"},Cs={class:"text-center p-6 bg-gradient-to-br from-yellow-500/10 to-orange-500/10 rounded-xl border border-yellow-400/30"},Ss={class:"text-6xl font-bold bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent mb-4"},Is={class:"flex justify-center mb-4"},$s={class:"text-gray-300 text-lg"},Ts={class:"text-yellow-400 font-bold"},Ls={class:"space-y-4"},Ps={class:"text-white w-12 flex-shrink-0 font-bold"},Rs={class:"flex-1 bg-gray-700/50 rounded-full h-3 overflow-hidden backdrop-blur-sm border border-gray-600/30"},js={class:"text-gray-400 w-16 text-sm flex-shrink-0 font-medium"},Ds={key:1,class:"text-center py-8"},As={class:"mb-8"},Ms={class:"flex flex-wrap gap-4 mb-6"},Ns={key:2,class:"space-y-6"},Vs={class:"flex items-center justify-between mb-4"},Fs={class:"flex items-center gap-4"},zs={class:"w-14 h-14 bg-gradient-to-r from-cyan-500/30 to-blue-500/30 rounded-full flex items-center justify-center border border-cyan-400/40 shadow-lg overflow-hidden"},qs=["src","alt"],Us={key:1,class:"bi bi-person-fill text-cyan-400 text-xl"},Bs={class:"flex items-center gap-2"},Es={class:"font-bold text-white text-lg"},Os={key:0,class:"px-2 py-1 bg-gray-500/20 text-gray-300 text-xs rounded-full border border-gray-400/30"},Hs={key:1,class:"px-2 py-1 bg-green-500/20 text-green-300 text-xs rounded-full border border-green-400/30"},Js={class:"text-sm text-gray-400"},Gs={class:"flex gap-1"},Ks={class:"text-gray-300 leading-relaxed text-lg mb-4"},Qs={key:0,class:"grid grid-cols-3 gap-2 mb-4"},Ws=["src","alt"],Xs={class:"flex items-center justify-between pt-4 border-t border-gray-700/50"},Ys={class:"flex items-center gap-4"},Zs=["onClick"],eo={key:3,class:"text-center py-12"},to={key:4,class:"text-center py-8"},so={key:5,class:"mt-8 flex justify-center"},oo={class:"flex items-center gap-2"},ro=["disabled"],ao={class:"px-4 py-2 text-gray-300"},lo=["disabled"],no={key:1,class:"container mx-auto px-6 py-20 relative z-10"},io={class:"text-center"},co={class:"inline-flex flex-col items-center glass-card-enhanced rounded-2xl border border-red-400/40 p-16 shadow-2xl shadow-red-500/25 backdrop-blur-xl max-w-md mx-auto"},uo={class:"text-gray-400 text-lg mb-8"},bo={class:"space-y-3 w-full"},go={key:2,class:"container mx-auto px-6 py-20 relative z-10"},po={key:3,class:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-50 p-4"},mo={class:"confetti-container"},xo={class:"glass-card-enhanced rounded-2xl border border-green-400/50 shadow-2xl shadow-green-500/30 p-10 max-w-md w-full text-center backdrop-blur-xl transform animate-bounce-in"},vo={class:"text-gray-300 mb-8 text-lg leading-relaxed"},fo=5,yo={__name:"[id]",setup(Y){const F=De(),T=parseInt(F.params.id),L=de(),{message:m}=ue(["message"]),r=p(null),b=p(1),w=p(!1),y=p(!1),_=p(!0),v=p(null),f=p(!1),S=p([]),I=p(null),R=p(!1),h=p(1),A=p(1),j=p({rating:"all",sort:"newest"}),u=p([]);let i=null;const N=o=>({graphics:"显卡",cpu:"处理器",motherboard:"主板",power:"电源",memory:"内存",storage:"存储",monitor:"显示器",case:"机箱",cooler:"散热器"})[o]||"硬件",g=async()=>{if(r.value)try{R.value=!0;const o=await B.getProductReviews(r.value.id,{page:h.value,limit:fo,rating:j.value.rating==="all"?void 0:parseInt(j.value.rating),sort:j.value.sort});o.success&&(S.value=o.data.reviews,A.value=o.data.pagination.total_pages);const t=await B.getProductReviewStats(r.value.id);t.success&&(I.value=t.data)}catch(o){console.error("加载评论失败:",o)}finally{R.value=!1}},D=async o=>{o<1||o>A.value||o===h.value||(h.value=o,await g())},Q=async()=>{try{_.value=!0,v.value=null;const o=await Ne.getProductById(T);if(o.success&&o.data){const t=o.data;r.value={id:t.id,name:t.name,brand:t.brand,category:be(t.category_id),price:parseFloat(t.price),originalPrice:t.original_price?parseFloat(t.original_price):null,rating:parseFloat(t.rating),reviewCount:parseInt(t.review_count),viewCount:t.sales*12+Math.floor(Math.random()*1e3),image:t.images&&t.images.length>0?t.images[0]:"",images:t.images||[],inStock:t.stock>0,stockCount:t.stock,description:t.description||t.short_description,specs:t.specifications||{},features:t.features||[],tags:t.tags||[],sales:t.sales,slug:t.slug,sku:t.sku,model:t.model},me(),await g()}else v.value="产品不存在或已下架"}catch(o){console.error("获取产品详情失败:",o),v.value="加载产品详情时出错，请稍后重试"}finally{_.value=!1}},be=o=>({1:"cpu",2:"motherboard",3:"memory",4:"graphics",5:"storage",6:"power",7:"case",8:"cooler",9:"monitor"})[o]||"hardware",ge=async(o,t)=>{if(!L.isLoggedIn){m.warning("请先登录后再进行操作");return}try{if((await B.toggleReviewHelpful(o,t)).success){const V=S.value.find(E=>E.id===o);V&&(V.helpful_count+=t?1:-1,V.helpful_count=Math.max(0,V.helpful_count)),m.success(t?"点赞成功":"取消点赞成功")}}catch(P){console.error("点赞操作失败:",P),m.error("操作失败，请重试")}},pe=()=>{h.value=1,g(),m.success("感谢您的评价！评论已发布")},Z=async()=>{h.value=1,await g()},me=()=>{const o=JSON.parse(localStorage.getItem("favorites")||"[]");w.value=o.includes(T)},xe=()=>{var o;b.value<((o=r.value)==null?void 0:o.stockCount)&&b.value++},ve=()=>{b.value>1&&b.value--},fe=()=>{const o=JSON.parse(localStorage.getItem("favorites")||"[]");if(w.value){const t=o.indexOf(T);t>-1&&o.splice(t,1)}else o.push(T);localStorage.setItem("favorites",JSON.stringify(o)),w.value=!w.value},ye=async()=>{if(!(!r.value||!r.value.inStock||y.value||f.value)){if(!L.isLoggedIn){O("/auth/login");return}try{f.value=!0;const o={productId:r.value.id,quantity:b.value},t=await le.addToCart(o);if(t.success)y.value=!0,ke(),console.log("商品已成功添加到购物车");else throw new Error(t.message||"添加到购物车失败")}catch(o){console.error("添加到购物车失败:",o),o.message?m.error("添加失败："+o.message):m.error("添加到购物车失败，请重试")}finally{f.value=!1}}},he=async()=>{if(!L.isLoggedIn){O("/auth/login");return}if(!(!r.value||!r.value.inStock))try{const o={productId:r.value.id,quantity:b.value},t=await le.addToCart(o);if(t.success)m.success("商品已添加到购物车，正在跳转到结算页面..."),setTimeout(()=>{O("/checkout")},1e3);else throw new Error(t.message||"添加到购物车失败")}catch(o){console.error("立即购买失败:",o),m.error("购买失败："+(o.message||"请重试"))}},we=()=>{O("/checkout")},_e=()=>{y.value=!1},ke=()=>{try{const o=new(window.AudioContext||window.webkitAudioContext),t=o.createOscillator(),P=o.createGain();t.connect(P),P.connect(o.destination),t.frequency.setValueAtTime(800,o.currentTime),t.frequency.setValueAtTime(1e3,o.currentTime+.1),t.frequency.setValueAtTime(1200,o.currentTime+.2),P.gain.setValueAtTime(0,o.currentTime),P.gain.linearRampToValueAtTime(.1,o.currentTime+.01),P.gain.exponentialRampToValueAtTime(.01,o.currentTime+.3),t.start(o.currentTime),t.stop(o.currentTime+.3)}catch{console.log("音效播放不支持或被禁用")}};G(y,o=>{o?(Ce(),setTimeout(()=>{W()},3e3)):W()});const Ce=()=>{u.value=[];let o=0;u.value.push({id:o++,delay:0}),i=Ve(()=>{u.value.push({id:o++,delay:0}),u.value.length>6&&u.value.shift()},500)},W=()=>{i&&(clearInterval(i),i=null),u.value=[]},Se=o=>{const t=["#00f5ff","#0080ff","#a855f7","#10b981","#f59e0b","#ef4444","#ec4899","#8b5cf6"];return t[o%t.length]},Ie=o=>{const t=["confetti-circle","confetti-square","confetti-triangle"];return t[o%t.length]},$e=o=>({TDP:"TDP功耗",制程:"制程工艺",插槽:"接口插槽",缓存:"缓存",L2缓存:"L2缓存",L3缓存:"L3缓存",核心数:"核心数",线程数:"线程数",内存支持:"支持内存",基础频率:"基础频率",最大睿频:"最大睿频",最大加速频率:"最大加速",功耗:"功耗",接口:"显示接口",显存:"显存容量",架构:"架构",CUDA核心:"CUDA核心",加速频率:"加速频率",显存位宽:"显存位宽",流处理器:"流处理器",游戏频率:"游戏频率",容量:"容量",散热:"散热方案",时序:"时序",电压:"工作电压",质保:"质保期",频率:"工作频率",兼容性:"平台兼容"})[o]||o,Te=o=>new Date(o).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"});return ce(()=>{Q()}),Ae(()=>{W()}),G(()=>F.params.id,()=>{parseInt(F.params.id)!==T&&Q()}),Fe({title:J(()=>r.value?`${r.value.name} - xlCig`:"产品详情 - xlCig"),meta:[{name:"description",content:J(()=>{var o;return((o=r.value)==null?void 0:o.description)||"查看产品详细信息和技术规格"})}]}),(o,t)=>{var E,ee,te;const P=Le,V=ne;return a(),l("div",it,[t[59]||(t[59]=e("div",{class:"fixed inset-0 pointer-events-none"},[e("div",{class:"absolute top-20 left-20 w-96 h-96 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full filter blur-3xl animate-pulse"}),e("div",{class:"absolute bottom-20 right-20 w-80 h-80 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-full filter blur-3xl animate-pulse delay-1000"}),e("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-gradient-to-r from-indigo-500/10 to-cyan-500/10 rounded-full filter blur-3xl animate-spin-slow"})],-1)),U(P,{"show-back-button":!1,"show-nav-menu":!1,"show-breadcrumb":!0,"show-location":!1,"show-search-button":!1,"show-notification-button":!1,"show-decorations":!1,"logo-size":"medium","current-page-title":((E=s(r))==null?void 0:E.name)||"产品详情","breadcrumb-items":[{label:"首页",path:"/"},{label:"产品中心",path:"/products"},{label:((ee=s(r))==null?void 0:ee.name)||"产品详情"}]},null,8,["current-page-title","breadcrumb-items"]),s(r)&&!s(_)&&!s(v)?(a(),l("div",dt,[e("div",ct,[e("div",ut,[e("div",bt,[e("div",gt,[s(r).image?(a(),l("div",pt,[e("img",{src:s(r).image,alt:s(r).name,class:"w-full h-full object-contain transition-all duration-500 hover:scale-105 filter drop-shadow-2xl",onError:t[0]||(t[0]=n=>n.target.style.display="none")},null,40,mt)])):(a(),l("div",xt,[t[6]||(t[6]=e("div",{class:"product-icon-wrapper"},[e("i",{class:"bi bi-cpu product-icon"}),e("div",{class:"product-icon-glow"})],-1)),e("span",vt,d(s(r).name),1),t[7]||(t[7]=e("div",{class:"product-tech-pattern"},null,-1))])),s(r).originalPrice&&s(r).originalPrice>s(r).price?(a(),l("div",ft,[t[8]||(t[8]=e("i",{class:"bi bi-lightning-fill mr-1"},null,-1)),c(" 省 ¥"+d((s(r).originalPrice-s(r).price).toLocaleString()),1)])):x("",!0),e("div",yt,[s(r).inStock?s(r).stockCount<=5?(a(),l("span",wt,[t[10]||(t[10]=e("i",{class:"bi bi-exclamation-triangle-fill mr-2 text-orange-300"},null,-1)),c("仅剩 "+d(s(r).stockCount)+" 件 ",1)])):(a(),l("span",_t,t[11]||(t[11]=[e("i",{class:"bi bi-check-circle-fill mr-2 text-emerald-300"},null,-1),c("现货充足 ")]))):(a(),l("span",ht,t[9]||(t[9]=[e("i",{class:"bi bi-x-circle-fill mr-2 text-red-300"},null,-1),c("缺货 ")])))]),e("div",kt,[e("span",Ct,[t[12]||(t[12]=e("i",{class:"bi bi-bookmark-fill mr-1"},null,-1)),c(" "+d(N(s(r).category)),1)])])])]),e("div",St,[t[15]||(t[15]=e("h3",{class:"text-2xl font-bold text-white mb-6 flex items-center gap-3"},[e("div",{class:"p-2 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg shadow-lg"},[e("i",{class:"bi bi-stars text-white"})]),e("span",{class:"bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent"},"核心特性")],-1)),s(r).features&&s(r).features.length>0?(a(),l("div",It,[(a(!0),l(k,null,C(s(r).features,(n,$)=>(a(),l("div",{key:n,class:"group flex items-center gap-4 p-4 bg-gradient-to-r from-gray-800/40 to-gray-700/40 rounded-xl border border-gray-600/30 hover:border-cyan-400/50 transition-all duration-300 hover:shadow-lg hover:shadow-cyan-500/20 backdrop-blur-sm",style:X({"animation-delay":`${$*100}ms`})},[t[13]||(t[13]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300"},[e("i",{class:"bi bi-check text-white text-sm font-bold"})],-1)),e("span",$t,d(n),1)],4))),128))])):(a(),l("div",Tt,t[14]||(t[14]=[e("i",{class:"bi bi-info-circle text-3xl mb-2"},null,-1),e("p",null,"暂无特性信息",-1)])))])]),e("div",Lt,[e("div",Pt,[e("div",Rt,[e("div",jt,[e("span",Dt,[t[16]||(t[16]=e("i",{class:"bi bi-award mr-2"},null,-1)),c(" "+d(s(r).brand),1)]),e("div",At,[t[17]||(t[17]=e("i",{class:"bi bi-eye text-cyan-400"},null,-1)),e("span",null,d(s(r).viewCount||1234)+" 次浏览",1)])]),e("button",{onClick:fe,class:M(["p-3 rounded-xl border transition-all duration-300 group relative overflow-hidden",s(w)?"bg-gradient-to-r from-red-500/30 to-pink-500/30 border-red-400/50 text-red-300 shadow-lg shadow-red-500/30":"border-gray-600/50 text-gray-400 hover:border-red-400/50 hover:text-red-300 hover:bg-red-500/10"])},[e("i",{class:M([s(w)?"bi bi-heart-fill":"bi bi-heart","text-xl relative z-10 group-hover:scale-110 transition-transform duration-300"])},null,2),t[18]||(t[18]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-red-500/20 to-pink-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1))],2)]),e("h1",Mt,[e("span",Nt,d(s(r).name),1)]),e("div",Vt,[s(r).model?(a(),l("span",Ft,[t[19]||(t[19]=e("i",{class:"bi bi-tag mr-1"},null,-1)),c(" 型号: "+d(s(r).model),1)])):x("",!0),s(r).sku?(a(),l("span",zt,[t[20]||(t[20]=e("i",{class:"bi bi-upc mr-1"},null,-1)),c(" SKU: "+d(s(r).sku),1)])):x("",!0)]),e("div",qt,[e("div",Ut,[e("div",Bt,[(a(),l(k,null,C(5,n=>e("i",{key:n,class:M([n<=s(r).rating?"text-yellow-400":"text-gray-600","bi bi-star-fill text-xl drop-shadow-lg"])},null,2)),64))]),e("span",Et,d(s(r).rating),1)]),t[23]||(t[23]=e("div",{class:"h-8 w-px bg-gradient-to-b from-transparent via-gray-500 to-transparent"},null,-1)),e("div",Ot,[t[21]||(t[21]=e("i",{class:"bi bi-chat-dots text-cyan-400"},null,-1)),e("span",null,d(s(r).reviewCount)+" 条评价",1)]),t[24]||(t[24]=e("div",{class:"flex items-center gap-2 text-gray-300"},[e("i",{class:"bi bi-truck text-green-400"}),e("span",null,"免费配送")],-1)),e("div",Ht,[t[22]||(t[22]=e("i",{class:"bi bi-graph-up text-purple-400"},null,-1)),e("span",null,"销量 "+d(s(r).sales),1)])]),e("div",Jt,[e("div",Gt,[e("span",Kt," ¥"+d(s(r).price.toLocaleString()),1),s(r).originalPrice&&s(r).originalPrice>s(r).price?(a(),l("span",Qt," ¥"+d(s(r).originalPrice.toLocaleString()),1)):x("",!0),s(r).originalPrice&&s(r).originalPrice>s(r).price?(a(),l("span",Wt," 省"+d(Math.round((s(r).originalPrice-s(r).price)/s(r).originalPrice*100))+"% ",1)):x("",!0)]),e("p",Xt,d(s(r).description),1)]),e("div",Yt,[t[30]||(t[30]=e("label",{class:"block text-sm font-bold text-white mb-4 flex items-center gap-2"},[e("i",{class:"bi bi-123 text-cyan-400"}),c(" 购买数量 ")],-1)),e("div",Zt,[e("div",es,[e("button",{onClick:ve,class:"px-5 py-3 text-white hover:bg-cyan-500/20 hover:text-cyan-300 rounded-l-xl transition-all duration-300 border-r border-gray-600/50"},t[25]||(t[25]=[e("i",{class:"bi bi-dash-lg text-lg font-bold"},null,-1)])),e("span",ts,d(s(b)),1),e("button",{onClick:xe,class:"px-5 py-3 text-white hover:bg-cyan-500/20 hover:text-cyan-300 rounded-r-xl transition-all duration-300 border-l border-gray-600/50"},t[26]||(t[26]=[e("i",{class:"bi bi-plus-lg text-lg font-bold"},null,-1)]))]),e("div",ss,[t[29]||(t[29]=e("i",{class:"bi bi-box text-green-400"},null,-1)),e("span",null,[t[27]||(t[27]=c("库存：")),e("span",os,d(s(r).stockCount),1),t[28]||(t[28]=c(" 件"))])])])]),s(L).isLoggedIn?x("",!0):(a(),l("div",rs,[t[33]||(t[33]=e("div",{class:"flex items-center gap-2 text-yellow-400 mb-2"},[e("i",{class:"bi bi-info-circle"}),e("span",{class:"font-medium"},"购买提示")],-1)),e("p",as,[U(V,{to:"/auth/login",class:"text-yellow-400 hover:text-yellow-300 underline font-medium"},{default:H(()=>t[31]||(t[31]=[c("登录")])),_:1,__:[31]}),t[32]||(t[32]=c(" 后即可将商品添加到购物车，享受更便捷的购物体验。 "))])])),e("div",ls,[e("button",{onClick:ye,disabled:!s(r).inStock||s(y)||s(f)||!s(L).isLoggedIn,"data-add-to-cart":"",class:"w-full bg-gradient-to-r from-cyan-600 via-blue-600 to-cyan-600 hover:from-cyan-500 hover:via-blue-500 hover:to-cyan-500 disabled:from-gray-600 disabled:to-gray-700 text-white py-3 px-6 rounded-xl font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3 shadow-lg shadow-cyan-500/30 hover:shadow-cyan-500/50 disabled:cursor-not-allowed transform hover:scale-105 active:scale-95 relative overflow-hidden group"},[t[34]||(t[34]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"},null,-1)),s(f)?(a(),l("div",is)):(a(),l("i",ds)),s(L).isLoggedIn?s(r).inStock?s(f)?(a(),l("span",bs,"添加中...")):(a(),l("span",gs,"加入购物车")):(a(),l("span",us,"暂时缺货")):(a(),l("span",cs,"请先登录"))],8,ns),e("button",{onClick:he,disabled:!s(r).inStock||!s(L).isLoggedIn,class:"w-full bg-gradient-to-r from-green-600 via-emerald-600 to-green-600 hover:from-green-500 hover:via-emerald-500 hover:to-green-500 disabled:from-gray-600 disabled:to-gray-700 text-white py-3 px-6 rounded-xl font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3 shadow-lg shadow-green-500/30 hover:shadow-green-500/50 disabled:cursor-not-allowed transform hover:scale-105 active:scale-95 relative overflow-hidden group"},[t[35]||(t[35]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"},null,-1)),t[36]||(t[36]=e("i",{class:"bi bi-lightning-fill text-xl"},null,-1)),s(L).isLoggedIn?(a(),l("span",xs,"立即购买")):(a(),l("span",ms,"请先登录"))],8,ps)]),t[37]||(t[37]=q('<div class="pt-6 border-t border-gray-700/50" data-v-31bb8004><div class="grid grid-cols-3 gap-4 text-center" data-v-31bb8004><div class="flex flex-col items-center gap-3 p-4 bg-gradient-to-br from-green-500/10 to-emerald-500/10 rounded-xl border border-green-400/30 hover:border-green-400/50 transition-all duration-300 group" data-v-31bb8004><div class="p-3 bg-green-500/20 rounded-full group-hover:scale-110 transition-transform duration-300" data-v-31bb8004><i class="bi bi-truck text-2xl text-green-400" data-v-31bb8004></i></div><span class="text-sm text-gray-300 font-medium" data-v-31bb8004>免费配送</span></div><div class="flex flex-col items-center gap-3 p-4 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-xl border border-blue-400/30 hover:border-blue-400/50 transition-all duration-300 group" data-v-31bb8004><div class="p-3 bg-blue-500/20 rounded-full group-hover:scale-110 transition-transform duration-300" data-v-31bb8004><i class="bi bi-shield-check text-2xl text-blue-400" data-v-31bb8004></i></div><span class="text-sm text-gray-300 font-medium" data-v-31bb8004>两年保修</span></div><div class="flex flex-col items-center gap-3 p-4 bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-xl border border-purple-400/30 hover:border-purple-400/50 transition-all duration-300 group" data-v-31bb8004><div class="p-3 bg-purple-500/20 rounded-full group-hover:scale-110 transition-transform duration-300" data-v-31bb8004><i class="bi bi-arrow-repeat text-2xl text-purple-400" data-v-31bb8004></i></div><span class="text-sm text-gray-300 font-medium" data-v-31bb8004>30天退换</span></div></div></div>',1))])])]),e("div",vs,[t[39]||(t[39]=e("h2",{class:"text-3xl font-bold text-white mb-8 flex items-center gap-4"},[e("div",{class:"p-3 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg shadow-lg"},[e("i",{class:"bi bi-gear-fill text-white text-2xl"})]),e("span",{class:"bg-gradient-to-r from-white via-cyan-100 to-blue-100 bg-clip-text text-transparent"},"技术规格")],-1)),s(r).specs&&Object.keys(s(r).specs).length>0?(a(),l("div",fs,[(a(!0),l(k,null,C(s(r).specs,(n,$)=>(a(),l("div",{key:$,class:"group flex justify-between items-center p-5 bg-gradient-to-r from-gray-800/50 to-gray-700/50 rounded-xl border border-gray-600/30 hover:border-cyan-400/50 transition-all duration-300 hover:shadow-lg hover:shadow-cyan-500/20 backdrop-blur-sm"},[e("span",ys,d($e($)),1),e("span",hs,d(n),1)]))),128))])):(a(),l("div",ws,t[38]||(t[38]=[e("i",{class:"bi bi-info-circle text-3xl mb-2"},null,-1),e("p",null,"暂无规格信息",-1)])))]),e("div",_s,[t[53]||(t[53]=e("h2",{class:"text-3xl font-bold text-white mb-8 flex items-center gap-4"},[e("div",{class:"p-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg shadow-lg"},[e("i",{class:"bi bi-chat-dots-fill text-white text-2xl"})]),e("span",{class:"bg-gradient-to-r from-white via-cyan-100 to-blue-100 bg-clip-text text-transparent"},"用户评价")],-1)),s(I)?(a(),l("div",ks,[e("div",Cs,[e("div",Ss,d(s(I).average_rating),1),e("div",Is,[(a(),l(k,null,C(5,n=>e("i",{key:n,class:M([n<=Math.round(s(I).average_rating)?"text-yellow-400":"text-gray-600","bi bi-star-fill text-2xl drop-shadow-lg"])},null,2)),64))]),e("div",$s,[t[40]||(t[40]=c("基于 ")),e("span",Ts,d(s(I).total_reviews),1),t[41]||(t[41]=c(" 条评价"))])]),e("div",Ls,[(a(!0),l(k,null,C(s(I).rating_distribution,n=>(a(),l("div",{key:n.rating,class:"flex items-center gap-4"},[e("span",Ps,d(n.rating)+"星",1),e("div",Rs,[e("div",{class:"bg-gradient-to-r from-yellow-400 to-orange-400 h-3 rounded-full transition-all duration-500 hover:shadow-lg hover:shadow-yellow-500/30",style:X({width:`${n.percentage}%`})},null,4)]),e("span",js,d(n.count)+" 条",1)]))),128))])])):s(R)?(a(),l("div",Ds,t[42]||(t[42]=[e("div",{class:"w-8 h-8 border-2 border-yellow-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"},null,-1),e("p",{class:"text-gray-300"},"正在加载评论统计...",-1)]))):x("",!0),e("div",As,[s(r)?(a(),Me(nt,{key:0,"product-id":s(r).id,onReviewSubmitted:pe},null,8,["product-id"])):x("",!0)]),e("div",Ms,[K(e("select",{"onUpdate:modelValue":t[1]||(t[1]=n=>s(j).rating=n),onChange:Z,class:"px-4 py-2 bg-gray-800/50 border border-gray-600/50 rounded-lg text-white focus:ring-2 focus:ring-cyan-500"},t[43]||(t[43]=[q('<option value="all" data-v-31bb8004>所有评分</option><option value="5" data-v-31bb8004>5星</option><option value="4" data-v-31bb8004>4星</option><option value="3" data-v-31bb8004>3星</option><option value="2" data-v-31bb8004>2星</option><option value="1" data-v-31bb8004>1星</option>',6)]),544),[[ae,s(j).rating]]),K(e("select",{"onUpdate:modelValue":t[2]||(t[2]=n=>s(j).sort=n),onChange:Z,class:"px-4 py-2 bg-gray-800/50 border border-gray-600/50 rounded-lg text-white focus:ring-2 focus:ring-cyan-500"},t[44]||(t[44]=[q('<option value="newest" data-v-31bb8004>最新发布</option><option value="oldest" data-v-31bb8004>最早发布</option><option value="rating_high" data-v-31bb8004>评分从高到低</option><option value="rating_low" data-v-31bb8004>评分从低到高</option><option value="helpful" data-v-31bb8004>最有帮助</option>',5)]),544),[[ae,s(j).sort]])]),!s(R)&&s(S).length>0?(a(),l("div",Ns,[(a(!0),l(k,null,C(s(S),n=>{var $,se;return a(),l("div",{key:n.id,class:"p-6 bg-gradient-to-r from-gray-800/40 to-gray-700/40 rounded-xl border border-gray-600/30 hover:border-cyan-400/50 transition-all duration-300 hover:shadow-lg hover:shadow-cyan-500/10 backdrop-blur-sm"},[e("div",Vs,[e("div",Fs,[e("div",zs,[($=n.user_info)!=null&&$.avatar&&!n.is_anonymous?(a(),l("img",{key:0,src:n.user_info.avatar,alt:n.author,class:"w-full h-full object-cover"},null,8,qs)):(a(),l("i",Us))]),e("div",null,[e("div",Bs,[e("div",Es,d(n.is_anonymous?"匿名用户":((se=n.user_info)==null?void 0:se.nickname)||n.author),1),n.is_anonymous?(a(),l("span",Os,t[45]||(t[45]=[e("i",{class:"bi bi-incognito mr-1"},null,-1),c(" 匿名 ")]))):x("",!0),n.verified_purchase?(a(),l("span",Hs,t[46]||(t[46]=[e("i",{class:"bi bi-check-circle mr-1"},null,-1),c(" 已购买 ")]))):x("",!0)]),e("div",Js,d(Te(n.created_at)),1)])]),e("div",Gs,[(a(),l(k,null,C(5,z=>e("i",{key:z,class:M([z<=n.rating?"text-yellow-400":"text-gray-600","bi bi-star-fill text-lg drop-shadow-lg"])},null,2)),64))])]),e("p",Ks,d(n.comment),1),n.images&&n.images.length>0?(a(),l("div",Qs,[(a(!0),l(k,null,C(n.images,(z,oe)=>(a(),l("img",{key:oe,src:z,alt:`评论图片${oe+1}`,class:"w-full h-20 object-cover rounded-lg border border-gray-600/30"},null,8,Ws))),128))])):x("",!0),e("div",Xs,[t[48]||(t[48]=e("span",{class:"text-gray-400 text-sm"},"这条评论有帮助吗？",-1)),e("div",Ys,[e("button",{onClick:z=>ge(n.id,!0),class:"flex items-center gap-2 px-3 py-1 text-gray-400 hover:text-green-400 transition-colors duration-200"},[t[47]||(t[47]=e("i",{class:"bi bi-hand-thumbs-up"},null,-1)),e("span",null,"有帮助 ("+d(n.helpful_count||0)+")",1)],8,Zs)])])])}),128))])):!s(R)&&s(S).length===0?(a(),l("div",eo,t[49]||(t[49]=[e("div",{class:"text-4xl text-gray-400 mb-4"},[e("i",{class:"bi bi-chat-dots"})],-1),e("h3",{class:"text-xl font-semibold text-white mb-2"},"暂无评论",-1),e("p",{class:"text-gray-400 mb-6"},"成为第一个评价此产品的用户",-1)]))):s(R)?(a(),l("div",to,t[50]||(t[50]=[e("div",{class:"w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"},null,-1),e("p",{class:"text-gray-300"},"正在加载评论...",-1)]))):x("",!0),!s(R)&&s(S).length>0?(a(),l("div",so,[e("div",oo,[e("button",{onClick:t[3]||(t[3]=n=>D(s(h)-1)),disabled:s(h)<=1,class:"px-4 py-2 bg-gray-800/50 border border-gray-600/50 rounded-lg text-white hover:bg-gray-700/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},t[51]||(t[51]=[e("i",{class:"bi bi-chevron-left"},null,-1),c(" 上一页 ")]),8,ro),e("span",ao," 第 "+d(s(h))+" 页 / 共 "+d(s(A))+" 页 ",1),e("button",{onClick:t[4]||(t[4]=n=>D(s(h)+1)),disabled:s(h)>=s(A),class:"px-4 py-2 bg-gray-800/50 border border-gray-600/50 rounded-lg text-white hover:bg-gray-700/50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},t[52]||(t[52]=[c(" 下一页 "),e("i",{class:"bi bi-chevron-right"},null,-1)]),8,lo)])])):x("",!0)])])):s(v)&&!s(_)?(a(),l("div",no,[e("div",io,[e("div",co,[t[55]||(t[55]=e("div",{class:"text-8xl text-red-400 mb-8"},[e("i",{class:"bi bi-exclamation-triangle-fill"})],-1)),t[56]||(t[56]=e("h3",{class:"text-3xl font-bold text-white mb-4"},"加载失败",-1)),e("p",uo,d(s(v)),1),e("div",bo,[e("button",{onClick:Q,class:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-300 shadow-lg shadow-cyan-500/20 hover:shadow-cyan-500/40"},t[54]||(t[54]=[e("i",{class:"bi bi-arrow-clockwise mr-2"},null,-1),c(" 重新加载 ")])),e("button",{onClick:t[5]||(t[5]=n=>o.$router.go(-1)),class:"w-full border border-gray-600/50 hover:border-cyan-400/50 text-gray-300 hover:text-white hover:bg-cyan-500/10 py-3 px-6 rounded-xl font-semibold transition-all duration-300 backdrop-blur-sm"}," 返回上页 ")])])])])):s(_)?(a(),l("div",go,t[57]||(t[57]=[q('<div class="text-center" data-v-31bb8004><div class="inline-flex flex-col items-center glass-card-enhanced rounded-2xl border border-cyan-400/40 p-16 shadow-2xl shadow-cyan-500/25 backdrop-blur-xl" data-v-31bb8004><div class="relative mb-8" data-v-31bb8004><div class="w-20 h-20 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin" data-v-31bb8004></div><div class="absolute inset-0 w-20 h-20 border-4 border-blue-500/30 rounded-full animate-pulse" data-v-31bb8004></div></div><p class="text-3xl font-bold text-white mb-4" data-v-31bb8004>正在加载产品详情...</p><p class="text-gray-400 text-lg" data-v-31bb8004>请稍候，正在为您获取最新信息</p></div></div>',1)]))):x("",!0),s(y)?(a(),l("div",po,[e("div",mo,[(a(!0),l(k,null,C(s(u),n=>(a(),l("div",{key:n.id},[(a(),l(k,null,C(30,$=>e("div",{key:`${n.id}-${$}`,class:M(["confetti-piece",Ie($)]),style:X({left:Math.random()*100+"%",animationDelay:Math.random()*2+n.delay+"s",animationDuration:"3s",backgroundColor:Se($+n.id*30),width:8+Math.random()*6+"px",height:8+Math.random()*6+"px"})},null,6)),64))]))),128))]),e("div",xo,[t[58]||(t[58]=q('<div class="text-8xl text-green-400 mb-8 relative" data-v-31bb8004><i class="bi bi-check-circle-fill drop-shadow-2xl animate-check-bounce" data-v-31bb8004></i><div class="absolute inset-0 text-green-400/30 animate-ping-once" data-v-31bb8004><i class="bi bi-check-circle-fill" data-v-31bb8004></i></div></div><h3 class="text-3xl font-bold text-white mb-6" data-v-31bb8004>已加入购物车！</h3>',2)),e("p",vo,d((te=s(r))==null?void 0:te.name)+" 已成功添加到购物车。",1),e("div",{class:"space-y-4"},[e("button",{onClick:we,class:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white py-3 px-6 rounded-xl font-bold text-lg transition-all duration-300 shadow-lg shadow-green-500/30 hover:shadow-green-500/50 transform hover:scale-105"}," 立即去结算 "),e("button",{onClick:_e,class:"w-full border border-gray-600/50 hover:border-green-400/50 text-gray-300 hover:text-white hover:bg-green-500/10 py-3 px-6 rounded-xl font-bold text-lg transition-all duration-300 backdrop-blur-sm"}," 继续购物 ")])])])):x("",!0)])}}},Ro=ie(yo,[["__scopeId","data-v-31bb8004"]]);export{Ro as default};
