import{_ as xe}from"./B7P3ZcZ_.js";import{_ as ge}from"./GFptVlNT.js";import{_ as ve}from"./BAbLmehF.js";import{_ as ye,r as g,e as I,z as pe,w as E,l as A,o as a,a as e,b as T,c as n,s as v,d as x,p as u,t as r,F as L,j as O,q as me,C as fe,D as he}from"./DYUlAN8C.js";import{u as _e,p as we}from"./Cdo73MRm.js";import{o as X}from"./Dw2SZdRQ.js";import{c as ke}from"./CD5Qg5Z1.js";import"./B2PraNO7.js";import"./CFjwhGiX.js";const Ce={class:"min-h-screen bg-gradient-to-br from-gray-900 via-slate-900 to-black relative overflow-hidden"},Se={class:"relative z-10"},$e={class:"container mx-auto px-6 py-8"},Ie={class:"glass-card-dark rounded-2xl p-8 border border-cyan-500/30 shadow-2xl shadow-cyan-500/20"},Ae={class:"flex items-center justify-between"},Le={class:"flex items-center gap-4"},Oe={key:0,class:"flex items-center gap-2"},ze={key:0,class:"text-xs bg-cyan-400 text-cyan-900 px-2 py-1 rounded-full"},Pe={class:"relative z-10"},je={class:"container mx-auto px-6 py-4"},Re={class:"glass-card-dark rounded-2xl p-6 border border-cyan-500/30 shadow-2xl shadow-cyan-500/20"},De={class:"flex flex-wrap items-center gap-4"},Me={class:"flex flex-wrap gap-2"},qe=["onClick"],Ee={class:"ml-2 text-xs opacity-75"},Te={class:"container mx-auto px-6 py-8 relative z-10"},Be={key:0,class:"text-center py-16"},Ne={class:"glass-card-dark rounded-2xl border border-cyan-500/30 p-20 shadow-2xl shadow-cyan-500/20 max-w-lg mx-auto"},Ve={class:"text-gray-400 mb-8 text-lg"},Fe={class:"space-y-4"},Je={key:1,class:"space-y-6"},Xe={class:"px-8 py-6 border-b border-gray-700/50 bg-gray-800/30"},Ue={class:"flex flex-wrap items-center justify-between gap-4"},Ge={class:"flex items-center gap-4"},He={key:0,class:"flex items-center"},Ke=["onClick"],Qe={class:"text-xl font-bold text-white mb-1"},We={class:"text-gray-400 text-sm"},Ye={class:"text-right"},Ze={class:"text-2xl font-bold text-cyan-400"},et={class:"text-gray-400 text-sm"},tt={class:"p-8"},st={class:"space-y-4"},ot={class:"w-20 h-20 bg-gray-700/50 rounded-lg overflow-hidden"},lt={key:0,class:"order-item-image-container"},at=["src","alt"],nt={key:1,class:"order-item-placeholder"},rt={class:"flex-1"},it={class:"font-semibold text-white text-lg mb-1"},dt={class:"text-gray-400 text-sm mb-2"},ct={class:"flex items-center gap-4"},ut={class:"text-cyan-400 font-semibold"},bt={class:"text-gray-400 text-sm"},xt={class:"flex flex-col gap-2"},gt=["onClick"],vt={class:"px-8 py-6 border-t border-gray-700/50 bg-gray-800/20"},yt={class:"flex flex-wrap items-center justify-between gap-4"},pt={class:"flex items-center gap-6"},mt={class:"flex items-center gap-3"},ft={class:"text-gray-400"},ht={key:0,class:"flex items-center gap-3"},_t={class:"text-gray-400"},wt={class:"flex flex-wrap items-center gap-3"},kt=["onClick"],Ct=["onClick"],St=["onClick"],$t={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"},It={class:"glass-card-dark rounded-2xl border border-cyan-500/30 shadow-2xl shadow-cyan-500/20 p-8 max-w-md w-full"},At={key:0,class:"mb-6"},Lt={class:"flex items-center gap-4 mb-4"},Ot=["src","alt"],zt={class:"font-semibold text-white"},Pt={class:"text-gray-400 text-sm"},jt={class:"space-y-4"},Rt={class:"flex gap-2"},Dt=["onClick"],Mt={key:1,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"},qt={class:"glass-card-dark rounded-2xl border border-cyan-500/30 shadow-2xl shadow-cyan-500/20 p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Et={class:"flex items-center justify-between mb-6"},Tt={class:"mb-6"},Bt={class:"space-y-3 max-h-60 overflow-y-auto"},Nt={class:"font-semibold text-white"},Vt={class:"text-gray-400 text-sm"},Ft={class:"text-right"},Jt={class:"text-lg font-bold text-cyan-400"},Xt={class:"border-t border-gray-700/50 pt-6 mb-6"},Ut={class:"space-y-3"},Gt={class:"flex justify-between items-center"},Ht={class:"text-white font-semibold"},Kt={class:"flex justify-between items-center"},Qt={class:"text-white font-semibold"},Wt={class:"flex justify-between items-center border-t border-gray-700/50 pt-3"},Yt={class:"text-2xl font-bold text-cyan-400"},Zt={class:"mb-6"},es={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},ts={class:"flex gap-4"},ss=["disabled"],os=["disabled"],ls={key:0,class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},as={key:1,class:"bi bi-credit-card"},ns={__name:"orders",setup(rs){const{message:j}=ke(["message"]),z=s=>{j.success(s,{duration:3e3})},R=s=>{j.error(s,{duration:4e3})},U=s=>{j.info(s,{duration:3e3})},b=g([]),p=g("all"),D=g(!1),m=g(null),C=g(5),S=g(""),i=g(new Set),$=g(!1),y=g("card"),w=g(!1),G=async()=>{try{const s=await X.getMyOrders();if(s.success&&s.data){const t=s.data.map(l=>{let d=l.shipping_address;if(typeof d=="string")try{d=JSON.parse(d)}catch(o){console.warn("解析收货地址失败:",o),d={}}const h=[{id:l.config_id||l.product_id||l.id,name:l.config_name||"未知商品",brand:"品牌",price:Number(l.unit_price||0),quantity:Number(l.quantity||1),image:null,product_id:l.config_id||l.product_id}];return{...l,orderNumber:l.order_no,total:Number(l.final_price||l.total_price||0),createdAt:l.created_at,items:h,shippingAddress:d}});return b.value=t,t}else return b.value=[],[]}catch(s){throw console.error("获取订单失败:",s),new Error("获取订单数据失败")}},{isPageLoading:H,isDataLoading:K,hasError:Q,errorMessage:W,reloadPage:Y}=_e({...we.standard,cacheKey:"orders",loadFunction:G,onPageReady:s=>{s&&(b.value=s)}}),M=g([{value:"all",label:"全部订单",icon:"bi-list-ul"},{value:"pending",label:"待支付",icon:"bi-clock"},{value:"processing",label:"处理中",icon:"bi-gear"},{value:"shipped",label:"已发货",icon:"bi-truck"},{value:"delivered",label:"已送达",icon:"bi-check-circle"},{value:"cancelled",label:"已取消",icon:"bi-x-circle"}]),B=I(()=>p.value==="all"?b.value:b.value.filter(s=>s.status===p.value)),k=I(()=>b.value.filter(s=>s.status==="pending")),f=I(()=>{let s=0;return k.value.forEach(t=>{if(i.value.has(t.id)){const l=Number(t.total||t.final_price||0);s+=l}}),Math.round(s*100)/100}),q=I(()=>i.value.size>0),P=I(()=>k.value.length>0&&k.value.every(s=>i.value.has(s.id))),Z=s=>s==="all"?b.value.length:b.value.filter(t=>t.status===s).length,ee=s=>{i.value.has(s)?i.value.delete(s):i.value.add(s),i.value=new Set(i.value)},te=()=>{P.value?i.value.clear():k.value.forEach(s=>{i.value.add(s.id)}),i.value=new Set(i.value)},se=()=>{i.value.clear(),i.value=new Set(i.value)},oe=()=>{if(!q.value){R("请先选择要支付的订单！");return}console.log("快速支付订单ID:",Array.from(i.value)),console.log("支付总金额:",f.value),$.value=!0},le=async()=>{try{w.value=!0;const s=Array.from(i.value),t={card:"银行卡",alipay:"支付宝",wechat:"微信支付"};console.log("正在处理批量支付...",{orderIds:s,totalAmount:f.value,orderCount:i.value.size,paymentMethod:t[y.value]}),U(`正在使用${t[y.value]}支付 ¥${f.value.toLocaleString()}...`),await new Promise(l=>setTimeout(l,3e3)),s.forEach(l=>{const d=b.value.findIndex(h=>h.id===l);d>-1&&(b.value[d].status="paid")}),se(),$.value=!1,z(`${t[y.value]}支付成功！共支付 ${s.length} 个订单，总金额 ¥${f.value.toLocaleString()}`)}catch(s){console.error("批量支付失败:",s),s("支付失败，请重试")}finally{w.value=!1}},N=s=>{const t=M.value.find(l=>l.value===s);return(t==null?void 0:t.label)||s},ae=s=>{const t=M.value.find(l=>l.value===s);return(t==null?void 0:t.icon)||"bi-circle"},ne=s=>({pending:"bg-yellow-500/20 text-yellow-300 border border-yellow-500/30",processing:"bg-blue-500/20 text-blue-300 border border-blue-500/30",shipped:"bg-purple-500/20 text-purple-300 border border-purple-500/30",delivered:"bg-green-500/20 text-green-300 border border-green-500/30",cancelled:"bg-red-500/20 text-red-300 border border-red-500/30"})[s]||"bg-gray-500/20 text-gray-300 border border-gray-500/30",V=s=>new Date(s).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}),re=s=>{m.value=s,C.value=5,S.value="",D.value=!0},F=()=>{D.value=!1,m.value=null,C.value=5,S.value=""},ie=()=>{console.log("提交评价:",{item:m.value,rating:C.value,comment:S.value}),z("感谢您的评价！"),F()},de=s=>{console.log("下载订单发票:",s.orderNumber),z("发票下载已开始！")},ce=async s=>{if(confirm("您确定要取消这个订单吗？"))try{const t=await X.cancelOrder(s);if(t.success){const l=b.value.findIndex(d=>d.id===s);l>-1&&(b.value[l].status="cancelled"),z("订单取消成功！")}else R(t.message||"取消订单失败，请重试。")}catch(t){console.error("取消订单失败:",t),t("取消订单失败，请重试。")}},ue=s=>{try{if(!s.items||!Array.isArray(s.items)||s.items.length===0){R("该订单没有商品信息，无法重新下单。");return}const t=JSON.parse(localStorage.getItem("cartItems")||"[]");s.items.forEach(l=>{const d=t.findIndex(h=>h.id===l.id);d>-1?t[d].quantity+=l.quantity:t.push({...l})}),localStorage.setItem("cartItems",JSON.stringify(t)),he("/checkout")}catch(t){console.error("重新下单失败:",t),t("重新下单失败，请重试。")}},be=s=>s.includes("RTX")||s.includes("RX")||s.includes("显卡")?"bi bi-gpu-card text-cyan-400 text-xl":s.includes("Intel")||s.includes("AMD")||s.includes("Ryzen")||s.includes("Core")?"bi bi-cpu text-orange-400 text-xl":s.includes("主板")||s.includes("STRIX")||s.includes("MAG")?"bi bi-motherboard text-green-400 text-xl":s.includes("电源")||s.includes("PSU")||s.includes("Power")?"bi bi-lightning text-yellow-400 text-xl":"bi bi-pc-display text-gray-400 text-xl";return(s,t)=>{const l=xe,d=ge,h=ve;return a(),pe(h,{"is-page-loading":A(H),"is-data-loading":A(K),"has-error":A(Q),"error-message":A(W),"loading-title":"正在加载订单数据...","loading-message":"请稍候",onRetry:A(Y)},{default:E(()=>[e("div",Ce,[t[38]||(t[38]=e("div",{class:"fixed inset-0 pointer-events-none"},[e("div",{class:"absolute top-20 left-20 w-96 h-96 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full filter blur-3xl animate-pulse"}),e("div",{class:"absolute bottom-20 right-20 w-80 h-80 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-full filter blur-3xl animate-pulse delay-1000"}),e("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-gradient-to-r from-indigo-500/10 to-cyan-500/10 rounded-full filter blur-3xl animate-spin-slow"})],-1)),T(l,{"show-back-button":!1,"show-nav-menu":!1,"show-breadcrumb":!0,"show-location":!1,"show-search-button":!1,"show-notification-button":!1,"show-decorations":!1,"logo-size":"medium","current-page-title":"我的订单"}),e("section",Se,[e("div",$e,[e("div",Ie,[e("div",Ae,[t[10]||(t[10]=e("div",null,[e("h1",{class:"text-4xl font-bold text-white mb-3 flex items-center gap-3"},[e("i",{class:"bi bi-bag-check text-cyan-400 text-3xl animate-bounce-gentle"}),x(" 我的订单 ")]),e("p",{class:"text-gray-300 text-lg"},"查看和管理您的订单历史")],-1)),e("div",Le,[k.value.length>0?(a(),n("div",Oe,[e("button",{onClick:te,class:u(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-300 border-2",P.value?"border-cyan-500 bg-cyan-500/20 text-cyan-300":"border-gray-600 text-gray-300 hover:border-cyan-500 hover:text-cyan-300"])},[e("i",{class:u([P.value?"bi-check-square":"bi-square","mr-2"])},null,2),x(" "+r(P.value?"取消全选":"全选待支付"),1)],2),e("button",{onClick:oe,class:u(["px-6 py-2 text-sm font-medium rounded-lg transition-all duration-300 flex items-center gap-2",q.value?"bg-cyan-600 hover:bg-cyan-500 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"])},[t[8]||(t[8]=e("i",{class:"bi bi-credit-card"},null,-1)),t[9]||(t[9]=x(" 立即支付 ")),q.value?(a(),n("span",ze,r(i.value.size),1)):v("",!0)],2)])):v("",!0)])])])])]),e("section",Pe,[e("div",je,[e("div",Re,[e("div",De,[t[11]||(t[11]=e("div",{class:"flex items-center gap-2"},[e("i",{class:"bi bi-funnel text-cyan-400"}),e("span",{class:"text-white font-medium"},"按状态筛选：")],-1)),e("div",Me,[(a(!0),n(L,null,O(M.value,o=>(a(),n("button",{key:o.value,onClick:_=>p.value=o.value,class:u(["px-4 py-2 text-sm font-medium rounded-lg transition-all duration-300",p.value===o.value?"bg-cyan-500/20 text-cyan-300 border border-cyan-400/40":"text-gray-300 hover:bg-white/5 hover:text-white border border-transparent"])},[e("i",{class:u([o.icon,"mr-2"])},null,2),x(" "+r(o.label)+" ",1),e("span",Ee,"("+r(Z(o.value))+")",1)],10,qe))),128))])])])])]),e("main",Te,[B.value.length===0?(a(),n("div",Be,[e("div",Ne,[t[13]||(t[13]=e("div",{class:"text-8xl mb-8 text-cyan-400 opacity-50"},[e("i",{class:"bi bi-bag-x"})],-1)),t[14]||(t[14]=e("h3",{class:"text-3xl font-bold text-white mb-4"},"未找到订单",-1)),e("p",Ve,r(p.value==="all"?"您还没有下过任何订单":`没有状态为"${N(p.value)}"的订单`),1),e("div",Fe,[T(d,{to:"/products",class:"inline-flex items-center justify-center px-8 py-3 bg-cyan-600 text-white font-medium rounded-xl hover:bg-cyan-500 transition-all duration-300 shadow-lg shadow-cyan-500/20 hover:shadow-cyan-500/40"},{default:E(()=>t[12]||(t[12]=[e("i",{class:"bi bi-plus-circle mr-2"},null,-1),x(" 开始购物 ")])),_:1,__:[12]}),p.value!=="all"?(a(),n("button",{key:0,onClick:t[0]||(t[0]=o=>p.value="all"),class:"block w-full px-8 py-3 border border-gray-600 hover:border-cyan-500 text-gray-300 hover:text-white font-medium rounded-lg transition-colors duration-300"}," 查看所有订单 ")):v("",!0)])])])):(a(),n("div",Je,[(a(!0),n(L,null,O(B.value,o=>{var _;return a(),n("div",{key:o.id,class:"glass-card-dark rounded-2xl border border-cyan-500/30 shadow-2xl shadow-cyan-500/20 overflow-hidden hover:border-cyan-400/50 transition-colors duration-300"},[e("div",Xe,[e("div",Ue,[e("div",Ge,[o.status==="pending"?(a(),n("div",He,[e("div",{onClick:c=>ee(o.id),class:u(["w-6 h-6 rounded-lg border-2 cursor-pointer transition-all duration-300 flex items-center justify-center",i.value.has(o.id)?"border-cyan-500 bg-cyan-500/20 text-cyan-400":"border-gray-600 hover:border-cyan-500 text-transparent hover:text-cyan-500/50"])},t[15]||(t[15]=[e("i",{class:"bi bi-check text-sm font-bold"},null,-1)]),10,Ke)])):v("",!0),e("div",null,[e("h3",Qe,"订单 #"+r(o.orderNumber||o.order_no||"N/A"),1),e("p",We,"下单时间："+r(V(o.createdAt||o.created_at)),1)]),e("div",{class:u(["inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium",ne(o.status)])},[e("i",{class:u([ae(o.status),"mr-2"])},null,2),x(" "+r(N(o.status)),1)],2)]),e("div",Ye,[e("div",Ze,"¥"+r((o.total||0).toLocaleString()),1),e("div",et,r(((_=o.items)==null?void 0:_.length)||1)+" 件商品",1)])])]),e("div",tt,[e("div",st,[(a(!0),n(L,null,O(o.items||[],c=>(a(),n("div",{key:c.id,class:"flex items-center gap-6 p-4 bg-gray-800/20 rounded-xl border border-gray-700/30"},[e("div",ot,[c.image?(a(),n("div",lt,[e("img",{src:c.image,alt:c.name,class:"w-full h-full object-contain p-2",onError:t[1]||(t[1]=J=>J.target.style.display="none")},null,40,at)])):(a(),n("div",nt,[e("i",{class:u(be(c.name))},null,2)]))]),e("div",rt,[e("h4",it,r(c.name||"未知商品"),1),e("p",dt,r(c.brand||"未知品牌"),1),e("div",ct,[e("span",ut,"¥"+r((c.price||0).toLocaleString()),1),e("span",bt,"数量："+r(c.quantity||1),1)])]),e("div",xt,[T(d,{to:`/products/${c.id}`,class:"px-4 py-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-medium rounded-lg transition-colors duration-300 text-center"},{default:E(()=>t[16]||(t[16]=[x(" 查看商品 ")])),_:2,__:[16]},1032,["to"]),o.status==="delivered"?(a(),n("button",{key:0,onClick:J=>re(c),class:"px-4 py-2 text-sm border border-gray-600 hover:border-cyan-500 text-gray-300 hover:text-white font-medium rounded-lg transition-colors duration-300"}," 写评价 ",8,gt)):v("",!0)])]))),128))])]),e("div",vt,[e("div",yt,[e("div",pt,[e("div",mt,[t[17]||(t[17]=e("i",{class:"bi bi-truck text-cyan-400"},null,-1)),t[18]||(t[18]=e("span",{class:"text-white font-medium"},"物流单号：",-1)),e("span",ft,r(o.trackingNumber||"暂无"),1)]),o.estimatedDelivery?(a(),n("div",ht,[t[19]||(t[19]=e("i",{class:"bi bi-calendar-event text-cyan-400"},null,-1)),t[20]||(t[20]=e("span",{class:"text-white font-medium"},"预计送达：",-1)),e("span",_t,r(V(o.estimatedDelivery)),1)])):v("",!0)]),e("div",wt,[e("button",{onClick:c=>de(o),class:"px-4 py-2 text-sm border border-gray-600 hover:border-cyan-500 text-gray-300 hover:text-white font-medium rounded-lg transition-colors duration-300 flex items-center gap-2"},t[21]||(t[21]=[e("i",{class:"bi bi-download"},null,-1),x(" 下载发票 ")]),8,kt),o.status==="pending"||o.status==="processing"?(a(),n("button",{key:0,onClick:c=>ce(o.id),class:"px-4 py-2 text-sm border border-red-600 hover:border-red-500 text-red-300 hover:text-red-200 font-medium rounded-lg transition-colors duration-300 flex items-center gap-2"},t[22]||(t[22]=[e("i",{class:"bi bi-x-circle"},null,-1),x(" 取消订单 ")]),8,Ct)):v("",!0),o.status==="delivered"?(a(),n("button",{key:1,onClick:c=>ue(o),class:"px-4 py-2 text-sm bg-green-600 hover:bg-green-500 text-white font-medium rounded-lg transition-colors duration-300 flex items-center gap-2"},t[23]||(t[23]=[e("i",{class:"bi bi-arrow-repeat"},null,-1),x(" 再次购买 ")]),8,St)):v("",!0)])])])])}),128))]))]),D.value?(a(),n("div",$t,[e("div",It,[t[27]||(t[27]=e("h3",{class:"text-2xl font-bold text-white mb-6"},"写商品评价",-1)),m.value?(a(),n("div",At,[e("div",Lt,[e("img",{src:m.value.image,alt:m.value.name,class:"w-16 h-16 object-contain bg-gray-700/50 rounded-lg p-2"},null,8,Ot),e("div",null,[e("h4",zt,r(m.value.name),1),e("p",Pt,r(m.value.brand),1)])]),e("div",jt,[e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-white mb-2"},"评分",-1)),e("div",Rt,[(a(),n(L,null,O(5,o=>e("button",{key:o,onClick:_=>C.value=o,class:u([o<=C.value?"text-yellow-400":"text-gray-600","text-2xl hover:text-yellow-400 transition-colors duration-200"])},t[24]||(t[24]=[e("i",{class:"bi bi-star-fill"},null,-1)]),10,Dt)),64))])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-white mb-2"},"评价内容",-1)),me(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>S.value=o),rows:"4",placeholder:"分享您对这个产品的使用体验...",class:"w-full px-4 py-3 bg-gray-800/50 border border-gray-600/50 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-white placeholder-gray-400 resize-none"},null,512),[[fe,S.value]])])])])):v("",!0),e("div",{class:"flex gap-3"},[e("button",{onClick:ie,class:"flex-1 bg-cyan-600 hover:bg-cyan-500 text-white py-3 px-6 rounded-lg font-medium transition-colors duration-300"}," 提交评价 "),e("button",{onClick:F,class:"flex-1 border border-gray-600 hover:border-gray-500 text-gray-300 hover:text-white py-3 px-6 rounded-lg font-medium transition-colors duration-300"}," 取消 ")])])])):v("",!0),$.value?(a(),n("div",Mt,[e("div",qt,[e("div",Et,[t[29]||(t[29]=e("h3",{class:"text-2xl font-bold text-white flex items-center gap-3"},[e("i",{class:"bi bi-credit-card text-cyan-400"}),x(" 批量支付 ")],-1)),e("button",{onClick:t[3]||(t[3]=o=>$.value=!1),class:"text-gray-400 hover:text-white"},t[28]||(t[28]=[e("i",{class:"bi bi-x-lg text-2xl"},null,-1)]))]),e("div",Tt,[t[30]||(t[30]=e("h4",{class:"text-lg font-semibold text-white mb-4"},"选中的订单",-1)),e("div",Bt,[(a(!0),n(L,null,O(k.value.filter(o=>i.value.has(o.id)),o=>{var _;return a(),n("div",{key:o.id,class:"flex items-center justify-between p-4 bg-gray-800/30 rounded-lg border border-gray-700/30"},[e("div",null,[e("h5",Nt,"订单 #"+r(o.orderNumber||o.order_no),1),e("p",Vt,r(((_=o.items)==null?void 0:_.length)||1)+" 件商品",1)]),e("div",Ft,[e("div",Jt,"¥"+r((o.total||0).toLocaleString()),1)])])}),128))])]),e("div",Xt,[e("div",Ut,[e("div",Gt,[t[31]||(t[31]=e("span",{class:"text-gray-300"},"订单数量",-1)),e("span",Ht,r(i.value.size)+" 个",1)]),e("div",Kt,[t[32]||(t[32]=e("span",{class:"text-gray-300"},"商品总价",-1)),e("span",Qt,"¥"+r(f.value.toLocaleString()),1)]),e("div",Wt,[t[33]||(t[33]=e("span",{class:"text-xl font-semibold text-white"},"支付总额",-1)),e("span",Yt,"¥"+r(f.value.toLocaleString()),1)])])]),e("div",Zt,[t[37]||(t[37]=e("h4",{class:"text-lg font-semibold text-white mb-4"},"选择支付方式",-1)),e("div",es,[e("button",{onClick:t[4]||(t[4]=o=>y.value="card"),class:u(["p-4 border-2 rounded-lg transition-all duration-300 text-center",y.value==="card"?"border-cyan-500 bg-cyan-500/20 text-cyan-300":"border-gray-600/50 hover:border-cyan-500/50 text-gray-300 hover:text-white"])},t[34]||(t[34]=[e("i",{class:"bi bi-credit-card text-2xl mb-2"},null,-1),e("div",{class:"font-semibold"},"银行卡支付",-1),e("div",{class:"text-xs opacity-75 mt-1"},"支持各大银行卡",-1)]),2),e("button",{onClick:t[5]||(t[5]=o=>y.value="alipay"),class:u(["p-4 border-2 rounded-lg transition-all duration-300 text-center",y.value==="alipay"?"border-cyan-500 bg-cyan-500/20 text-cyan-300":"border-gray-600/50 hover:border-cyan-500/50 text-gray-300 hover:text-white"])},t[35]||(t[35]=[e("i",{class:"bi bi-wallet2 text-2xl mb-2"},null,-1),e("div",{class:"font-semibold"},"支付宝",-1),e("div",{class:"text-xs opacity-75 mt-1"},"安全便捷支付",-1)]),2),e("button",{onClick:t[6]||(t[6]=o=>y.value="wechat"),class:u(["p-4 border-2 rounded-lg transition-all duration-300 text-center",y.value==="wechat"?"border-cyan-500 bg-cyan-500/20 text-cyan-300":"border-gray-600/50 hover:border-cyan-500/50 text-gray-300 hover:text-white"])},t[36]||(t[36]=[e("i",{class:"bi bi-wechat text-2xl mb-2"},null,-1),e("div",{class:"font-semibold"},"微信支付",-1),e("div",{class:"text-xs opacity-75 mt-1"},"微信扫码支付",-1)]),2)])]),e("div",ts,[e("button",{onClick:t[7]||(t[7]=o=>$.value=!1),disabled:w.value,class:"flex-1 px-6 py-3 border border-gray-600 hover:border-gray-500 text-gray-300 hover:text-white rounded-lg font-medium transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed"}," 取消 ",8,ss),e("button",{onClick:le,disabled:w.value,class:"flex-1 px-6 py-3 bg-cyan-600 hover:bg-cyan-500 disabled:bg-gray-600 text-white rounded-lg font-medium transition-colors duration-300 flex items-center justify-center gap-2"},[w.value?(a(),n("div",ls)):(a(),n("i",as)),x(" "+r(w.value?"支付中...":`确认支付 ¥${f.value.toLocaleString()}`),1)],8,os)])])])):v("",!0)])]),_:1},8,["is-page-loading","is-data-loading","has-error","error-message","onRetry"])}}},ps=ye(ns,[["__scopeId","data-v-4003d8de"]]);export{ps as default};
