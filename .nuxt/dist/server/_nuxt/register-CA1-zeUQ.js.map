{"version":3,"file":"register-CA1-zeUQ.js","sources":["../../../../pages/auth/register.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gradient-to-br from-gray-900 via-slate-900 to-black relative overflow-hidden flex items-center justify-center py-12\">\r\n    <!-- 背景装饰效果 -->\r\n    <div class=\"fixed inset-0 pointer-events-none\">\r\n      <div class=\"absolute top-20 left-20 w-96 h-96 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full filter blur-3xl animate-pulse\"></div>\r\n      <div class=\"absolute bottom-20 right-20 w-80 h-80 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-full filter blur-3xl animate-pulse delay-1000\"></div>\r\n      <div class=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-gradient-to-r from-indigo-500/10 to-cyan-500/10 rounded-full filter blur-3xl animate-spin-slow\"></div>\r\n    </div>\r\n\r\n    <!-- 返回链接 -->\r\n    <div class=\"absolute top-6 left-6 z-20\">\r\n      <div class=\"flex items-center space-x-4\">\r\n        <AppLogo size=\"small\" />\r\n        <NuxtLink to=\"/\" class=\"inline-flex items-center text-cyan-400 hover:text-cyan-300 transition-colors duration-200\">\r\n          <i class=\"bi bi-arrow-left mr-2 text-lg\"></i>\r\n          <span class=\"text-sm font-medium\">返回首页</span>\r\n        </NuxtLink>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 注册表单容器 -->\r\n    <div class=\"relative z-10 w-full max-w-lg px-6\">\r\n      <div class=\"glass-card-dark rounded-3xl p-8 border border-cyan-500/30 shadow-2xl shadow-cyan-500/20\">\r\n        <!-- 头部 -->\r\n        <div class=\"text-center mb-8\">\r\n          <div class=\"flex justify-center mb-4\">\r\n            <AppLogo size=\"medium\" :show-decorations=\"false\" />\r\n          </div>\r\n          <h1 class=\"text-2xl font-bold text-white mb-2\">创建新账户</h1>\r\n          <p class=\"text-gray-300\">加入xlCig，开始您的专业装机之旅</p>\r\n        </div>\r\n\r\n        <!-- 注册表单 -->\r\n        <form @submit.prevent=\"handleRegister\" class=\"space-y-6\">\r\n          <!-- 用户名输入 -->\r\n          <div>\r\n            <label class=\"block text-sm font-semibold text-white mb-2\">\r\n              <i class=\"bi bi-person mr-2 text-cyan-400\"></i>\r\n              用户名 <span class=\"text-gray-400 text-xs\">(登录账号)</span>\r\n            </label>\r\n            <input \r\n              v-model=\"form.username\"\r\n              type=\"text\" \r\n              required\r\n              placeholder=\"设置您的登录用户名\"\r\n              :class=\"[\r\n                'w-full px-4 py-3 bg-gray-800/70 border rounded-lg text-white placeholder-gray-400 transition-all duration-300 focus:bg-gray-800/90',\r\n                errors.username \r\n                  ? 'border-red-500 focus:border-red-400 focus:ring-2 focus:ring-red-500/20' \r\n                  : 'border-gray-600/50 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20'\r\n              ]\"\r\n              style=\"color: #ffffff !important; background-color: rgba(31, 41, 55, 0.8) !important;\">\r\n            <p v-if=\"errors.username\" class=\"mt-2 text-sm text-red-400\">{{ errors.username }}</p>\r\n            <p v-if=\"form.username && !errors.username\" class=\"mt-2 text-sm text-green-400\">\r\n              <i class=\"bi bi-check-circle mr-1\"></i>用户名可用\r\n            </p>\r\n          </div>\r\n\r\n          <!-- 昵称输入 -->\r\n          <div>\r\n            <label class=\"block text-sm font-semibold text-white mb-2\">\r\n              <i class=\"bi bi-emoji-smile mr-2 text-cyan-400\"></i>\r\n              昵称 <span class=\"text-gray-400 text-xs\">(显示名称，可选)</span>\r\n            </label>\r\n            <input \r\n              v-model=\"form.nickname\"\r\n              type=\"text\" \r\n              placeholder=\"设置您的显示昵称\"\r\n              :class=\"[\r\n                'w-full px-4 py-3 bg-gray-800/70 border rounded-lg text-white placeholder-gray-400 transition-all duration-300 focus:bg-gray-800/90',\r\n                errors.nickname \r\n                  ? 'border-red-500 focus:border-red-400 focus:ring-2 focus:ring-red-500/20' \r\n                  : 'border-gray-600/50 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20'\r\n              ]\"\r\n              style=\"color: #ffffff !important; background-color: rgba(31, 41, 55, 0.8) !important;\">\r\n            <p v-if=\"errors.nickname\" class=\"mt-2 text-sm text-red-400\">{{ errors.nickname }}</p>\r\n            <p v-if=\"!form.nickname\" class=\"mt-2 text-sm text-gray-400\">\r\n              <i class=\"bi bi-info-circle mr-1\"></i>未设置昵称时将显示用户名\r\n            </p>\r\n          </div>\r\n\r\n          <!-- 邮箱输入 -->\r\n          <div>\r\n            <label class=\"block text-sm font-semibold text-white mb-2\">\r\n              <i class=\"bi bi-envelope mr-2 text-cyan-400\"></i>\r\n              邮箱地址\r\n            </label>\r\n            <input \r\n              v-model=\"form.email\"\r\n              type=\"email\" \r\n              required\r\n              placeholder=\"输入您的邮箱地址\"\r\n              :class=\"[\r\n                'w-full px-4 py-3 bg-gray-800/70 border rounded-lg text-white placeholder-gray-400 transition-all duration-300 focus:bg-gray-800/90',\r\n                errors.email \r\n                  ? 'border-red-500 focus:border-red-400 focus:ring-2 focus:ring-red-500/20' \r\n                  : 'border-gray-600/50 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20'\r\n              ]\"\r\n              style=\"color: #ffffff !important; background-color: rgba(31, 41, 55, 0.8) !important;\">\r\n            <p v-if=\"errors.email\" class=\"mt-2 text-sm text-red-400\">{{ errors.email }}</p>\r\n          </div>\r\n\r\n          <!-- 邮箱验证码输入 -->\r\n          <div>\r\n            <label class=\"block text-sm font-semibold text-white mb-2\">\r\n              <i class=\"bi bi-shield-check mr-2 text-cyan-400\"></i>\r\n              邮箱验证码\r\n            </label>\r\n            <div class=\"flex gap-3\">\r\n              <input \r\n                v-model=\"form.emailCode\"\r\n                type=\"text\" \r\n                required\r\n                placeholder=\"输入6位验证码\"\r\n                maxlength=\"6\"\r\n                :class=\"[\r\n                  'flex-1 px-4 py-3 bg-gray-800/70 border rounded-lg text-white placeholder-gray-400 transition-all duration-300 focus:bg-gray-800/90',\r\n                  errors.emailCode \r\n                    ? 'border-red-500 focus:border-red-400 focus:ring-2 focus:ring-red-500/20' \r\n                    : 'border-gray-600/50 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20'\r\n                ]\"\r\n                style=\"color: #ffffff !important; background-color: rgba(31, 41, 55, 0.8) !important;\">\r\n              \r\n              <button \r\n                type=\"button\"\r\n                @click=\"sendEmailCode\"\r\n                :disabled=\"!form.email || !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.email) || sendingCode || countdown > 0\"\r\n                :class=\"[\r\n                  'px-6 py-3 font-medium text-sm rounded-lg transition-all duration-300 whitespace-nowrap',\r\n                  (!form.email || !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.email) || sendingCode || countdown > 0)\r\n                    ? 'bg-gray-600 text-gray-400 cursor-not-allowed'\r\n                    : 'bg-cyan-600 hover:bg-cyan-500 text-white shadow-lg shadow-cyan-500/20 hover:shadow-cyan-500/40'\r\n                ]\">\r\n                <div v-if=\"sendingCode\" class=\"flex items-center gap-2\">\r\n                  <div class=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                  <span>发送中</span>\r\n                </div>\r\n                <span v-else-if=\"countdown > 0\">{{ countdown }}s</span>\r\n                <span v-else>发送验证码</span>\r\n              </button>\r\n            </div>\r\n            <p v-if=\"errors.emailCode\" class=\"mt-2 text-sm text-red-400\">{{ errors.emailCode }}</p>\r\n            <p v-if=\"emailCodeSent && !errors.emailCode\" class=\"mt-2 text-sm text-green-400\">\r\n              <i class=\"bi bi-check-circle mr-1\"></i>验证码已发送到您的邮箱，请查收\r\n            </p>\r\n          </div>\r\n\r\n          <!-- 密码输入 -->\r\n          <div>\r\n            <label class=\"block text-sm font-semibold text-white mb-2\">\r\n              <i class=\"bi bi-lock mr-2 text-cyan-400\"></i>\r\n              密码\r\n            </label>\r\n            <div class=\"relative\">\r\n              <input \r\n                v-model=\"form.password\"\r\n                :type=\"showPassword ? 'text' : 'password'\"\r\n                required\r\n                placeholder=\"设置您的密码\"\r\n                :class=\"[\r\n                  'w-full px-4 py-3 pr-12 bg-gray-800/70 border rounded-lg text-white placeholder-gray-400 transition-all duration-300 focus:bg-gray-800/90',\r\n                  errors.password \r\n                    ? 'border-red-500 focus:border-red-400 focus:ring-2 focus:ring-red-500/20' \r\n                    : 'border-gray-600/50 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20'\r\n                ]\"\r\n                style=\"color: #ffffff !important; background-color: rgba(31, 41, 55, 0.8) !important;\">\r\n              <button \r\n                type=\"button\"\r\n                @click=\"showPassword = !showPassword\"\r\n                class=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-cyan-400 transition-colors duration-200\">\r\n                <i :class=\"showPassword ? 'bi bi-eye-slash' : 'bi bi-eye'\" class=\"text-lg\"></i>\r\n              </button>\r\n            </div>\r\n            <p v-if=\"errors.password\" class=\"mt-2 text-sm text-red-400\">{{ errors.password }}</p>\r\n            \r\n            <!-- 密码强度指示器 -->\r\n            <div v-if=\"form.password\" class=\"mt-3\">\r\n              <div class=\"flex items-center gap-2 mb-2\">\r\n                <span class=\"text-sm text-gray-300\">密码强度:</span>\r\n                <span :class=\"passwordStrengthClass\" class=\"text-sm font-medium\">{{ passwordStrengthText }}</span>\r\n              </div>\r\n              <div class=\"w-full bg-gray-700/50 rounded-full h-2\">\r\n                <div \r\n                  :class=\"passwordStrengthClass\"\r\n                  :style=\"{ width: `${passwordStrength * 25}%` }\"\r\n                  class=\"h-2 rounded-full transition-all duration-300\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 确认密码输入 -->\r\n          <div>\r\n            <label class=\"block text-sm font-semibold text-white mb-2\">\r\n              <i class=\"bi bi-shield-check mr-2 text-cyan-400\"></i>\r\n              确认密码\r\n            </label>\r\n            <div class=\"relative\">\r\n              <input \r\n                v-model=\"form.confirmPassword\"\r\n                :type=\"showConfirmPassword ? 'text' : 'password'\"\r\n                required\r\n                placeholder=\"再次输入您的密码\"\r\n                :class=\"[\r\n                  'w-full px-4 py-3 pr-12 bg-gray-800/70 border rounded-lg text-white placeholder-gray-400 transition-all duration-300 focus:bg-gray-800/90',\r\n                  errors.confirmPassword \r\n                    ? 'border-red-500 focus:border-red-400 focus:ring-2 focus:ring-red-500/20' \r\n                    : 'border-gray-600/50 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20'\r\n                ]\"\r\n                style=\"color: #ffffff !important; background-color: rgba(31, 41, 55, 0.8) !important;\">\r\n              <button \r\n                type=\"button\"\r\n                @click=\"showConfirmPassword = !showConfirmPassword\"\r\n                class=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-cyan-400 transition-colors duration-200\">\r\n                <i :class=\"showConfirmPassword ? 'bi bi-eye-slash' : 'bi bi-eye'\" class=\"text-lg\"></i>\r\n              </button>\r\n            </div>\r\n            <p v-if=\"errors.confirmPassword\" class=\"mt-2 text-sm text-red-400\">{{ errors.confirmPassword }}</p>\r\n            <p v-if=\"form.confirmPassword && form.password === form.confirmPassword && form.password.length >= 6\" \r\n               class=\"mt-2 text-sm text-green-400\">\r\n              <i class=\"bi bi-check-circle mr-1\"></i>密码匹配\r\n            </p>\r\n          </div>\r\n\r\n          <!-- 手机号输入 -->\r\n          <div>\r\n            <label class=\"block text-sm font-semibold text-white mb-2\">\r\n              <i class=\"bi bi-phone mr-2 text-cyan-400\"></i>\r\n              手机号码 <span class=\"text-gray-400 text-xs\">(可选)</span>\r\n            </label>\r\n            <input \r\n              v-model=\"form.phone\"\r\n              type=\"tel\" \r\n              placeholder=\"输入您的手机号码\"\r\n              :class=\"[\r\n                'w-full px-4 py-3 bg-gray-800/70 border rounded-lg text-white placeholder-gray-400 transition-all duration-300 focus:bg-gray-800/90',\r\n                errors.phone \r\n                  ? 'border-red-500 focus:border-red-400 focus:ring-2 focus:ring-red-500/20' \r\n                  : 'border-gray-600/50 focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20'\r\n              ]\"\r\n              style=\"color: #ffffff !important; background-color: rgba(31, 41, 55, 0.8) !important;\">\r\n            <p v-if=\"errors.phone\" class=\"mt-2 text-sm text-red-400\">{{ errors.phone }}</p>\r\n          </div>\r\n\r\n          <!-- 用户协议 -->\r\n          <div class=\"space-y-4\">\r\n            <label class=\"flex items-start gap-3\">\r\n              <input \r\n                v-model=\"form.agreeToTerms\"\r\n                type=\"checkbox\" \r\n                required\r\n                class=\"w-4 h-4 text-cyan-500 bg-gray-800/50 border-gray-600/50 rounded focus:ring-cyan-500 focus:ring-2 mt-1\">\r\n              <span class=\"text-sm text-gray-300 leading-relaxed\">\r\n                我已阅读并同意\r\n                <button type=\"button\" @click=\"showTerms = true\" class=\"text-cyan-400 hover:text-cyan-300 underline\">用户服务协议</button>\r\n                和\r\n                <button type=\"button\" @click=\"showPrivacy = true\" class=\"text-cyan-400 hover:text-cyan-300 underline\">隐私政策</button>\r\n              </span>\r\n            </label>\r\n            \r\n            <label class=\"flex items-start gap-3\">\r\n              <input \r\n                v-model=\"form.subscribeNewsletter\"\r\n                type=\"checkbox\" \r\n                class=\"w-4 h-4 text-cyan-500 bg-gray-800/50 border-gray-600/50 rounded focus:ring-cyan-500 focus:ring-2 mt-1\">\r\n              <span class=\"text-sm text-gray-300 leading-relaxed\">\r\n                订阅我们的产品动态和优惠信息\r\n              </span>\r\n            </label>\r\n          </div>\r\n\r\n          <!-- 注册按钮 -->\r\n          <button \r\n            type=\"submit\"\r\n            :disabled=\"loading || !form.agreeToTerms || !emailCodeSent || !form.emailCode\"\r\n            class=\"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 disabled:from-gray-600 disabled:to-gray-600 text-white py-3 px-6 rounded-xl font-semibold text-lg transition-all duration-300 shadow-lg shadow-cyan-500/20 hover:shadow-cyan-500/40 disabled:cursor-not-allowed flex items-center justify-center gap-3\">\r\n            <div v-if=\"loading\" class=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n            <i v-else class=\"bi bi-person-plus\"></i>\r\n            {{ loading ? '注册中...' : '创建账户' }}\r\n          </button>\r\n        </form>\r\n\r\n        <!-- 分割线 -->\r\n        <div class=\"relative my-8\">\r\n          <div class=\"absolute inset-0 flex items-center\">\r\n            <div class=\"w-full border-t border-gray-600/50\"></div>\r\n          </div>\r\n          <div class=\"relative flex justify-center text-sm\">\r\n            <span class=\"px-4 bg-gray-900 text-gray-400\">或者使用</span>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 社交注册 -->\r\n        <div class=\"space-y-3\">\r\n          <button \r\n            @click=\"handleSocialRegister('google')\"\r\n            class=\"w-full flex items-center justify-center gap-3 px-4 py-3 bg-white text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-all duration-300 shadow-lg\">\r\n            <i class=\"bi bi-google text-lg\"></i>\r\n            使用 Google 注册\r\n          </button>\r\n          \r\n          <button \r\n            @click=\"handleSocialRegister('github')\"\r\n            class=\"w-full flex items-center justify-center gap-3 px-4 py-3 bg-gray-800 text-white font-medium rounded-lg hover:bg-gray-700 transition-all duration-300 shadow-lg\">\r\n            <i class=\"bi bi-github text-lg\"></i>\r\n            使用 GitHub 注册\r\n          </button>\r\n        </div>\r\n\r\n        <!-- 登录链接 -->\r\n        <div class=\"mt-8 text-center\">\r\n          <p class=\"text-gray-300\">\r\n            已有账户？\r\n            <NuxtLink to=\"/auth/login\" class=\"text-cyan-400 hover:text-cyan-300 font-medium transition-colors duration-200\">\r\n              立即登录\r\n            </NuxtLink>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 用户协议弹窗 -->\r\n    <div v-if=\"showTerms\" class=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n      <div class=\"glass-card-dark rounded-2xl border border-cyan-500/30 shadow-2xl shadow-cyan-500/20 p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto\">\r\n        <h3 class=\"text-2xl font-bold text-white mb-6 flex items-center gap-3\">\r\n          <i class=\"bi bi-file-text text-cyan-400\"></i>\r\n          用户服务协议\r\n        </h3>\r\n        \r\n        <div class=\"text-gray-300 space-y-4 text-sm leading-relaxed\">\r\n          <h4 class=\"text-lg font-semibold text-white\">1. 服务条款</h4>\r\n          <p>欢迎使用xlCig服务。通过访问或使用我们的服务，您同意遵守本协议的所有条款和条件。</p>\r\n          \r\n          <h4 class=\"text-lg font-semibold text-white\">2. 用户账户</h4>\r\n          <p>您有责任维护账户信息的安全性和准确性。您不得与他人共享您的账户凭据。</p>\r\n          \r\n          <h4 class=\"text-lg font-semibold text-white\">3. 使用规范</h4>\r\n          <p>您同意不会使用我们的服务进行任何非法、有害或不当的活动。</p>\r\n          \r\n          <h4 class=\"text-lg font-semibold text-white\">4. 隐私保护</h4>\r\n          <p>我们重视您的隐私。请参阅我们的隐私政策了解我们如何收集和使用您的信息。</p>\r\n        </div>\r\n        \r\n        <div class=\"flex gap-3 mt-8\">\r\n          <button \r\n            @click=\"acceptTerms\"\r\n            class=\"flex-1 bg-cyan-600 hover:bg-cyan-500 text-white py-3 px-6 rounded-lg font-medium transition-colors duration-300\">\r\n            同意并继续\r\n          </button>\r\n          <button \r\n            @click=\"showTerms = false\" \r\n            class=\"flex-1 border border-gray-600 hover:border-gray-500 text-gray-300 hover:text-white py-3 px-6 rounded-lg font-medium transition-colors duration-300\">\r\n            关闭\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 隐私政策弹窗 -->\r\n    <div v-if=\"showPrivacy\" class=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n      <div class=\"glass-card-dark rounded-2xl border border-cyan-500/30 shadow-2xl shadow-cyan-500/20 p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto\">\r\n        <h3 class=\"text-2xl font-bold text-white mb-6 flex items-center gap-3\">\r\n          <i class=\"bi bi-shield-check text-cyan-400\"></i>\r\n          隐私政策\r\n        </h3>\r\n        \r\n        <div class=\"text-gray-300 space-y-4 text-sm leading-relaxed\">\r\n          <h4 class=\"text-lg font-semibold text-white\">信息收集</h4>\r\n          <p>我们收集您提供的信息以及您使用我们服务时自动收集的信息。</p>\r\n          \r\n          <h4 class=\"text-lg font-semibold text-white\">信息使用</h4>\r\n          <p>我们使用收集的信息来提供、维护和改善我们的服务。</p>\r\n          \r\n          <h4 class=\"text-lg font-semibold text-white\">信息分享</h4>\r\n          <p>我们不会向第三方出售、交易或以其他方式转移您的个人信息。</p>\r\n          \r\n          <h4 class=\"text-lg font-semibold text-white\">数据安全</h4>\r\n          <p>我们采用适当的安全措施来保护您的个人信息。</p>\r\n        </div>\r\n        \r\n        <div class=\"flex gap-3 mt-8\">\r\n          <button \r\n            @click=\"acceptPrivacy\"\r\n            class=\"flex-1 bg-cyan-600 hover:bg-cyan-500 text-white py-3 px-6 rounded-lg font-medium transition-colors duration-300\">\r\n            同意并继续\r\n          </button>\r\n          <button \r\n            @click=\"showPrivacy = false\" \r\n            class=\"flex-1 border border-gray-600 hover:border-gray-500 text-gray-300 hover:text-white py-3 px-6 rounded-lg font-medium transition-colors duration-300\">\r\n            关闭\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 成功/错误提示 -->\r\n    <div v-if=\"message.show\" \r\n         :class=\"[\r\n           'fixed top-6 right-6 z-50 px-6 py-4 rounded-lg shadow-lg transition-all duration-300',\r\n           message.type === 'success' \r\n             ? 'bg-green-500/20 border border-green-500/30 text-green-300' \r\n             : 'bg-red-500/20 border border-red-500/30 text-red-300'\r\n         ]\">\r\n      <div class=\"flex items-center gap-3\">\r\n        <i :class=\"message.type === 'success' ? 'bi bi-check-circle' : 'bi bi-exclamation-circle'\" class=\"text-lg\"></i>\r\n        <span>{{ message.text }}</span>\r\n        <button @click=\"message.show = false\" class=\"ml-2 hover:opacity-75\">\r\n          <i class=\"bi bi-x text-lg\"></i>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n// 响应式数据\r\nconst form = ref({\r\n  username: '',\r\n  nickname: '',\r\n  email: '',\r\n  password: '',\r\n  confirmPassword: '',\r\n  phone: '',\r\n  agreeToTerms: false,\r\n  subscribeNewsletter: false,\r\n  emailCode: ''\r\n})\r\n\r\nconst errors = ref({\r\n  username: '',\r\n  nickname: '',\r\n  email: '',\r\n  password: '',\r\n  confirmPassword: '',\r\n  phone: '',\r\n  emailCode: ''\r\n})\r\n\r\nconst loading = ref(false)\r\nconst showPassword = ref(false)\r\nconst showConfirmPassword = ref(false)\r\nconst showTerms = ref(false)\r\nconst showPrivacy = ref(false)\r\nconst sendingCode = ref(false)\r\nconst countdown = ref(0)\r\nconst emailCodeSent = ref(false)\r\n\r\nconst message = ref({\r\n  show: false,\r\n  type: 'success',\r\n  text: ''\r\n})\r\n\r\n// 计算属性\r\nconst passwordStrength = computed(() => {\r\n  const password = form.value.password\r\n  let strength = 0\r\n  \r\n  if (password.length >= 6) strength++\r\n  if (password.length >= 10) strength++\r\n  if (/[a-z]/.test(password) && /[A-Z]/.test(password)) strength++\r\n  if (/\\d/.test(password)) strength++\r\n  if (/[!@#$%^&*(),.?\":{}|<>]/.test(password)) strength++\r\n  \r\n  return Math.min(strength, 4)\r\n})\r\n\r\nconst passwordStrengthText = computed(() => {\r\n  const strength = passwordStrength.value\r\n  const texts = ['很弱', '较弱', '一般', '较强', '很强']\r\n  return texts[strength] || '很弱'\r\n})\r\n\r\nconst passwordStrengthClass = computed(() => {\r\n  const strength = passwordStrength.value\r\n  const classes = [\r\n    'bg-red-500 text-red-400',\r\n    'bg-orange-500 text-orange-400',\r\n    'bg-yellow-500 text-yellow-400',\r\n    'bg-blue-500 text-blue-400',\r\n    'bg-green-500 text-green-400'\r\n  ]\r\n  return classes[strength] || classes[0]\r\n})\r\n\r\n// 方法\r\nconst validateForm = () => {\r\n  errors.value = {\r\n    username: '',\r\n    nickname: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    phone: '',\r\n    emailCode: ''\r\n  }\r\n  let isValid = true\r\n\r\n  // 用户名验证\r\n  if (!form.value.username) {\r\n    errors.value.username = '请输入用户名'\r\n    isValid = false\r\n  } else if (form.value.username.length < 3) {\r\n    errors.value.username = '用户名至少需要3个字符'\r\n    isValid = false\r\n  } else if (!/^[a-zA-Z0-9_\\u4e00-\\u9fa5]+$/.test(form.value.username)) {\r\n    errors.value.username = '用户名只能包含字母、数字、下划线和中文'\r\n    isValid = false\r\n  }\r\n\r\n  // 昵称验证（可选）\r\n  if (form.value.nickname) {\r\n    if (form.value.nickname.length > 50) {\r\n      errors.value.nickname = '昵称不能超过50个字符'\r\n      isValid = false\r\n    } else if (!/^[a-zA-Z0-9_\\u4e00-\\u9fa5\\s]+$/.test(form.value.nickname)) {\r\n      errors.value.nickname = '昵称只能包含字母、数字、下划线、中文和空格'\r\n      isValid = false\r\n    }\r\n  }\r\n\r\n  // 邮箱验证\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n  if (!form.value.email) {\r\n    errors.value.email = '请输入邮箱地址'\r\n    isValid = false\r\n  } else if (!emailRegex.test(form.value.email)) {\r\n    errors.value.email = '请输入有效的邮箱地址'\r\n    isValid = false\r\n  }\r\n\r\n  // 邮箱验证码验证\r\n  if (!form.value.emailCode) {\r\n    errors.value.emailCode = '请输入邮箱验证码'\r\n    isValid = false\r\n  } else if (!/^\\d{6}$/.test(form.value.emailCode)) {\r\n    errors.value.emailCode = '验证码应为6位数字'\r\n    isValid = false\r\n  }\r\n\r\n  // 密码验证\r\n  if (!form.value.password) {\r\n    errors.value.password = '请输入密码'\r\n    isValid = false\r\n  } else if (form.value.password.length < 6) {\r\n    errors.value.password = '密码至少需要6个字符'\r\n    isValid = false\r\n  }\r\n\r\n  // 确认密码验证\r\n  if (!form.value.confirmPassword) {\r\n    errors.value.confirmPassword = '请确认密码'\r\n    isValid = false\r\n  } else if (form.value.password !== form.value.confirmPassword) {\r\n    errors.value.confirmPassword = '两次输入的密码不一致'\r\n    isValid = false\r\n  }\r\n\r\n  // 手机号验证（可选）\r\n  if (form.value.phone) {\r\n    const phoneRegex = /^1[3-9]\\d{9}$/\r\n    if (!phoneRegex.test(form.value.phone)) {\r\n      errors.value.phone = '请输入有效的手机号码'\r\n      isValid = false\r\n    }\r\n  }\r\n\r\n  return isValid\r\n}\r\n\r\nconst showMessage = (type, text) => {\r\n  message.value = { show: true, type, text }\r\n  setTimeout(() => {\r\n    message.value.show = false\r\n  }, 5000)\r\n}\r\n\r\nconst handleRegister = async () => {\r\n  if (!validateForm()) return\r\n\r\n  loading.value = true\r\n  \r\n  try {\r\n    const { authApi } = await import('~/utils/api')\r\n    \r\n    // 先验证邮箱验证码\r\n    const codeVerifyResult = await authApi.verifyEmailCode({\r\n      email: form.value.email,\r\n      code: form.value.emailCode\r\n    })\r\n\r\n    if (!codeVerifyResult.success) {\r\n      errors.value.emailCode = codeVerifyResult.message || '验证码验证失败'\r\n      showMessage('error', codeVerifyResult.message || '验证码验证失败')\r\n      return\r\n    }\r\n\r\n    // 验证码通过后进行注册\r\n    const result = await authApi.register({\r\n      username: form.value.username,\r\n      nickname: form.value.nickname || undefined,\r\n      email: form.value.email,\r\n      password: form.value.password,\r\n      phone: form.value.phone || undefined,\r\n      emailCode: form.value.emailCode\r\n    })\r\n\r\n    if (result.success) {\r\n      showMessage('success', '注册成功！邮箱验证通过，请登录您的账户')\r\n      \r\n      setTimeout(() => {\r\n        navigateTo('/auth/login')\r\n      }, 1500)\r\n    } else {\r\n      showMessage('error', result.message || '注册失败')\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error('注册失败:', error)\r\n    const errorMessage = error instanceof Error ? error.message : '注册失败，请检查网络连接'\r\n    showMessage('error', errorMessage)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst handleSocialRegister = async (provider) => {\r\n  try {\r\n    showMessage('success', `正在使用 ${provider} 注册...`)\r\n    \r\n    // 模拟社交注册\r\n    await new Promise(resolve => setTimeout(resolve, 1500))\r\n    \r\n    localStorage.setItem('authToken', 'mock-social-register-jwt-token')\r\n    localStorage.setItem('userInfo', JSON.stringify({\r\n      id: 1,\r\n      name: `${provider}用户`,\r\n      email: `user@${provider}.com`,\r\n      avatar: ''\r\n    }))\r\n    \r\n    showMessage('success', '注册成功！正在跳转...')\r\n    \r\n    setTimeout(() => {\r\n      navigateTo('/')\r\n    }, 1500)\r\n    \r\n  } catch (error) {\r\n    showMessage('error', `${provider} 注册失败，请重试`)\r\n  }\r\n}\r\n\r\nconst acceptTerms = () => {\r\n  form.value.agreeToTerms = true\r\n  showTerms.value = false\r\n  showMessage('success', '已同意用户服务协议')\r\n}\r\n\r\nconst acceptPrivacy = () => {\r\n  showPrivacy.value = false\r\n  showMessage('success', '已同意隐私政策')\r\n}\r\n\r\nconst sendEmailCode = async () => {\r\n  if (!form.value.email || !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.value.email)) {\r\n    errors.value.emailCode = '请先输入有效的邮箱地址'\r\n    return\r\n  }\r\n\r\n  sendingCode.value = true\r\n  \r\n  try {\r\n    const { authApi } = await import('~/utils/api')\r\n    const result = await authApi.sendEmailCode({ email: form.value.email })\r\n\r\n    if (result.success) {\r\n      showMessage('success', '验证码已发送，请查收邮箱')\r\n      emailCodeSent.value = true\r\n      countdown.value = 60\r\n\r\n      const timer = setInterval(() => {\r\n        countdown.value--\r\n        if (countdown.value <= 0) {\r\n          clearInterval(timer)\r\n        }\r\n      }, 1000)\r\n    } else {\r\n      showMessage('error', result.message || '发送验证码失败')\r\n    }\r\n  } catch (error) {\r\n    console.error('发送验证码失败:', error)\r\n    const errorMessage = error instanceof Error ? error.message : '发送验证码失败，请检查网络连接'\r\n    showMessage('error', errorMessage)\r\n  } finally {\r\n    sendingCode.value = false\r\n  }\r\n}\r\n\r\n// 页面元数据\r\nuseHead({\r\n  title: '注册 - xlCig',\r\n  meta: [\r\n    { name: 'description', content: '注册xlCig账户，享受专业的PC硬件产品和服务' }\r\n  ]\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n/* 玻璃卡片效果 */\r\n.glass-card-dark {\r\n  background: rgba(15, 23, 42, 0.8);\r\n  backdrop-filter: blur(20px);\r\n  border: 1px solid rgba(148, 163, 184, 0.1);\r\n}\r\n\r\n/* 自定义动画 */\r\n@keyframes spin-slow {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.animate-spin-slow {\r\n  animation: spin-slow 20s linear infinite;\r\n}\r\n\r\n/* 输入框聚焦效果 */\r\ninput:focus {\r\n  outline: none;\r\n}\r\n\r\n/* 复选框样式 */\r\ninput[type=\"checkbox\"]:checked {\r\n  background-color: rgb(6 182 212);\r\n  border-color: rgb(6 182 212);\r\n}\r\n\r\n/* 自定义滚动条 */\r\n.overflow-y-auto::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.overflow-y-auto::-webkit-scrollbar-track {\r\n  background: rgba(55, 65, 81, 0.3);\r\n  border-radius: 3px;\r\n}\r\n\r\n.overflow-y-auto::-webkit-scrollbar-thumb {\r\n  background: rgba(6, 182, 212, 0.5);\r\n  border-radius: 3px;\r\n}\r\n\r\n.overflow-y-auto::-webkit-scrollbar-thumb:hover {\r\n  background: rgba(6, 182, 212, 0.7);\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 640px) {\r\n  .glass-card-dark {\r\n    margin: 1rem;\r\n    padding: 1.5rem;\r\n  }\r\n}\r\n</style> "],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_push","_parent","_createVNode","_ssrRenderAttr","_unref","_ssrInterpolate","_ssrIncludeBooleanAttr","_ssrLooseContain","_ssrRenderClass"],"mappings":"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"}