{"version":3,"file":"profile-Bw8VwHqf.js","sources":["../../../../utils/api/auth.ts","../../../../utils/api/categories.ts","../../../../utils/api/configs.ts","../../../../utils/api/merchants.ts","../../../../utils/api/system.ts","../../../../utils/api/upload.ts","../../../../utils/api/cart.ts","../../../../utils/api/index.ts","../../../../pages/profile.vue"],"sourcesContent":["import { apiClient } from '../apiClient'\r\nimport type {\r\n  User,\r\n  UserCreateInput,\r\n  UserLoginInput,\r\n  UserLoginResponse,\r\n  UserUpdateInput,\r\n  PasswordChangeInput,\r\n  ApiResponse\r\n} from '../../types/api'\r\n\r\n// 认证相关API\r\nexport const authApi = {\r\n  // 用户注册\r\n  register: (userData: UserCreateInput): Promise<ApiResponse<User>> =>\r\n    apiClient.post('/auth/register', userData, { requireAuth: false }),\r\n\r\n  // 用户登录\r\n  login: (credentials: UserLoginInput): Promise<ApiResponse<UserLoginResponse>> =>\r\n    apiClient.post('/auth/login', credentials, { requireAuth: false }),\r\n\r\n  // 获取当前用户信息\r\n  getProfile: (): Promise<ApiResponse<User>> =>\r\n    apiClient.get('/auth/me'),\r\n\r\n  // 更新用户信息\r\n  updateProfile: (userData: UserUpdateInput): Promise<ApiResponse<User>> =>\r\n    apiClient.put('/auth/profile', userData),\r\n\r\n  // 修改密码\r\n  changePassword: (passwordData: PasswordChangeInput): Promise<ApiResponse<void>> =>\r\n    apiClient.put('/auth/password', passwordData),\r\n\r\n  // 获取用户列表（管理员功能）\r\n  getUsers: (): Promise<ApiResponse<User[]>> =>\r\n    apiClient.get('/users'),\r\n\r\n  // 刷新Token\r\n  refreshToken: (refreshToken: string): Promise<ApiResponse<{ token: string }>> =>\r\n    apiClient.post('/auth/refresh', { refreshToken }, { requireAuth: false }),\r\n\r\n  // 登出\r\n  logout: (): Promise<ApiResponse<void>> =>\r\n    apiClient.post('/auth/logout'),\r\n\r\n  // 忘记密码\r\n  forgotPassword: (email: string): Promise<ApiResponse<void>> =>\r\n    apiClient.post('/auth/forgot-password', { email }, { requireAuth: false }),\r\n\r\n  // 重置密码\r\n  resetPassword: (token: string, newPassword: string): Promise<ApiResponse<void>> =>\r\n    apiClient.post('/auth/reset-password', { token, newPassword }, { requireAuth: false }),\r\n\r\n  // 验证邮箱\r\n  verifyEmail: (token: string): Promise<ApiResponse<void>> =>\r\n    apiClient.post('/auth/verify-email', { token }, { requireAuth: false }),\r\n\r\n  // 重新发送验证邮件\r\n  resendVerification: (email: string): Promise<ApiResponse<void>> =>\r\n    apiClient.post('/auth/resend-verification', { email }, { requireAuth: false }),\r\n\r\n  // 发送邮箱验证码\r\n  sendEmailCode: async (data: { email: string }): Promise<ApiResponse<{ message: string }>> => {\r\n    // 检查发送频率限制（60秒内只能发送一次）\r\n    const lastSendKey = `lastSend_${data.email}`\r\n    const lastSendTime = localStorage.getItem(lastSendKey)\r\n    if (lastSendTime && Date.now() - parseInt(lastSendTime) < 60000) {\r\n      return {\r\n        success: false,\r\n        message: '发送过于频繁，请60秒后再试'\r\n      }\r\n    }\r\n\r\n    // 生成6位数字验证码\r\n    const code = Math.floor(100000 + Math.random() * 900000).toString()\r\n    const messageHtml = `\r\n      <!DOCTYPE html>\r\n      <html>\r\n      <head>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <title>xlCig - 邮箱验证</title>\r\n      </head>\r\n      <body style=\"margin: 0; padding: 20px; background-color: #0a0a0a; font-family: Arial, sans-serif;\">\r\n        <div style=\"max-width: 480px; margin: 0 auto; background: #1a1a1a; border-radius: 8px; border: 1px solid #333; overflow: hidden;\">\r\n          \r\n          <!-- Header -->\r\n          <div style=\"background: #000000; padding: 24px 20px; text-align: center; border-bottom: 1px solid #333;\">\r\n            <div style=\"margin-bottom: 12px;\">\r\n              <!-- Logo -->\r\n              <img src=\"https://xlcig.oss-cn-beijing.aliyuncs.com/avatars/logo.png?Expires=1751639237&OSSAccessKeyId=TMP.3KmZD6t8o3n1rKuSyCorjaftjmjgbsmLYDq74CzmdgC4XQGqBuLsum69r8snmQ2jFs2XMgB46rvT87S3VB9otvmzTpL3fB&Signature=Oax6b3GJVc%2BpH9f69iGgtpTbQdg%3D\" alt=\"xlCig\" style=\"height: 40px; max-width: 160px; display: inline-block;\">\r\n            </div>\r\n            <p style=\"color: #888888; margin: 0; font-size: 12px; text-transform: uppercase; letter-spacing: 1px;\">\r\n              邮箱验证\r\n            </p>\r\n          </div>\r\n\r\n          <!-- Main Content -->\r\n          <div style=\"padding: 24px 20px; background: #1a1a1a;\">\r\n            \r\n            <!-- Verification Code -->\r\n            <div style=\"text-align: center; margin-bottom: 20px;\">\r\n              <h2 style=\"color: #ffffff; margin: 0 0 8px 0; font-size: 18px; font-weight: 600;\">\r\n                验证码\r\n              </h2>\r\n              <p style=\"color: #888888; font-size: 13px; margin: 0 0 16px 0;\">\r\n                请输入以下验证码完成注册\r\n              </p>\r\n              \r\n              <div style=\"background: #000000; border: 1px solid #333; border-radius: 6px; padding: 20px; margin: 16px 0;\">\r\n                <div style=\"font-size: 28px; font-weight: bold; color: #00f5ff; letter-spacing: 4px; font-family: 'Courier New', monospace;\">\r\n                  ${code}\r\n                </div>\r\n                <div style=\"margin-top: 8px; padding-top: 8px; border-top: 1px solid #333;\">\r\n                  <span style=\"color: #888888; font-size: 11px;\">\r\n                    有效期：10分钟\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Security Notice -->\r\n            <div style=\"background: #111111; border: 1px solid #333; border-radius: 4px; padding: 16px; margin: 16px 0;\">\r\n              <p style=\"color: #ffffff; font-size: 12px; font-weight: bold; margin: 0 0 6px 0;\">\r\n                🛡️ 安全提醒\r\n              </p>\r\n              <p style=\"color: #cccccc; font-size: 11px; margin: 0; line-height: 1.4;\">\r\n                • 请勿向任何人透露此验证码<br>\r\n                • 如非本人操作，请忽略此邮件\r\n              </p>\r\n            </div>\r\n\r\n          </div>\r\n\r\n          <!-- Footer -->\r\n          <div style=\"background: #000000; border-top: 1px solid #333; padding: 16px 20px; text-align: center;\">\r\n            <p style=\"color: #666666; font-size: 10px; margin: 0; line-height: 1.3;\">\r\n              此邮件由 xlCig 系统发送<br>\r\n              <span style=\"color: #888888;\">© 2025 xlCig</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </body>\r\n      </html>`\r\n    //网易授权码\r\n    const wyKey = 'QUedTyAvtaBLqjjm'\r\n    //qq授权码\r\n    const qqKey = 'odmyaacplscmdfgi'\r\n    //apiKey\r\n    const apiKey = 'kQkGSVy2vEnsoX1751441583687rSR1yklfuc'\r\n\r\n    // 根据用户邮箱后缀选择对应的授权码和邮箱类型\r\n    const emailDomain = data.email.split('@')[1]?.toLowerCase()\r\n    let smtpCode = ''\r\n    let smtpEmail = ''\r\n    let smtpCodeType = ''\r\n\r\n    if (emailDomain === '163.com' || emailDomain === '126.com') {\r\n      smtpCode = wyKey\r\n      smtpEmail = '18569795073@163.com' // 替换为实际的163邮箱\r\n      smtpCodeType = emailDomain === '163.com' ? '163' : '126'\r\n    } else if (emailDomain === 'qq.com') {\r\n      smtpCode = qqKey\r\n      smtpEmail = '2966898893@qq.com' // 替换为实际的QQ邮箱\r\n      smtpCodeType = 'qq'\r\n    } else {\r\n      // 默认使用163\r\n      smtpCode = wyKey\r\n      smtpEmail = '18569795073@163.com'\r\n      smtpCodeType = '163'\r\n    }\r\n    const title = 'xlCig'\r\n    // 邮件请求的共同参数配置\r\n    const mailRequestData = {\r\n      ColaKey: apiKey,           // API密钥\r\n      tomail: data.email,        // 目标邮箱地址\r\n      fromTitle:title,      // 邮件标题（发件人名称）\r\n      subject: 'register is to xlCig',  // 邮件主题\r\n      content: messageHtml.trim(), // 邮件内容(html)\r\n      isTextContent: false,      // 邮件内容是HTML格式\r\n      smtpCode: smtpCode,        // 邮件系统授权码\r\n      smtpEmail: smtpEmail,      // 开启授权码对应的授权邮箱\r\n      smtpCodeType: smtpCodeType // 授权邮箱的类型\r\n    }\r\n\r\n    try {\r\n      // 调用外部邮件服务API\r\n      const mailResponse = await fetch('https://luckycola.com.cn/tools/customMail', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(mailRequestData)\r\n      })\r\n\r\n      if (!mailResponse.ok) {\r\n        const errorData = await mailResponse.text()\r\n        console.error('邮件服务响应错误:', errorData)\r\n        throw new Error('邮件发送失败')\r\n      }\r\n\r\n      // 记录发送时间\r\n      localStorage.setItem(lastSendKey, Date.now().toString())\r\n\r\n      // 将验证码临时存储到 localStorage，实际项目中应该存储到后端\r\n      const codeData = {\r\n        email: data.email,\r\n        code: code,\r\n        timestamp: Date.now(),\r\n        expires: Date.now() + 10 * 60 * 1000 // 10分钟过期\r\n      }\r\n      localStorage.setItem(`emailCode_${data.email}`, JSON.stringify(codeData))\r\n\r\n      return {\r\n        success: true,\r\n        message: '验证码发送成功，请查看您的邮箱',\r\n        data: { message: '验证码已发送' }\r\n      }\r\n    } catch (error) {\r\n      console.error('发送邮箱验证码失败:', error)\r\n      // 如果HTTPS失败，尝试HTTP\r\n      try {\r\n        const httpResponse = await fetch('http://luckycola.com.cn/tools/customMail', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(mailRequestData)\r\n        })\r\n\r\n        if (httpResponse.ok) {\r\n          // 记录发送时间\r\n          localStorage.setItem(lastSendKey, Date.now().toString())\r\n          \r\n          return {\r\n            success: true,\r\n            message: '验证码发送成功，请查看您的邮箱',\r\n            data: { message: '验证码已发送' }\r\n          }\r\n        }\r\n      } catch (httpError) {\r\n        console.error('HTTP邮件发送也失败:', httpError)\r\n      }\r\n\r\n      return {\r\n        success: false,\r\n        message: error instanceof Error ? error.message : '发送验证码失败，请稍后重试'\r\n      }\r\n    }\r\n  },\r\n\r\n  // 验证邮箱验证码\r\n  verifyEmailCode: (data: { email: string; code: string }): Promise<ApiResponse<boolean>> => {\r\n    try {\r\n      const storedData = localStorage.getItem(`emailCode_${data.email}`)\r\n      if (!storedData) {\r\n        return Promise.resolve({\r\n          success: false,\r\n          message: '验证码不存在或已过期'\r\n        })\r\n      }\r\n\r\n      const codeInfo = JSON.parse(storedData)\r\n      const now = Date.now()\r\n\r\n      if (now > codeInfo.expires) {\r\n        localStorage.removeItem(`emailCode_${data.email}`)\r\n        return Promise.resolve({\r\n          success: false,\r\n          message: '验证码已过期，请重新获取'\r\n        })\r\n      }\r\n\r\n      if (codeInfo.code !== data.code) {\r\n        return Promise.resolve({\r\n          success: false,\r\n          message: '验证码错误'\r\n        })\r\n      }\r\n\r\n      // 验证成功后删除验证码\r\n      localStorage.removeItem(`emailCode_${data.email}`)\r\n\r\n      return Promise.resolve({\r\n        success: true,\r\n        message: '验证码验证成功',\r\n        data: true\r\n      })\r\n    } catch (error) {\r\n      return Promise.resolve({\r\n        success: false,\r\n        message: '验证码验证失败'\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport default authApi ","import { apiClient } from '../apiClient'\r\nimport type { \r\n  ProductCategory, \r\n  CategoryCreateInput,\r\n  PaginationParams,\r\n  ApiResponse \r\n} from '../../types/api'\r\n\r\n// 分类查询参数\r\nexport interface CategoryQueryParams extends PaginationParams {\r\n  status?: 'active' | 'inactive'\r\n  search?: string\r\n}\r\n\r\n// 产品分类相关API\r\nexport const categoriesApi = {\r\n  // 获取分类列表\r\n  getCategories: (params?: CategoryQueryParams): Promise<ApiResponse<ProductCategory[]>> => \r\n    apiClient.getWithParams('/categories', params, { requireAuth: false }),\r\n\r\n  // 获取所有激活的分类（不分页）\r\n  getActiveCategories: (): Promise<ApiResponse<ProductCategory[]>> => \r\n    apiClient.get('/categories/active', { requireAuth: false }),\r\n\r\n  // 根据ID获取分类详情\r\n  getCategoryById: (id: number): Promise<ApiResponse<ProductCategory>> => \r\n    apiClient.get(`/categories/${id}`, { requireAuth: false }),\r\n\r\n  // 根据slug获取分类详情\r\n  getCategoryBySlug: (slug: string): Promise<ApiResponse<ProductCategory>> => \r\n    apiClient.get(`/categories/slug/${slug}`, { requireAuth: false }),\r\n\r\n  // 创建分类（管理员功能）\r\n  createCategory: (categoryData: CategoryCreateInput): Promise<ApiResponse<ProductCategory>> => \r\n    apiClient.post('/categories', categoryData),\r\n\r\n  // 更新分类（管理员功能）\r\n  updateCategory: (id: number, categoryData: Partial<CategoryCreateInput>): Promise<ApiResponse<ProductCategory>> => \r\n    apiClient.put(`/categories/${id}`, categoryData),\r\n\r\n  // 删除分类（管理员功能）\r\n  deleteCategory: (id: number): Promise<ApiResponse<void>> => \r\n    apiClient.delete(`/categories/${id}`),\r\n\r\n  // 批量删除分类（管理员功能）\r\n  batchDeleteCategories: (ids: number[]): Promise<ApiResponse<void>> => \r\n    apiClient.post('/categories/batch-delete', { ids }),\r\n\r\n  // 更新分类状态（管理员功能）\r\n  updateCategoryStatus: (id: number, status: 'active' | 'inactive'): Promise<ApiResponse<ProductCategory>> => \r\n    apiClient.patch(`/categories/${id}/status`, { status }),\r\n\r\n  // 更新分类排序（管理员功能）\r\n  updateCategoryOrder: (orders: { id: number; sort_order: number }[]): Promise<ApiResponse<void>> => \r\n    apiClient.post('/categories/update-order', { orders }),\r\n\r\n  // 获取分类统计信息（管理员功能）\r\n  getCategoryStats: (): Promise<ApiResponse<{ \r\n    total: number; \r\n    active: number; \r\n    inactive: number \r\n  }>> => \r\n    apiClient.get('/categories/stats')\r\n}\r\n\r\nexport default categoriesApi ","import { apiClient } from '../apiClient'\r\nimport type { \r\n  ComputerConfig, \r\n  ConfigCreateInput,\r\n  ConfigQueryParams,\r\n  ApiResponse \r\n} from '../../types/api'\r\n\r\n// 电脑配置相关API\r\nexport const configsApi = {\r\n  // 获取配置列表\r\n  getConfigs: (params?: ConfigQueryParams): Promise<ApiResponse<ComputerConfig[]>> => \r\n    apiClient.getWithParams('/configs', params, { requireAuth: false }),\r\n\r\n  // 获取推荐配置\r\n  getFeaturedConfigs: (limit: number = 10): Promise<ApiResponse<ComputerConfig[]>> => \r\n    apiClient.get(`/configs/featured?limit=${limit}`, { requireAuth: false }),\r\n\r\n  // 获取热门配置\r\n  getHotConfigs: (limit: number = 10): Promise<ApiResponse<ComputerConfig[]>> => \r\n    apiClient.get(`/configs/hot?limit=${limit}`, { requireAuth: false }),\r\n\r\n  // 获取最新配置\r\n  getLatestConfigs: (limit: number = 10): Promise<ApiResponse<ComputerConfig[]>> => \r\n    apiClient.get(`/configs/latest?limit=${limit}`, { requireAuth: false }),\r\n\r\n  // 根据分类获取配置\r\n  getConfigsByCategory: (category: string, params?: Omit<ConfigQueryParams, 'category'>): Promise<ApiResponse<ComputerConfig[]>> => \r\n    apiClient.getWithParams(`/configs/category/${category}`, params, { requireAuth: false }),\r\n\r\n  // 根据商家获取配置\r\n  getConfigsByMerchant: (merchantId: number, params?: Omit<ConfigQueryParams, 'merchant_id'>): Promise<ApiResponse<ComputerConfig[]>> => \r\n    apiClient.getWithParams(`/configs/merchant/${merchantId}`, params, { requireAuth: false }),\r\n\r\n  // 根据价格区间获取配置\r\n  getConfigsByPrice: (minPrice: number, maxPrice: number, params?: Omit<ConfigQueryParams, 'min_price' | 'max_price'>): Promise<ApiResponse<ComputerConfig[]>> => \r\n    apiClient.getWithParams('/configs/price-range', { min_price: minPrice, max_price: maxPrice, ...params }, { requireAuth: false }),\r\n\r\n  // 根据ID获取配置详情\r\n  getConfigById: (id: number): Promise<ApiResponse<ComputerConfig>> => \r\n    apiClient.get(`/configs/${id}`, { requireAuth: false }),\r\n\r\n  // 根据slug获取配置详情\r\n  getConfigBySlug: (slug: string): Promise<ApiResponse<ComputerConfig>> => \r\n    apiClient.get(`/configs/slug/${slug}`, { requireAuth: false }),\r\n\r\n  // 搜索配置\r\n  searchConfigs: (query: string, params?: Omit<ConfigQueryParams, 'search'>): Promise<ApiResponse<ComputerConfig[]>> => \r\n    apiClient.getWithParams('/configs/search', { search: query, ...params }, { requireAuth: false }),\r\n\r\n  // 配置对比\r\n  compareConfigs: (configIds: number[]): Promise<ApiResponse<ComputerConfig[]>> => \r\n    apiClient.post('/configs/compare', { configIds }, { requireAuth: false }),\r\n\r\n  // 获取相似配置\r\n  getSimilarConfigs: (configId: number, limit: number = 6): Promise<ApiResponse<ComputerConfig[]>> => \r\n    apiClient.get(`/configs/${configId}/similar?limit=${limit}`, { requireAuth: false }),\r\n\r\n  // 获取配置推荐（基于预算）\r\n  getRecommendedConfigs: (budget: number, category?: string): Promise<ApiResponse<ComputerConfig[]>> => \r\n    apiClient.getWithParams('/configs/recommend', { budget, category }, { requireAuth: false }),\r\n\r\n  // 获取配置性能评分详情\r\n  getConfigPerformance: (configId: number): Promise<ApiResponse<{\r\n    cpu_score: number\r\n    gpu_score: number\r\n    memory_score: number\r\n    storage_score: number\r\n    overall_score: number\r\n    gaming_performance: number\r\n    work_performance: number\r\n  }>> => \r\n    apiClient.get(`/configs/${configId}/performance`, { requireAuth: false }),\r\n\r\n  // 获取配置价格历史\r\n  getConfigPriceHistory: (configId: number, days: number = 30): Promise<ApiResponse<{ date: string; price: number }[]>> => \r\n    apiClient.get(`/configs/${configId}/price-history?days=${days}`, { requireAuth: false }),\r\n\r\n  // 创建配置（商家功能）\r\n  createConfig: (configData: ConfigCreateInput): Promise<ApiResponse<ComputerConfig>> => \r\n    apiClient.post('/configs', configData),\r\n\r\n  // 更新配置（商家功能）\r\n  updateConfig: (id: number, configData: Partial<ConfigCreateInput>): Promise<ApiResponse<ComputerConfig>> => \r\n    apiClient.put(`/configs/${id}`, configData),\r\n\r\n  // 删除配置（商家功能）\r\n  deleteConfig: (id: number): Promise<ApiResponse<void>> => \r\n    apiClient.delete(`/configs/${id}`),\r\n\r\n  // 批量删除配置（商家功能）\r\n  batchDeleteConfigs: (ids: number[]): Promise<ApiResponse<void>> => \r\n    apiClient.post('/configs/batch-delete', { ids }),\r\n\r\n  // 更新配置状态（商家功能）\r\n  updateConfigStatus: (id: number, status: 'active' | 'inactive' | 'out_of_stock'): Promise<ApiResponse<ComputerConfig>> => \r\n    apiClient.patch(`/configs/${id}/status`, { status }),\r\n\r\n  // 更新配置库存（商家功能）\r\n  updateConfigStock: (id: number, stock: number): Promise<ApiResponse<ComputerConfig>> => \r\n    apiClient.patch(`/configs/${id}/stock`, { stock }),\r\n\r\n  // 上传配置图片（商家功能）\r\n  uploadConfigImages: (configId: number, files: File[]): Promise<ApiResponse<string[]>> => {\r\n    const formData = new FormData()\r\n    files.forEach(file => formData.append('images', file))\r\n    return apiClient.upload(`/configs/${configId}/images`, formData)\r\n  },\r\n\r\n  // 删除配置图片（商家功能）\r\n  deleteConfigImage: (configId: number, imageUrl: string): Promise<ApiResponse<void>> => \r\n    apiClient.delete(`/configs/${configId}/images?imageUrl=${encodeURIComponent(imageUrl)}`),\r\n\r\n  // 复制配置（商家功能）\r\n  cloneConfig: (id: number, newName?: string): Promise<ApiResponse<ComputerConfig>> => \r\n    apiClient.post(`/configs/${id}/clone`, { newName }),\r\n\r\n  // 获取配置统计信息（管理员功能）\r\n  getConfigStats: (): Promise<ApiResponse<{ \r\n    total: number; \r\n    by_category: Record<string, number>;\r\n    active: number; \r\n    inactive: number;\r\n    out_of_stock: number;\r\n    featured: number;\r\n    avg_price: number;\r\n  }>> => \r\n    apiClient.get('/configs/stats'),\r\n\r\n  // 获取配置分类统计\r\n  getCategoryStats: (): Promise<ApiResponse<{\r\n    office: number\r\n    gaming: number\r\n    workstation: number\r\n    budget: number\r\n    high_end: number\r\n  }>> => \r\n    apiClient.get('/configs/category-stats', { requireAuth: false })\r\n}\r\n\r\nexport default configsApi ","import { apiClient } from '../apiClient'\r\nimport type { \r\n  Merchant, \r\n  MerchantCreateInput,\r\n  MerchantQueryParams,\r\n  ApiResponse \r\n} from '../../types/api'\r\n\r\n// 商家相关API\r\nexport const merchantsApi = {\r\n  // 获取商家列表\r\n  getMerchants: (params?: MerchantQueryParams): Promise<ApiResponse<Merchant[]>> => \r\n    apiClient.getWithParams('/merchants', params, { requireAuth: false }),\r\n\r\n  // 获取推荐商家\r\n  getFeaturedMerchants: (limit: number = 10): Promise<ApiResponse<Merchant[]>> => \r\n    apiClient.get(`/merchants/featured?limit=${limit}`, { requireAuth: false }),\r\n\r\n  // 获取顶级商家\r\n  getTopMerchants: (limit: number = 10): Promise<ApiResponse<Merchant[]>> => \r\n    apiClient.get(`/merchants/top?limit=${limit}`, { requireAuth: false }),\r\n\r\n  // 根据ID获取商家详情\r\n  getMerchantById: (id: number): Promise<ApiResponse<Merchant>> => \r\n    apiClient.get(`/merchants/${id}`, { requireAuth: false }),\r\n\r\n  // 根据类型获取商家\r\n  getMerchantsByType: (type: 'verified' | 'premium' | 'basic', params?: Omit<MerchantQueryParams, 'type'>): Promise<ApiResponse<Merchant[]>> => \r\n    apiClient.getWithParams(`/merchants/type/${type}`, params, { requireAuth: false }),\r\n\r\n  // 根据地区获取商家\r\n  getMerchantsByLocation: (location: string, params?: Omit<MerchantQueryParams, 'location'>): Promise<ApiResponse<Merchant[]>> => \r\n    apiClient.getWithParams(`/merchants/location/${encodeURIComponent(location)}`, params, { requireAuth: false }),\r\n\r\n  // 根据专业领域获取商家\r\n  getMerchantsBySpecialty: (specialty: string): Promise<ApiResponse<Merchant[]>> => \r\n    apiClient.get(`/merchants/specialty/${encodeURIComponent(specialty)}`, { requireAuth: false }),\r\n\r\n  // 搜索商家\r\n  searchMerchants: (query: string, params?: Omit<MerchantQueryParams, 'search'>): Promise<ApiResponse<Merchant[]>> => \r\n    apiClient.getWithParams('/merchants/search', { search: query, ...params }, { requireAuth: false }),\r\n\r\n  // 获取商家产品\r\n  getMerchantProducts: (merchantId: number, params?: { page?: number; limit?: number }): Promise<ApiResponse<any[]>> => \r\n    apiClient.getWithParams(`/merchants/${merchantId}/products`, params, { requireAuth: false }),\r\n\r\n  // 获取商家配置\r\n  getMerchantConfigs: (merchantId: number, params?: { page?: number; limit?: number }): Promise<ApiResponse<any[]>> => \r\n    apiClient.getWithParams(`/merchants/${merchantId}/configs`, params, { requireAuth: false }),\r\n\r\n  // 获取商家评价\r\n  getMerchantReviews: (merchantId: number, params?: { page?: number; limit?: number }): Promise<ApiResponse<any[]>> => \r\n    apiClient.getWithParams(`/merchants/${merchantId}/reviews`, params, { requireAuth: false }),\r\n\r\n  // 获取商家订单（商家自己查看）\r\n  getMerchantOrders: (params?: { page?: number; limit?: number; status?: string }): Promise<ApiResponse<any[]>> => \r\n    apiClient.getWithParams('/merchants/my/orders', params),\r\n\r\n  // 获取商家统计（商家自己查看）\r\n  getMerchantStats: (): Promise<ApiResponse<{\r\n    products: number\r\n    configs: number\r\n    orders: number\r\n    revenue: number\r\n    rating: number\r\n    reviews: number\r\n  }>> => \r\n    apiClient.get('/merchants/my/stats'),\r\n\r\n  // 创建商家（用户申请成为商家）\r\n  createMerchant: (merchantData: MerchantCreateInput): Promise<ApiResponse<Merchant>> => \r\n    apiClient.post('/merchants', merchantData),\r\n\r\n  // 更新商家信息（商家自己更新）\r\n  updateMerchant: (merchantData: Partial<MerchantCreateInput>): Promise<ApiResponse<Merchant>> => \r\n    apiClient.put('/merchants/my', merchantData),\r\n\r\n  // 获取当前商家信息（商家自己查看）\r\n  getMyMerchant: (): Promise<ApiResponse<Merchant>> => \r\n    apiClient.get('/merchants/my'),\r\n\r\n  // 上传商家Logo\r\n  uploadMerchantLogo: (file: File): Promise<ApiResponse<{ logoUrl: string }>> => {\r\n    const formData = new FormData()\r\n    formData.append('logo', file)\r\n    return apiClient.upload('/merchants/my/logo', formData)\r\n  },\r\n\r\n  // 删除商家（管理员功能）\r\n  deleteMerchant: (id: number): Promise<ApiResponse<void>> => \r\n    apiClient.delete(`/merchants/${id}`),\r\n\r\n  // 更新商家状态（管理员功能）\r\n  updateMerchantStatus: (id: number, status: 'active' | 'inactive'): Promise<ApiResponse<Merchant>> => \r\n    apiClient.patch(`/merchants/${id}/status`, { status }),\r\n\r\n  // 审核商家（管理员功能）\r\n  approveMerchant: (id: number): Promise<ApiResponse<Merchant>> => \r\n    apiClient.patch(`/merchants/${id}/approve`),\r\n\r\n  // 拒绝商家申请（管理员功能）\r\n  rejectMerchant: (id: number, reason: string): Promise<ApiResponse<void>> => \r\n    apiClient.patch(`/merchants/${id}/reject`, { reason }),\r\n\r\n  // 获取待审核商家列表（管理员功能）\r\n  getPendingMerchants: (): Promise<ApiResponse<Merchant[]>> => \r\n    apiClient.get('/merchants/pending'),\r\n\r\n  // 获取所有商家统计（管理员功能）\r\n  getAllMerchantsStats: (): Promise<ApiResponse<{\r\n    total: number\r\n    verified: number\r\n    premium: number\r\n    basic: number\r\n    active: number\r\n    inactive: number\r\n    pending: number\r\n  }>> => \r\n    apiClient.get('/merchants/admin/stats'),\r\n\r\n  // 获取商家地区列表\r\n  getMerchantLocations: (): Promise<ApiResponse<string[]>> => \r\n    apiClient.get('/merchants/locations', { requireAuth: false }),\r\n\r\n  // 获取商家专业领域列表\r\n  getMerchantSpecialties: (): Promise<ApiResponse<string[]>> => \r\n    apiClient.get('/merchants/specialties', { requireAuth: false }),\r\n\r\n  // 商家认证申请\r\n  applyVerification: (documents: File[]): Promise<ApiResponse<void>> => {\r\n    const formData = new FormData()\r\n    documents.forEach((file, index) => {\r\n      formData.append(`document_${index}`, file)\r\n    })\r\n    return apiClient.upload('/merchants/my/verify', formData)\r\n  },\r\n\r\n  // 获取商家认证状态\r\n  getVerificationStatus: (): Promise<ApiResponse<{\r\n    status: 'pending' | 'approved' | 'rejected' | 'none'\r\n    submittedAt?: string\r\n    processedAt?: string\r\n    reason?: string\r\n  }>> => \r\n    apiClient.get('/merchants/my/verification')\r\n}\r\n\r\nexport default merchantsApi ","import { apiClient } from '../apiClient'\r\nimport type { SystemStats, ApiResponse } from '../../types/api'\r\n\r\n// 系统设置类型\r\nexport interface SystemSettings {\r\n  siteName: string\r\n  siteDescription: string\r\n  siteKeywords: string\r\n  logo: string\r\n  favicon: string\r\n  contactEmail: string\r\n  contactPhone: string\r\n  address: string\r\n  icp?: string\r\n  enableRegistration: boolean\r\n  enableMerchantRegistration: boolean\r\n  defaultShippingFee: number\r\n  freeShippingThreshold: number\r\n  orderTimeout: number // 分钟\r\n  refundTimeout: number // 天\r\n  maintenanceMode: boolean\r\n  maintenanceMessage?: string\r\n}\r\n\r\n// 轮播图类型\r\nexport interface Banner {\r\n  id: number\r\n  title: string\r\n  image: string\r\n  link?: string\r\n  description?: string\r\n  sort_order: number\r\n  status: 'active' | 'inactive'\r\n  start_time?: string\r\n  end_time?: string\r\n  created_at: string\r\n  updated_at: string\r\n}\r\n\r\n// 公告类型\r\nexport interface Notice {\r\n  id: number\r\n  title: string\r\n  content: string\r\n  type: 'info' | 'warning' | 'success' | 'error'\r\n  status: 'active' | 'inactive'\r\n  is_popup: boolean\r\n  sort_order: number\r\n  start_time?: string\r\n  end_time?: string\r\n  created_at: string\r\n  updated_at: string\r\n}\r\n\r\n// 系统相关API\r\nexport const systemApi = {\r\n  // 获取系统统计信息\r\n  getStats: (): Promise<ApiResponse<SystemStats>> => \r\n    apiClient.get('/system/stats', { requireAuth: false }),\r\n\r\n  // 获取首页数据\r\n  getHomeData: (): Promise<ApiResponse<{\r\n    banners: Banner[]\r\n    notices: Notice[]\r\n    featuredProducts: any[]\r\n    featuredConfigs: any[]\r\n    topMerchants: any[]\r\n    categories: any[]\r\n  }>> => \r\n    apiClient.get('/system/home', { requireAuth: false }),\r\n\r\n  // 获取系统设置\r\n  getSettings: (): Promise<ApiResponse<SystemSettings>> => \r\n    apiClient.get('/system/settings', { requireAuth: false }),\r\n\r\n  // 轮播图管理\r\n  banners: {\r\n    // 获取轮播图列表\r\n    getBanners: (status?: 'active' | 'inactive'): Promise<ApiResponse<Banner[]>> => \r\n      apiClient.getWithParams('/system/banners', status ? { status } : undefined, { requireAuth: false }),\r\n\r\n    // 获取轮播图详情\r\n    getBannerById: (id: number): Promise<ApiResponse<Banner>> => \r\n      apiClient.get(`/system/banners/${id}`),\r\n\r\n    // 创建轮播图（管理员功能）\r\n    createBanner: (bannerData: Omit<Banner, 'id' | 'created_at' | 'updated_at'>): Promise<ApiResponse<Banner>> => \r\n      apiClient.post('/system/banners', bannerData),\r\n\r\n    // 更新轮播图（管理员功能）\r\n    updateBanner: (id: number, bannerData: Partial<Omit<Banner, 'id' | 'created_at' | 'updated_at'>>): Promise<ApiResponse<Banner>> => \r\n      apiClient.put(`/system/banners/${id}`, bannerData),\r\n\r\n    // 删除轮播图（管理员功能）\r\n    deleteBanner: (id: number): Promise<ApiResponse<void>> => \r\n      apiClient.delete(`/system/banners/${id}`),\r\n\r\n    // 上传轮播图片（管理员功能）\r\n    uploadBannerImage: (file: File): Promise<ApiResponse<{ imageUrl: string }>> => {\r\n      const formData = new FormData()\r\n      formData.append('image', file)\r\n      return apiClient.upload('/system/banners/upload', formData)\r\n    },\r\n\r\n    // 批量更新排序（管理员功能）\r\n    updateOrder: (orders: { id: number; sort_order: number }[]): Promise<ApiResponse<void>> => \r\n      apiClient.post('/system/banners/update-order', { orders })\r\n  },\r\n\r\n  // 公告管理\r\n  notices: {\r\n    // 获取公告列表\r\n    getNotices: (status?: 'active' | 'inactive'): Promise<ApiResponse<Notice[]>> => \r\n      apiClient.getWithParams('/system/notices', status ? { status } : undefined, { requireAuth: false }),\r\n\r\n    // 获取弹窗公告\r\n    getPopupNotices: (): Promise<ApiResponse<Notice[]>> => \r\n      apiClient.get('/system/notices/popup', { requireAuth: false }),\r\n\r\n    // 获取公告详情\r\n    getNoticeById: (id: number): Promise<ApiResponse<Notice>> => \r\n      apiClient.get(`/system/notices/${id}`, { requireAuth: false }),\r\n\r\n    // 创建公告（管理员功能）\r\n    createNotice: (noticeData: Omit<Notice, 'id' | 'created_at' | 'updated_at'>): Promise<ApiResponse<Notice>> => \r\n      apiClient.post('/system/notices', noticeData),\r\n\r\n    // 更新公告（管理员功能）\r\n    updateNotice: (id: number, noticeData: Partial<Omit<Notice, 'id' | 'created_at' | 'updated_at'>>): Promise<ApiResponse<Notice>> => \r\n      apiClient.put(`/system/notices/${id}`, noticeData),\r\n\r\n    // 删除公告（管理员功能）\r\n    deleteNotice: (id: number): Promise<ApiResponse<void>> => \r\n      apiClient.delete(`/system/notices/${id}`),\r\n\r\n    // 批量更新排序（管理员功能）\r\n    updateOrder: (orders: { id: number; sort_order: number }[]): Promise<ApiResponse<void>> => \r\n      apiClient.post('/system/notices/update-order', { orders })\r\n  },\r\n\r\n  // 系统设置管理（管理员功能）\r\n  settings: {\r\n    // 更新系统设置\r\n    updateSettings: (settings: Partial<SystemSettings>): Promise<ApiResponse<SystemSettings>> => \r\n      apiClient.put('/system/settings', settings),\r\n\r\n    // 上传系统文件（logo、favicon等）\r\n    uploadFile: (file: File, type: 'logo' | 'favicon' | 'other'): Promise<ApiResponse<{ fileUrl: string }>> => {\r\n      const formData = new FormData()\r\n      formData.append('file', file)\r\n      formData.append('type', type)\r\n      return apiClient.upload('/system/upload', formData)\r\n    },\r\n\r\n    // 清除缓存\r\n    clearCache: (): Promise<ApiResponse<void>> => \r\n      apiClient.post('/system/clear-cache'),\r\n\r\n    // 重建搜索索引\r\n    rebuildIndex: (): Promise<ApiResponse<void>> => \r\n      apiClient.post('/system/rebuild-index'),\r\n\r\n    // 导出系统数据\r\n    exportData: (type: 'all' | 'users' | 'products' | 'orders'): Promise<ApiResponse<{ downloadUrl: string }>> => \r\n      apiClient.post('/system/export', { type }),\r\n\r\n    // 导入系统数据\r\n    importData: (file: File, type: 'users' | 'products' | 'categories'): Promise<ApiResponse<{\r\n      success: number\r\n      failed: number\r\n      errors?: string[]\r\n    }>> => {\r\n      const formData = new FormData()\r\n      formData.append('file', file)\r\n      formData.append('type', type)\r\n      return apiClient.upload('/system/import', formData)\r\n    }\r\n  },\r\n\r\n  // 日志管理（管理员功能）\r\n  logs: {\r\n    // 获取系统日志\r\n    getSystemLogs: (params?: {\r\n      level?: 'error' | 'warn' | 'info' | 'debug'\r\n      start_date?: string\r\n      end_date?: string\r\n      page?: number\r\n      limit?: number\r\n    }): Promise<ApiResponse<{\r\n      id: number\r\n      level: string\r\n      message: string\r\n      context?: any\r\n      timestamp: string\r\n    }[]>> => \r\n      apiClient.getWithParams('/system/logs', params),\r\n\r\n    // 获取用户操作日志\r\n    getUserLogs: (params?: {\r\n      user_id?: number\r\n      action?: string\r\n      start_date?: string\r\n      end_date?: string\r\n      page?: number\r\n      limit?: number\r\n    }): Promise<ApiResponse<{\r\n      id: number\r\n      userId: number\r\n      action: string\r\n      details?: any\r\n      ip?: string\r\n      userAgent?: string\r\n      timestamp: string\r\n    }[]>> => \r\n      apiClient.getWithParams('/system/user-logs', params),\r\n\r\n    // 清理日志\r\n    cleanLogs: (days: number): Promise<ApiResponse<{ deleted: number }>> => \r\n      apiClient.post('/system/logs/clean', { days })\r\n  },\r\n\r\n  // 健康检查\r\n  health: {\r\n    // 检查系统健康状态\r\n    check: (): Promise<ApiResponse<{\r\n      status: 'healthy' | 'warning' | 'error'\r\n      database: boolean\r\n      redis?: boolean\r\n      storage: boolean\r\n      memory: {\r\n        used: number\r\n        total: number\r\n        percentage: number\r\n      }\r\n      disk: {\r\n        used: number\r\n        total: number\r\n        percentage: number\r\n      }\r\n      uptime: number\r\n    }>> => \r\n      apiClient.get('/system/health', { requireAuth: false }),\r\n\r\n    // 获取性能指标\r\n    getMetrics: (): Promise<ApiResponse<{\r\n      requests: {\r\n        total: number\r\n        per_second: number\r\n        avg_response_time: number\r\n      }\r\n      database: {\r\n        connections: number\r\n        queries_per_second: number\r\n        avg_query_time: number\r\n      }\r\n      cache: {\r\n        hit_rate: number\r\n        memory_usage: number\r\n      }\r\n      errors: {\r\n        total: number\r\n        rate: number\r\n      }\r\n    }>> => \r\n      apiClient.get('/system/metrics')\r\n  }\r\n}\r\n\r\nexport default systemApi ","import { apiClient } from '../apiClient'\r\nimport type { ApiResponse, User } from '../../types/api'\r\n\r\n// 上传相关API\r\nexport const uploadApi = {\r\n  // 上传头像\r\n  uploadAvatar: async (file: File): Promise<ApiResponse<{ avatar: string; user: User }>> => {\r\n    const formData = new FormData()\r\n    formData.append('avatar', file)\r\n\r\n    return apiClient.upload('/upload/avatar', formData)\r\n  },\r\n\r\n  // 验证图片文件\r\n  validateImageFile: (file: File): { valid: boolean; message?: string } => {\r\n    // 检查文件类型\r\n    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp']\r\n    if (!allowedTypes.includes(file.type)) {\r\n      return {\r\n        valid: false,\r\n        message: '只支持 JPEG、PNG、GIF、WebP 格式的图片文件'\r\n      }\r\n    }\r\n\r\n    // 检查文件大小 (2MB)\r\n    const maxSize = 2 * 1024 * 1024\r\n    if (file.size > maxSize) {\r\n      return {\r\n        valid: false,\r\n        message: '文件大小不能超过2MB'\r\n      }\r\n    }\r\n\r\n    return { valid: true }\r\n  },\r\n\r\n  // 获取文件预览URL\r\n  getFilePreviewUrl: (file: File): string => {\r\n    return URL.createObjectURL(file)\r\n  },\r\n\r\n  // 释放文件预览URL\r\n  releaseFilePreviewUrl: (url: string): void => {\r\n    URL.revokeObjectURL(url)\r\n  }\r\n}\r\n\r\nexport default uploadApi ","import { apiClient } from '../apiClient'\r\nimport type { ApiResponse } from '../../types/api'\r\n\r\n// 购物车项目类型 - 匹配后端数据结构\r\nexport interface CartItem {\r\n  id: number\r\n  user_id: number\r\n  product_id: number\r\n  quantity: number\r\n  selected: boolean\r\n  \r\n  // 产品快照信息\r\n  product_snapshot: any\r\n  \r\n  // 常用字段\r\n  product_name: string\r\n  product_brand?: string\r\n  product_category?: string\r\n  product_price: number\r\n  product_original_price?: number\r\n  product_image?: string\r\n  product_sku?: string\r\n  product_model?: string\r\n  product_slug?: string\r\n  \r\n  // 库存状态\r\n  in_stock: boolean\r\n  stock_count?: number\r\n  \r\n  // 评价信息\r\n  rating?: number\r\n  review_count?: number\r\n  view_count?: number\r\n  sales?: number\r\n  \r\n  // 产品规格等\r\n  specs?: any\r\n  features?: any\r\n  tags?: any\r\n  images?: any\r\n  \r\n  // 时间戳\r\n  created_at: string\r\n  updated_at: string\r\n  product_updated_at?: string\r\n}\r\n\r\n// 购物车统计信息\r\nexport interface CartSummary {\r\n  totalItems: number\r\n  selectedItems: number\r\n  totalPrice: number\r\n  originalTotalPrice: number\r\n  savings: number\r\n  shippingFee: number\r\n  finalPrice: number\r\n  selectedItemsCount: number\r\n  outOfStockCount: number\r\n  availableCount: number\r\n}\r\n\r\n// 添加到购物车的数据\r\nexport interface AddToCartData {\r\n  productId: number\r\n  quantity?: number\r\n}\r\n\r\n// 更新购物车项目数据\r\nexport interface UpdateCartItemData {\r\n  quantity?: number\r\n  selected?: boolean\r\n}\r\n\r\n// 库存检查结果\r\nexport interface StockCheckResult {\r\n  available: CartItem[]\r\n  outOfStock: CartItem[]\r\n  insufficient: CartItem[]\r\n  updated: CartItem[]\r\n  summary: {\r\n    total: number\r\n    availableCount: number\r\n    outOfStockCount: number\r\n    insufficientCount: number\r\n    updatedCount: number\r\n  }\r\n}\r\n\r\n// 运费估算结果\r\nexport interface ShippingEstimate {\r\n  standard: { fee: number; days: string }\r\n  express: { fee: number; days: string }\r\n  overnight: { fee: number; days: string }\r\n}\r\n\r\n// 购物车相关API\r\nexport const cartApi = {\r\n  // 获取购物车列表\r\n  getCartItems: (): Promise<ApiResponse<CartItem[]>> => \r\n    apiClient.get('/cart'),\r\n\r\n  // 获取购物车统计信息\r\n  getCartSummary: (): Promise<ApiResponse<CartSummary>> => \r\n    apiClient.get('/cart/summary'),\r\n\r\n  // 添加商品到购物车\r\n  addToCart: (data: AddToCartData): Promise<ApiResponse<any>> => \r\n    apiClient.post('/cart', data),\r\n\r\n  // 更新购物车项目\r\n  updateCartItem: (id: number, data: UpdateCartItemData): Promise<ApiResponse<any>> => \r\n    apiClient.put(`/cart/${id}`, data),\r\n\r\n  // 删除购物车项目\r\n  removeCartItem: (id: number): Promise<ApiResponse<void>> => \r\n    apiClient.delete(`/cart/${id}`),\r\n\r\n  // 批量删除购物车项目\r\n  batchRemoveCartItems: (ids: number[]): Promise<ApiResponse<void>> => \r\n    apiClient.post('/cart/batch-delete', { ids }),\r\n\r\n  // 清空购物车\r\n  clearCart: (): Promise<ApiResponse<void>> => \r\n    apiClient.delete('/cart/clear'),\r\n\r\n  // 选择/取消选择购物车项目\r\n  toggleCartItemSelection: (id: number, selected: boolean): Promise<ApiResponse<any>> => \r\n    apiClient.patch(`/cart/${id}/select`, { selected }),\r\n\r\n  // 全选/取消全选购物车项目\r\n  toggleAllCartItems: (selected: boolean): Promise<ApiResponse<any>> => \r\n    apiClient.patch('/cart/select-all', { selected }),\r\n\r\n  // 检查库存状态\r\n  checkStock: (): Promise<ApiResponse<StockCheckResult>> => \r\n    apiClient.get('/cart/check-stock'),\r\n\r\n  // 刷新购物车产品信息\r\n  refreshCartItems: (productIds?: number[]): Promise<ApiResponse<{ updated: number }>> => \r\n    apiClient.post('/cart/refresh', { productIds }),\r\n\r\n  // 获取推荐商品\r\n  getRecommendations: (limit: number = 8): Promise<ApiResponse<any[]>> => \r\n    apiClient.get(`/cart/recommendations?limit=${limit}`),\r\n\r\n  // 预估运费\r\n  estimateShipping: (data?: any): Promise<ApiResponse<ShippingEstimate>> => \r\n    apiClient.post('/cart/estimate-shipping', data),\r\n\r\n  // 应用优惠券\r\n  applyCoupon: (couponCode: string): Promise<ApiResponse<{\r\n    discount: number\r\n    couponId: number\r\n    finalPrice: number\r\n  }>> => \r\n    apiClient.post('/cart/apply-coupon', { couponCode }),\r\n\r\n  // 移除优惠券\r\n  removeCoupon: (): Promise<ApiResponse<CartSummary>> => \r\n    apiClient.delete('/cart/coupon')\r\n}\r\n\r\nexport default cartApi ","// 统一API导出文件\r\n\r\n// 导出API客户端\r\nexport { apiClient } from '../apiClient'\r\n\r\n// 导出拦截器\r\nexport * from '../interceptors'\r\n\r\n// 导出类型\r\nexport * from '../../types/api'\r\n\r\n// 导入各业务API模块\r\nimport { authApi } from './auth'\r\nimport { categoriesApi } from './categories'\r\nimport { productsApi } from './products'\r\nimport { configsApi } from './configs'\r\nimport { merchantsApi } from './merchants'\r\nimport { ordersApi } from './orders'\r\nimport { systemApi } from './system'\r\nimport { addressApi } from './addresses'\r\nimport { uploadApi } from './upload'\r\nimport LocationApi from './location'\r\nimport { cartApi } from './cart'\r\nimport { reviewsApi } from './reviews'\r\n\r\n// 导出各业务API模块\r\nexport { authApi } from './auth'\r\nexport { categoriesApi } from './categories'\r\nexport { productsApi } from './products'\r\nexport { configsApi } from './configs'\r\nexport { merchantsApi } from './merchants'\r\nexport { ordersApi } from './orders'\r\nexport { systemApi } from './system'\r\nexport { addressApi } from './addresses'\r\nexport { uploadApi } from './upload'\r\nexport { cartApi } from './cart'\r\nexport { reviewsApi } from './reviews'\r\nexport { default as locationApi } from './location'\r\n\r\n// 导出额外类型\r\nexport type { CategoryQueryParams } from './categories'\r\nexport type { PaymentData } from './orders'\r\nexport type { SystemSettings, Banner, Notice } from './system'\r\nexport type { IpLocationResponse } from './location'\r\n\r\n// 创建统一的API对象，方便调用\r\nexport const api = {\r\n  auth: authApi,\r\n  categories: categoriesApi,\r\n  products: productsApi,\r\n  configs: configsApi,\r\n  merchants: merchantsApi,\r\n  orders: ordersApi,\r\n  system: systemApi,\r\n  addresses: addressApi,\r\n  upload: uploadApi,\r\n  cart: cartApi,\r\n  reviews: reviewsApi,\r\n  location: LocationApi\r\n}\r\n\r\n// 默认导出\r\nexport default api ","<template>\r\n  <PageLoader \r\n    :is-page-loading=\"isPageLoading\"\r\n    :is-data-loading=\"isDataLoading\"\r\n    :has-error=\"hasError\"\r\n    :error-message=\"errorMessage\"\r\n    loading-title=\"正在加载用户信息...\"\r\n    loading-message=\"请稍候\"\r\n    @retry=\"reloadPage\"\r\n  >\r\n    <!-- 页面内容 -->\r\n    <div class=\"min-h-screen bg-gradient-to-br from-gray-900 via-slate-900 to-black relative overflow-hidden\">\r\n      <!-- 背景装饰效果 -->\r\n      <div class=\"fixed inset-0 pointer-events-none\">\r\n        <div class=\"absolute top-20 left-20 w-96 h-96 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-full filter blur-3xl animate-pulse\"></div>\r\n        <div class=\"absolute bottom-20 right-20 w-80 h-80 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-full filter blur-3xl animate-pulse delay-1000\"></div>\r\n      </div>\r\n\r\n      <!-- 导航栏 -->\r\n      <AppHeader \r\n        :show-back-button=\"false\"\r\n        :show-nav-menu=\"false\"\r\n        :show-breadcrumb=\"true\"\r\n        :show-location=\"false\"\r\n        :show-search-button=\"false\"\r\n        :show-notification-button=\"false\"\r\n        :show-decorations=\"false\"\r\n        logo-size=\"medium\"\r\n        current-page-title=\"个人中心\"\r\n      />\r\n\r\n      <div class=\"relative z-10 py-8\">\r\n        <div class=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <!-- 页面标题 -->\r\n          <div class=\"mb-8 animate-fade-in-up\">\r\n            <div class=\"glass-card-dark rounded-2xl p-8 border border-cyan-500/30 shadow-2xl shadow-cyan-500/20\">\r\n              <h1 class=\"text-4xl font-bold text-white mb-3 flex items-center gap-3\">\r\n                <i class=\"bi bi-person-circle text-cyan-400 text-3xl animate-bounce-gentle\"></i>\r\n                个人中心\r\n              </h1>\r\n              <p class=\"text-gray-300 text-lg\">管理您的个人信息和账户设置</p>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 用户信息卡片 -->\r\n          <div class=\"glass-card-dark rounded-2xl p-8 border border-cyan-500/30 shadow-2xl shadow-cyan-500/20 mb-6 animate-fade-in-up animation-delay-200\">\r\n            <div class=\"flex items-center space-x-6\">\r\n              <!-- 头像 -->\r\n              <div class=\"relative group\">\r\n                <div class=\"w-24 h-24 rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 flex items-center justify-center text-white text-2xl font-bold shadow-lg shadow-cyan-500/20 group-hover:shadow-cyan-500/40 transition-all duration-300 transform group-hover:scale-105 overflow-hidden\">\r\n                  <img \r\n                    v-if=\"userStore.user?.avatar\" \r\n                    :src=\"userStore.user.avatar\" \r\n                    :alt=\"(userStore.user?.nickname || userStore.user?.username || 'U') + '的头像'\"\r\n                    class=\"w-full h-full object-cover\"\r\n                    @error=\"handleAvatarError\"\r\n                  />\r\n                  <span v-else>{{ (userStore.user?.nickname || userStore.user?.username || 'U').charAt(0).toUpperCase() }}</span>\r\n                </div>\r\n                <button \r\n                  @click=\"showAvatarModal = true\"\r\n                  class=\"absolute bottom-0 right-0 bg-cyan-500 text-white rounded-full p-2 hover:bg-cyan-400 transition-all duration-200 transform hover:scale-110 shadow-lg shadow-cyan-500/20\"\r\n                >\r\n                  <i class=\"bi bi-camera text-sm\"></i>\r\n                </button>\r\n              </div>\r\n              \r\n              <!-- 用户基本信息 -->\r\n              <div class=\"flex-1\">\r\n                <h2 class=\"text-2xl font-bold text-white mb-2\">{{ userStore.user?.nickname || userStore.user?.username || '加载中...' }}</h2>\r\n                <p class=\"text-gray-300 mb-1\">{{ userStore.user?.email || '' }}</p>\r\n                <p v-if=\"userStore.user?.nickname && userStore.user?.username\" class=\"text-sm text-gray-400\">用户名: {{ userStore.user.username }}</p>\r\n                <div class=\"flex items-center space-x-4 mt-3\">\r\n                  <span class=\"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium\"\r\n                        :class=\"roleStyles[userStore.user?.role || 'user']\">\r\n                    {{ roleLabels[userStore.user?.role || 'user'] }}\r\n                  </span>\r\n                  <span class=\"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium\"\r\n                        :class=\"statusStyles[userStore.user?.status || 'active']\">\r\n                    {{ statusLabels[userStore.user?.status || 'active'] }}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              \r\n              <!-- 快捷操作 -->\r\n              <div class=\"flex flex-col space-y-3\">\r\n                <button @click=\"activeTab = 'edit'\" class=\"btn-premium-dark px-6 py-3 rounded-lg font-medium transition-all duration-300 transform hover:-translate-y-1\">\r\n                  <i class=\"bi bi-pencil-square mr-2\"></i>\r\n                  编辑资料\r\n                </button>\r\n                <button @click=\"activeTab = 'password'\" class=\"btn-outline-dark px-6 py-3 rounded-lg font-medium transition-all duration-300 transform hover:-translate-y-1\">\r\n                  <i class=\"bi bi-shield-lock mr-2\"></i>\r\n                  修改密码\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 标签页导航 -->\r\n          <div class=\"glass-card-dark rounded-2xl border border-cyan-500/30 shadow-2xl shadow-cyan-500/20 overflow-hidden animate-fade-in-up animation-delay-400\">\r\n            <div class=\"border-b border-gray-700/50\">\r\n              <nav class=\"flex space-x-8\">\r\n                <button \r\n                  v-for=\"tab in tabs\" \r\n                  :key=\"tab.key\"\r\n                  @click=\"activeTab = tab.key\"\r\n                  :class=\"[\r\n                    'py-3 px-6 text-sm font-medium border-b-2 transition-all duration-300 flex items-center gap-2',\r\n                    activeTab === tab.key \r\n                      ? 'border-cyan-500 text-cyan-400 bg-cyan-500/10' \r\n                      : 'border-transparent text-gray-400 hover:text-white hover:border-gray-500'\r\n                  ]\"\r\n                >\r\n                  <i :class=\"tab.icon\"></i>\r\n                  {{ tab.label }}\r\n                </button>\r\n              </nav>\r\n            </div>\r\n\r\n            <!-- 标签页内容 -->\r\n            <div class=\"p-8\">\r\n              <!-- 基本信息 -->\r\n              <div v-if=\"activeTab === 'info'\" class=\"space-y-6 animate-fade-in\">\r\n                <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                  <div class=\"glass-morphism-dark rounded-lg p-4 border border-gray-700/50 hover:border-cyan-500/30 transition-all duration-300\">\r\n                    <label class=\"block text-sm font-medium text-cyan-400 mb-2\">用户名</label>\r\n                    <p class=\"text-white text-lg\">{{ userStore.user?.username || '-' }}</p>\r\n                  </div>\r\n                  <div class=\"glass-morphism-dark rounded-lg p-4 border border-gray-700/50 hover:border-cyan-500/30 transition-all duration-300\">\r\n                    <label class=\"block text-sm font-medium text-cyan-400 mb-2\">昵称</label>\r\n                    <p class=\"text-white text-lg\">{{ userStore.user?.nickname || '-' }}</p>\r\n                  </div>\r\n                  <div class=\"glass-morphism-dark rounded-lg p-4 border border-gray-700/50 hover:border-cyan-500/30 transition-all duration-300\">\r\n                    <label class=\"block text-sm font-medium text-cyan-400 mb-2\">邮箱</label>\r\n                    <p class=\"text-white text-lg\">{{ userStore.user?.email || '-' }}</p>\r\n                  </div>\r\n                  <div class=\"glass-morphism-dark rounded-lg p-4 border border-gray-700/50 hover:border-cyan-500/30 transition-all duration-300\">\r\n                    <label class=\"block text-sm font-medium text-cyan-400 mb-2\">手机号</label>\r\n                    <p class=\"text-white text-lg\">{{ userStore.user?.phone || '-' }}</p>\r\n                  </div>\r\n                  <div class=\"glass-morphism-dark rounded-lg p-4 border border-gray-700/50 hover:border-cyan-500/30 transition-all duration-300 md:col-span-2\">\r\n                    <label class=\"block text-sm font-medium text-cyan-400 mb-2\">注册时间</label>\r\n                    <p class=\"text-white text-lg\">{{ formatDate(userStore.user?.created_at) || '-' }}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- 编辑资料 -->\r\n              <div v-if=\"activeTab === 'edit'\" class=\"space-y-6 animate-fade-in\">\r\n                <form @submit.prevent=\"updateProfile\">\r\n                  <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <div class=\"space-y-2\">\r\n                      <label for=\"username\" class=\"block text-sm font-medium text-cyan-400\">用户名</label>\r\n                      <input \r\n                        id=\"username\"\r\n                        v-model=\"editForm.username\" \r\n                        type=\"text\" \r\n                        class=\"input-dark w-full\"\r\n                        placeholder=\"请输入用户名\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"space-y-2\">\r\n                      <label for=\"nickname\" class=\"block text-sm font-medium text-cyan-400\">昵称</label>\r\n                      <input \r\n                        id=\"nickname\"\r\n                        v-model=\"editForm.nickname\" \r\n                        type=\"text\" \r\n                        class=\"input-dark w-full\"\r\n                        placeholder=\"请输入昵称\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"space-y-2 md:col-span-2\">\r\n                      <label for=\"phone\" class=\"block text-sm font-medium text-cyan-400\">手机号</label>\r\n                      <input \r\n                        id=\"phone\"\r\n                        v-model=\"editForm.phone\" \r\n                        type=\"tel\" \r\n                        class=\"input-dark w-full\"\r\n                        placeholder=\"请输入手机号\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div class=\"flex justify-end space-x-4 mt-8\">\r\n                    <button type=\"button\" @click=\"resetEditForm\" class=\"btn-outline-dark px-6 py-3 rounded-lg font-medium transition-all duration-300 transform hover:-translate-y-1\">\r\n                      <i class=\"bi bi-arrow-clockwise mr-2\"></i>\r\n                      重置\r\n                    </button>\r\n                    <button type=\"submit\" :disabled=\"updating\" class=\"btn-premium-dark px-6 py-3 rounded-lg font-medium transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed\">\r\n                      <span v-if=\"updating\" class=\"loading loading-spinner loading-sm mr-2\"></span>\r\n                      <i v-else class=\"bi bi-check-circle mr-2\"></i>\r\n                      {{ updating ? '保存中...' : '保存修改' }}\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n\r\n              <!-- 修改密码 -->\r\n              <div v-if=\"activeTab === 'password'\" class=\"space-y-6 animate-fade-in\">\r\n                <form @submit.prevent=\"changePassword\">\r\n                  <div class=\"max-w-md space-y-6\">\r\n                    <div class=\"space-y-2\">\r\n                      <label for=\"currentPassword\" class=\"block text-sm font-medium text-cyan-400\">当前密码</label>\r\n                      <input \r\n                        id=\"currentPassword\"\r\n                        v-model=\"passwordForm.currentPassword\" \r\n                        type=\"password\" \r\n                        class=\"input-dark w-full\"\r\n                        placeholder=\"请输入当前密码\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                    <div class=\"space-y-2\">\r\n                      <label for=\"newPassword\" class=\"block text-sm font-medium text-cyan-400\">新密码</label>\r\n                      <input \r\n                        id=\"newPassword\"\r\n                        v-model=\"passwordForm.newPassword\" \r\n                        type=\"password\" \r\n                        class=\"input-dark w-full\"\r\n                        placeholder=\"请输入新密码（至少6位）\"\r\n                        required\r\n                        minlength=\"6\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"space-y-2\">\r\n                      <label for=\"confirmPassword\" class=\"block text-sm font-medium text-cyan-400\">确认新密码</label>\r\n                      <input \r\n                        id=\"confirmPassword\"\r\n                        v-model=\"passwordForm.confirmPassword\" \r\n                        type=\"password\" \r\n                        class=\"input-dark w-full\"\r\n                        placeholder=\"请再次输入新密码\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div class=\"flex justify-end space-x-4 mt-8\">\r\n                    <button type=\"button\" @click=\"resetPasswordForm\" class=\"btn-outline-dark px-6 py-3 rounded-lg font-medium transition-all duration-300 transform hover:-translate-y-1\">\r\n                      <i class=\"bi bi-arrow-clockwise mr-2\"></i>\r\n                      重置\r\n                    </button>\r\n                    <button type=\"submit\" :disabled=\"changingPassword\" class=\"btn-premium-dark px-6 py-3 rounded-lg font-medium transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed\">\r\n                      <span v-if=\"changingPassword\" class=\"loading loading-spinner loading-sm mr-2\"></span>\r\n                      <i v-else class=\"bi bi-shield-check mr-2\"></i>\r\n                      {{ changingPassword ? '修改中...' : '修改密码' }}\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n\r\n              <!-- 我的评论 -->\r\n              <div v-if=\"activeTab === 'reviews'\" class=\"space-y-6 animate-fade-in\">\r\n                <div class=\"flex items-center justify-between mb-6\">\r\n                  <h3 class=\"text-2xl font-bold text-white flex items-center gap-3\">\r\n                    <i class=\"bi bi-chat-dots text-cyan-400\"></i>\r\n                    我的评论\r\n                  </h3>\r\n                  <p class=\"text-gray-400\">管理您发表的所有评论</p>\r\n                </div>\r\n                \r\n                <!-- 评论统计 -->\r\n                <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8\">\r\n                  <div class=\"glass-morphism-dark rounded-lg p-6 border border-gray-700/50 text-center\">\r\n                    <div class=\"text-3xl font-bold text-cyan-400 mb-2\">{{ reviewsCount || 0 }}</div>\r\n                    <div class=\"text-gray-300\">评论总数</div>\r\n                  </div>\r\n                  <div class=\"glass-morphism-dark rounded-lg p-6 border border-gray-700/50 text-center\">\r\n                    <div class=\"text-3xl font-bold text-yellow-400 mb-2\">{{ averageRating || 0 }}</div>\r\n                    <div class=\"text-gray-300\">平均评分</div>\r\n                  </div>\r\n                  <div class=\"glass-morphism-dark rounded-lg p-6 border border-gray-700/50 text-center\">\r\n                    <div class=\"text-3xl font-bold text-green-400 mb-2\">{{ helpfulCount || 0 }}</div>\r\n                    <div class=\"text-gray-300\">获得点赞</div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <!-- 评论列表 -->\r\n                <div class=\"space-y-4\">\r\n                  <div v-if=\"loadingReviews\" class=\"text-center py-8\">\r\n                    <div class=\"w-8 h-8 border-2 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\r\n                    <p class=\"text-gray-300\">正在加载评论...</p>\r\n                  </div>\r\n                  \r\n                  <div v-else-if=\"userReviews.length > 0\" class=\"space-y-4\">\r\n                    <div v-for=\"review in userReviews\" :key=\"review.id\"\r\n                         class=\"glass-morphism-dark rounded-lg p-6 border border-gray-700/50 hover:border-cyan-500/30 transition-all duration-300\">\r\n                      <div class=\"flex items-start justify-between mb-4\">\r\n                        <div class=\"flex items-center gap-4\">\r\n                          <!-- 产品图片 -->\r\n                          <div class=\"w-16 h-16 rounded-lg overflow-hidden bg-gray-700/50\">\r\n                            <img v-if=\"review.product_images && review.product_images.length > 0\" \r\n                                 :src=\"review.product_images[0]\" \r\n                                 :alt=\"review.product_name\" \r\n                                 class=\"w-full h-full object-cover\">\r\n                            <div v-else class=\"w-full h-full flex items-center justify-center\">\r\n                              <i class=\"bi bi-image text-gray-500 text-xl\"></i>\r\n                            </div>\r\n                          </div>\r\n                          <div>\r\n                            <h4 class=\"font-bold text-white text-lg\">{{ review.product_name || '产品已下架' }}</h4>\r\n                            <p class=\"text-gray-400 text-sm\">{{ formatDate(review.created_at) }}</p>\r\n                            <!-- 显示评论者信息 -->\r\n                            <div class=\"flex items-center gap-2 mt-1\">\r\n                              <span v-if=\"review.is_anonymous\" class=\"text-xs px-2 py-1 bg-gray-600/50 text-gray-300 rounded\">\r\n                                <i class=\"bi bi-incognito mr-1\"></i>\r\n                                匿名发表\r\n                              </span>\r\n                              <span v-else class=\"text-xs px-2 py-1 bg-blue-600/30 text-blue-300 rounded\">\r\n                                <i class=\"bi bi-person mr-1\"></i>\r\n                                {{ review.user_info?.nickname || review.author }}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"flex items-center gap-2\">\r\n                          <div class=\"flex\">\r\n                            <i v-for=\"i in 5\" :key=\"i\" \r\n                               :class=\"i <= review.rating ? 'text-yellow-400' : 'text-gray-600'\"\r\n                               class=\"bi bi-star-fill text-sm\"></i>\r\n                          </div>\r\n                          <span class=\"text-white font-medium\">{{ review.rating }}</span>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <p class=\"text-gray-300 mb-4\">{{ review.comment }}</p>\r\n                      \r\n                      <!-- 评论图片 -->\r\n                      <div v-if=\"review.images && review.images.length > 0\" class=\"grid grid-cols-3 gap-2 mb-4\">\r\n                        <img v-for=\"(image, index) in review.images\" :key=\"index\"\r\n                             :src=\"image\" :alt=\"`评论图片${index + 1}`\"\r\n                             class=\"w-full h-20 object-cover rounded-lg border border-gray-600/30\">\r\n                      </div>\r\n                      \r\n                      <div class=\"flex items-center justify-between pt-4 border-t border-gray-700/50\">\r\n                        <div class=\"flex items-center gap-4 text-sm text-gray-400\">\r\n                          <span class=\"flex items-center gap-1\">\r\n                            <i class=\"bi bi-hand-thumbs-up\"></i>\r\n                            {{ review.helpful_count || 0 }} 人觉得有帮助\r\n                          </span>\r\n                          <span v-if=\"review.verified_purchase\" class=\"text-green-400\">\r\n                            <i class=\"bi bi-check-circle\"></i>\r\n                            已验证购买\r\n                          </span>\r\n                          <span class=\"text-gray-500\">\r\n                            状态: {{ getReviewStatusText(review.status) }}\r\n                          </span>\r\n                        </div>\r\n                        <div class=\"flex items-center gap-2\">\r\n                          <button @click=\"editReview(review)\" \r\n                                  class=\"px-3 py-1 text-cyan-400 hover:text-cyan-300 transition-colors duration-200\">\r\n                            <i class=\"bi bi-pencil mr-1\"></i>\r\n                            编辑\r\n                          </button>\r\n                          <button @click=\"deleteReview(review.id)\" \r\n                                  class=\"px-3 py-1 text-red-400 hover:text-red-300 transition-colors duration-200\">\r\n                            <i class=\"bi bi-trash mr-1\"></i>\r\n                            删除\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div v-else class=\"text-center py-12\">\r\n                    <div class=\"text-4xl text-gray-400 mb-4\">\r\n                      <i class=\"bi bi-chat-dots\"></i>\r\n                    </div>\r\n                    <h3 class=\"text-xl font-semibold text-white mb-2\">暂无评论</h3>\r\n                    <p class=\"text-gray-400 mb-6\">您还没有发表过任何评论</p>\r\n                    <NuxtLink to=\"/products\" \r\n                              class=\"inline-flex items-center px-6 py-3 bg-cyan-600 text-white font-medium rounded-lg hover:bg-cyan-500 transition-all duration-300\">\r\n                      <i class=\"bi bi-plus-circle mr-2\"></i>\r\n                      去购买商品\r\n                    </NuxtLink>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 头像上传弹窗 -->\r\n      <div v-if=\"showAvatarModal\" class=\"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in\">\r\n        <div class=\"glass-card-dark rounded-2xl p-6 max-w-md w-full mx-4 border border-cyan-500/30 shadow-2xl shadow-cyan-500/20 animate-scale-in\">\r\n          <h3 class=\"text-xl font-semibold text-white mb-6 flex items-center gap-3\">\r\n            <i class=\"bi bi-camera text-cyan-400\"></i>\r\n            上传头像\r\n          </h3>\r\n          \r\n          <div class=\"space-y-6\">\r\n            <!-- 文件选择区域 -->\r\n            <div class=\"flex justify-center\">\r\n              <div class=\"relative\">\r\n                <input \r\n                  id=\"avatar-input\"\r\n                  type=\"file\" \r\n                  accept=\"image/*\" \r\n                  @change=\"onFileChange\"\r\n                  class=\"hidden\"\r\n                />\r\n                \r\n                <!-- 预览区域 -->\r\n                <div \r\n                  @click=\"triggerFileInput\"\r\n                  class=\"w-32 h-32 border-2 border-dashed border-cyan-500/30 rounded-lg flex items-center justify-center hover:border-cyan-400/50 transition-colors duration-300 cursor-pointer overflow-hidden\"\r\n                >\r\n                  <img \r\n                    v-if=\"avatarPreview\" \r\n                    :src=\"avatarPreview\" \r\n                    alt=\"头像预览\"\r\n                    class=\"w-full h-full object-cover\"\r\n                  />\r\n                  <div v-else class=\"text-center\">\r\n                    <i class=\"bi bi-cloud-upload text-3xl text-cyan-400 mb-2 block\"></i>\r\n                    <span class=\"text-sm text-gray-400\">点击选择图片</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <!-- 重新选择按钮 -->\r\n                <button \r\n                  v-if=\"avatarPreview\"\r\n                  @click=\"triggerFileInput\"\r\n                  class=\"absolute top-0 right-0 bg-cyan-500 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-cyan-400 transition-colors duration-200\"\r\n                >\r\n                  <i class=\"bi bi-pencil text-xs\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <!-- 文件信息 -->\r\n            <div v-if=\"selectedFile\" class=\"text-center\">\r\n              <p class=\"text-sm text-gray-400\">{{ selectedFile.name }}</p>\r\n              <p class=\"text-xs text-gray-500\">{{ (selectedFile.size / 1024 / 1024).toFixed(2) }} MB</p>\r\n            </div>\r\n            \r\n            <!-- 提示信息 -->\r\n            <p class=\"text-center text-gray-400 text-sm\">\r\n              支持 JPG、PNG、GIF、WebP 格式<br>\r\n              文件大小不超过 2MB\r\n            </p>\r\n            \r\n            <!-- 操作按钮 -->\r\n            <div class=\"flex justify-end space-x-4\">\r\n              <button \r\n                @click=\"closeAvatarModal\" \r\n                class=\"btn-outline-dark px-6 py-3 rounded-lg font-medium transition-all duration-300 transform hover:-translate-y-1\"\r\n              >\r\n                <i class=\"bi bi-x-circle mr-2\"></i>\r\n                取消\r\n              </button>\r\n              <button \r\n                @click=\"uploadAvatar\"\r\n                :disabled=\"!selectedFile || uploadingAvatar\"\r\n                class=\"btn-premium-dark px-6 py-3 rounded-lg font-medium transition-all duration-300 transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                <span v-if=\"uploadingAvatar\" class=\"loading loading-spinner loading-sm mr-2\"></span>\r\n                <i v-else class=\"bi bi-check-circle mr-2\"></i>\r\n                {{ uploadingAvatar ? '上传中...' : '确定上传' }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </PageLoader>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, reactive, watch } from 'vue'\r\nimport { usePageLoader, pageLoaderPresets } from '../composables/usePageLoader'\r\nimport { api } from '../utils/api'\r\nimport { uploadApi } from '../utils/api/upload'\r\nimport type { User, UserUpdateInput, PasswordChangeInput } from '../utils/api'\r\nimport { createDiscreteApi } from 'naive-ui'\r\nimport { useUserStore } from '../stores/user'\r\n\r\n// 使用Pinia store\r\nconst userStore = useUserStore()\r\n\r\n// 创建临时的消息API\r\nconst { message } = createDiscreteApi(['message'])\r\n\r\n// 临时消息函数\r\nconst success = (content: string) => {\r\n  message.success(content, { duration: 3000 })\r\n}\r\n\r\nconst error = (content: string) => {\r\n  message.error(content, { duration: 4000 })\r\n}\r\n\r\n// 响应式数据\r\nconst updating = ref(false)\r\nconst changingPassword = ref(false)\r\nconst showAvatarModal = ref(false)\r\nconst uploadingAvatar = ref(false)\r\nconst avatarPreview = ref<string | null>(null)\r\nconst selectedFile = ref<File | null>(null)\r\nconst activeTab = ref('info')\r\n\r\n// 评论相关数据\r\nconst userReviews = ref<any[]>([])\r\nconst reviewsCount = ref(0)\r\nconst averageRating = ref(0)\r\nconst helpfulCount = ref(0)\r\nconst loadingReviews = ref(false)\r\n\r\n// 获取用户信息\r\nconst fetchUserInfo = async () => {\r\n  try {\r\n    const response = await api.auth.getProfile()\r\n    if (response.data) {\r\n      // 同步到Pinia store\r\n      userStore.updateUser(response.data)\r\n      \r\n      // 初始化编辑表单\r\n      editForm.username = response.data.username\r\n      editForm.nickname = response.data.nickname || ''\r\n      editForm.phone = response.data.phone || ''\r\n      \r\n      return response.data\r\n    }\r\n    return null\r\n  } catch (error) {\r\n    console.error('获取用户信息失败:', error)\r\n    throw new Error('获取用户信息失败')\r\n  }\r\n}\r\n\r\n// 使用页面加载器\r\nconst {\r\n  isPageLoading,\r\n  isDataLoading,\r\n  isPageReady,\r\n  hasError,\r\n  errorMessage,\r\n  reloadPage,\r\n  setLoading,\r\n  setError,\r\n  clearError\r\n} = usePageLoader({\r\n  ...pageLoaderPresets.fast,\r\n  cacheKey: `profile-${userStore.user?.id || 'default'}`,\r\n  loadFunction: fetchUserInfo,\r\n  onPageReady: (cachedData) => {\r\n    // 如果有缓存数据，同步到Pinia store\r\n    if (cachedData) {\r\n      userStore.updateUser(cachedData)\r\n      // 初始化编辑表单\r\n      editForm.username = cachedData.username\r\n      editForm.nickname = cachedData.nickname || ''\r\n      editForm.phone = cachedData.phone || ''\r\n    }\r\n  }\r\n})\r\n\r\n// 标签页配置\r\nconst tabs = [\r\n  { key: 'info', label: '基本信息', icon: 'bi bi-person' },\r\n  { key: 'edit', label: '编辑资料', icon: 'bi bi-pencil-square' },\r\n  { key: 'password', label: '修改密码', icon: 'bi bi-shield-lock' },\r\n  { key: 'reviews', label: '我的评论', icon: 'bi bi-chat-dots' }\r\n]\r\n\r\n// 编辑表单\r\nconst editForm = reactive<UserUpdateInput>({\r\n  username: '',\r\n  nickname: '',\r\n  phone: ''\r\n})\r\n\r\n// 密码修改表单\r\nconst passwordForm = reactive<PasswordChangeInput & { confirmPassword: string }>({\r\n  currentPassword: '',\r\n  newPassword: '',\r\n  confirmPassword: ''\r\n})\r\n\r\n// 样式配置\r\nconst roleStyles = {\r\n  user: 'bg-blue-500/20 text-blue-300 border border-blue-500/30',\r\n  merchant: 'bg-purple-500/20 text-purple-300 border border-purple-500/30',\r\n  admin: 'bg-red-500/20 text-red-300 border border-red-500/30'\r\n}\r\n\r\nconst roleLabels = {\r\n  user: '普通用户',\r\n  merchant: '商家',\r\n  admin: '管理员'\r\n}\r\n\r\nconst statusStyles = {\r\n  active: 'bg-green-500/20 text-green-300 border border-green-500/30',\r\n  inactive: 'bg-gray-500/20 text-gray-300 border border-gray-500/30',\r\n  banned: 'bg-red-500/20 text-red-300 border border-red-500/30'\r\n}\r\n\r\nconst statusLabels = {\r\n  active: '正常',\r\n  inactive: '未激活',\r\n  banned: '已封禁'\r\n}\r\n\r\n// 更新个人信息\r\nconst updateProfile = async () => {\r\n  try {\r\n    updating.value = true\r\n    const response = await api.auth.updateProfile(editForm)\r\n    if (response.data) {\r\n      // 只更新Pinia store中的用户信息\r\n      userStore.updateUser(response.data)\r\n      \r\n      // 显示成功提示\r\n      success('个人信息更新成功！')\r\n      activeTab.value = 'info'\r\n    }\r\n  } catch (error: any) {\r\n    console.error('更新个人信息失败:', error)\r\n    error(error.message || '更新失败，请重试')\r\n  } finally {\r\n    updating.value = false\r\n  }\r\n}\r\n\r\n// 修改密码\r\nconst changePassword = async () => {\r\n  if (passwordForm.newPassword !== passwordForm.confirmPassword) {\r\n    error('两次输入的密码不一致')\r\n    return\r\n  }\r\n\r\n  try {\r\n    changingPassword.value = true\r\n    const response = await api.auth.changePassword({\r\n      currentPassword: passwordForm.currentPassword,\r\n      newPassword: passwordForm.newPassword\r\n    })\r\n    \r\n    if (response.success) {\r\n      success('密码修改成功！')\r\n      resetPasswordForm()\r\n      activeTab.value = 'info'\r\n    }\r\n  } catch (error: any) {\r\n    console.error('修改密码失败:', error)\r\n    error(error.message || '修改密码失败，请重试')\r\n  } finally {\r\n    changingPassword.value = false\r\n  }\r\n}\r\n\r\n// 重置编辑表单\r\nconst resetEditForm = () => {\r\n  if (userStore.user) {\r\n    editForm.username = userStore.user.username\r\n    editForm.nickname = userStore.user.nickname || ''\r\n    editForm.phone = userStore.user.phone || ''\r\n  }\r\n}\r\n\r\n// 重置密码表单\r\nconst resetPasswordForm = () => {\r\n  passwordForm.currentPassword = ''\r\n  passwordForm.newPassword = ''\r\n  passwordForm.confirmPassword = ''\r\n}\r\n\r\n// 头像相关方法\r\nconst triggerFileInput = () => {\r\n  document.getElementById('avatar-input')?.click()\r\n}\r\n\r\nconst onFileChange = (event: Event) => {\r\n  const target = event.target as HTMLInputElement\r\n  const file = target.files?.[0]\r\n  \r\n  if (file) {\r\n    // 使用uploadApi的验证方法\r\n    const validation = uploadApi.validateImageFile(file)\r\n    if (!validation.valid) {\r\n      error(validation.message || '文件格式不支持')\r\n      return\r\n    }\r\n    \r\n    selectedFile.value = file\r\n    \r\n    // 使用uploadApi的预览方法\r\n    avatarPreview.value = uploadApi.getFilePreviewUrl(file)\r\n  }\r\n}\r\n\r\nconst uploadAvatar = async () => {\r\n  if (!selectedFile.value) return\r\n  \r\n  try {\r\n    uploadingAvatar.value = true\r\n    \r\n    // 再次验证文件\r\n    const validation = uploadApi.validateImageFile(selectedFile.value)\r\n    if (!validation.valid) {\r\n      error(validation.message || '文件验证失败')\r\n      return\r\n    }\r\n    \r\n    // 调用正确的上传API\r\n    const response = await uploadApi.uploadAvatar(selectedFile.value)\r\n    \r\n    if (response.success && response.data) {\r\n      // 只更新Pinia store，实现响应式更新\r\n      userStore.updateUser(response.data.user)\r\n      \r\n      success('头像上传成功！')\r\n      closeAvatarModal()\r\n    } else {\r\n      throw new Error(response.message || '上传失败')\r\n    }\r\n  } catch (error: any) {\r\n    console.error('上传头像失败:', error)\r\n    error(error.message || '上传失败，请重试')\r\n  } finally {\r\n    uploadingAvatar.value = false\r\n  }\r\n}\r\n\r\nconst closeAvatarModal = () => {\r\n  showAvatarModal.value = false\r\n  selectedFile.value = null\r\n  \r\n  // 释放预览URL内存\r\n  if (avatarPreview.value) {\r\n    uploadApi.releaseFilePreviewUrl(avatarPreview.value)\r\n    avatarPreview.value = null\r\n  }\r\n}\r\n\r\nconst handleAvatarError = (event: Event) => {\r\n  console.log('头像加载失败，使用默认头像')\r\n  const target = event.target as HTMLImageElement\r\n  target.style.display = 'none'\r\n}\r\n\r\n// 日期格式化\r\nconst formatDate = (dateString?: string) => {\r\n  if (!dateString) return ''\r\n  return new Date(dateString).toLocaleDateString('zh-CN')\r\n}\r\n\r\n// 加载用户评论\r\nconst loadUserReviews = async () => {\r\n  try {\r\n    loadingReviews.value = true\r\n    const response = await api.reviews.getMyReviews()\r\n    if (response.data) {\r\n      userReviews.value = response.data.reviews\r\n      reviewsCount.value = response.data.pagination.total_items\r\n      // 计算平均评分\r\n      if (response.data.reviews.length > 0) {\r\n        const totalRating = response.data.reviews.reduce((sum, review) => sum + review.rating, 0)\r\n        averageRating.value = Math.round((totalRating / response.data.reviews.length) * 10) / 10\r\n      }\r\n      // 计算获得点赞数\r\n      helpfulCount.value = response.data.reviews.reduce((sum, review) => sum + review.helpful_count, 0)\r\n    }\r\n  } catch (error) {\r\n    console.error('加载用户评论失败:', error)\r\n  } finally {\r\n    loadingReviews.value = false\r\n  }\r\n}\r\n\r\n// 编辑评论\r\nconst editReview = (review: any) => {\r\n  // 这里可以跳转到编辑页面或者弹出编辑弹窗\r\n  console.log('编辑评论:', review)\r\n  // 实际实现可以是跳转到专门的编辑页面\r\n  // $router.push(`/my-reviews/${review.id}/edit`)\r\n}\r\n\r\n// 删除评论\r\nconst deleteReview = async (reviewId: number) => {\r\n  try {\r\n    const confirmed = confirm('确定要删除这条评论吗？')\r\n    if (!confirmed) return\r\n    \r\n    await api.reviews.deleteReview(reviewId)\r\n    success('评论删除成功')\r\n    \r\n    // 重新加载评论列表\r\n    await loadUserReviews()\r\n  } catch (error) {\r\n    console.error('删除评论失败:', error)\r\n    error('删除评论失败，请重试')\r\n  }\r\n}\r\n\r\n// 获取评论状态文本\r\nconst getReviewStatusText = (status) => {\r\n  const statusMap = {\r\n    'pending': '待审核',\r\n    'approved': '已通过',\r\n    'rejected': '已拒绝'\r\n  }\r\n  return statusMap[status] || '未知'\r\n}\r\n\r\n// 监听activeTab变化，当切换到评论标签时加载评论\r\nwatch(activeTab, (newTab) => {\r\n  if (newTab === 'reviews') {\r\n    loadUserReviews()\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.glass-card-dark {\r\n  background: rgba(31, 41, 55, 0.8);\r\n  backdrop-filter: blur(20px);\r\n  -webkit-backdrop-filter: blur(20px);\r\n}\r\n\r\n.glass-morphism-dark {\r\n  background: rgba(17, 24, 39, 0.6);\r\n  backdrop-filter: blur(10px);\r\n  -webkit-backdrop-filter: blur(10px);\r\n}\r\n\r\n.btn-premium-dark {\r\n  background: linear-gradient(135deg, #0891b2 0%, #0f766e 100%);\r\n  color: white;\r\n  border: none;\r\n  box-shadow: 0 4px 12px rgba(8, 145, 178, 0.3);\r\n}\r\n\r\n.btn-premium-dark:hover {\r\n  box-shadow: 0 6px 16px rgba(8, 145, 178, 0.4);\r\n}\r\n\r\n.btn-outline-dark {\r\n  background: transparent;\r\n  color: #9ca3af;\r\n  border: 1px solid #4b5563;\r\n}\r\n\r\n.btn-outline-dark:hover {\r\n  color: white;\r\n  border-color: #06b6d4;\r\n}\r\n\r\n.input-dark {\r\n  background: rgba(17, 24, 39, 0.6);\r\n  border: 1px solid #4b5563;\r\n  color: white;\r\n  padding: 0.75rem 1rem;\r\n  border-radius: 0.5rem;\r\n  backdrop-filter: blur(10px);\r\n  -webkit-backdrop-filter: blur(10px);\r\n}\r\n\r\n.input-dark:focus {\r\n  outline: none;\r\n  border-color: #06b6d4;\r\n  box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.1);\r\n}\r\n\r\n.input-dark::placeholder {\r\n  color: #6b7280;\r\n}\r\n\r\n.animate-fade-in-up {\r\n  animation: fadeInUp 0.6s ease-out;\r\n}\r\n\r\n.animate-fade-in {\r\n  animation: fadeIn 0.3s ease-out;\r\n}\r\n\r\n.animate-scale-in {\r\n  animation: scaleIn 0.3s ease-out;\r\n}\r\n\r\n.animate-bounce-gentle {\r\n  animation: bounceGentle 2s ease-in-out infinite;\r\n}\r\n\r\n.animation-delay-200 {\r\n  animation-delay: 0.2s;\r\n}\r\n\r\n.animation-delay-400 {\r\n  animation-delay: 0.4s;\r\n}\r\n\r\n@keyframes fadeInUp {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes scaleIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: scale(0.9);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n  }\r\n}\r\n\r\n@keyframes bounceGentle {\r\n  0%, 100% {\r\n    transform: translateY(0);\r\n  }\r\n  50% {\r\n    transform: translateY(-5px);\r\n  }\r\n}\r\n</style> "],"names":["error","_a","_unref","_push","_parent","_ssrRenderAttr","_ssrInterpolate","_ssrRenderClass","_ssrRenderList","_","_scopeId","_createVNode","_ssrIncludeBooleanAttr","_createBlock","_openBlock","_toDisplayString","_Fragment","_renderList","_vModelText","_createTextVNode"],"mappings":"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"}